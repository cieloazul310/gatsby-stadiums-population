{"version":3,"sources":["webpack:///./src/pages/index.tsx","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/TableApp.tsx","webpack:///./src/utils/types.ts","webpack:///./src/utils/withRoot.tsx","webpack:///./src/utils/getPageContext.ts"],"names":["IndexPage","render","classes","this","props","Object","_emotion_core__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_AppBar__WEBPACK_IMPORTED_MODULE_5___default","a","_material_ui_core_Toolbar__WEBPACK_IMPORTED_MODULE_6___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_7___default","variant","color","className","content","_components_TableApp__WEBPACK_IMPORTED_MODULE_9__","title","data","allVenuesJson","edges","appState","location","state","initialAppState","React","withRoot","withStyles","theme","createStyles","root","textAlign","width","paddingTop","query","StaticQueryContext","createContext","StaticQuery","_emotion_core__WEBPACK_IMPORTED_MODULE_0__","Consumer","staticQueryData","children","graphql","Error","propTypes","PropTypes","object","string","isRequired","func","m","module","exports","require","default","ProdPageRenderer","_ref","pageResources","loader","getResourcesForPathnameSync","pathname","createElement","InternalPageRenderer","assign","json","shape","TableApp","anchorEl","undefined","_this","tableState","menuOpen","ascSort","sortKey","_handleSort","index","setState","prevState","_this2","_this$props","_this$state","_emotion_core__WEBPACK_IMPORTED_MODULE_5__","_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_15___default","_material_ui_core_Toolbar__WEBPACK_IMPORTED_MODULE_8___default","style","flex","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_27___default","_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_16___default","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_17___default","aria-owns","aria-haspopup","buttonRef","node","onClick","prev","_material_ui_icons_FilterList__WEBPACK_IMPORTED_MODULE_18___default","_material_ui_core_Popper__WEBPACK_IMPORTED_MODULE_19___default","filterMenuWrapper","open","transition","disablePortal","placement","TransitionProps","_material_ui_core_Grow__WEBPACK_IMPORTED_MODULE_20___default","_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2___default","id","transformOrigin","_material_ui_core_ClickAwayListener__WEBPACK_IMPORTED_MODULE_21___default","onClickAway","event","contains","target","_material_ui_core_MenuList__WEBPACK_IMPORTED_MODULE_22___default","map","str","_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_23___default","key","_material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_24___default","_material_ui_icons_CheckCircle__WEBPACK_IMPORTED_MODULE_26___default","_material_ui_core_ListItemText__WEBPACK_IMPORTED_MODULE_25___default","inset","primary","tableWrapper","_material_ui_core_Table__WEBPACK_IMPORTED_MODULE_9___default","table","_material_ui_core_TableHead__WEBPACK_IMPORTED_MODULE_12___default","_material_ui_core_TableRow__WEBPACK_IMPORTED_MODULE_13___default","_material_ui_core_TableCell__WEBPACK_IMPORTED_MODULE_11___default","indexCell","align","nameCell","_material_ui_core_TableSortLabel__WEBPACK_IMPORTED_MODULE_14___default","active","direction","_material_ui_core_TableBody__WEBPACK_IMPORTED_MODULE_10___default","sortData","datum","component","scope","gatsby__WEBPACK_IMPORTED_MODULE_7__","to","summary","slug","mapState","name","radius1000","toLocaleString","radius3000","radius5000","radius10000","isAsc","sortProperty","sort","b","marginTop","spacing","unit","minWidth","overflowX","padding","zIndex","__webpack_require__","d","__webpack_exports__","popVisibility","bufferVisibility","zoomLevel","Component","_React$PureComponent","WithRoot","_len","arguments","length","args","Array","_key","call","apply","concat","muiPageContext","getPageContext","_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_0___default","_proto","prototype","componentDidMount","jssStyles","document","querySelector","parentNode","removeChild","react_jss_lib_JssProvider__WEBPACK_IMPORTED_MODULE_5___default","generateClassName","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__","sheetsManager","_material_ui_core_CssBaseline__WEBPACK_IMPORTED_MODULE_4___default","createMuiTheme","palette","blue","typography","useNextVariants","createPageContext","Map","sheetsRegistry","SheetsRegistry","createGenerateClassName","process","browser","global","__INIT_MATERIAL_UI__"],"mappings":"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","file":"component---src-pages-index-tsx-dc154fca73174907f58c.js","sourcesContent":["import * as React from 'react';\nimport { graphql } from 'gatsby';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport AppBar from '@material-ui/core/AppBar';\nimport ToolBar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport withRoot from '../utils/withRoot';\nimport TableApp from '../components/TableApp';\nimport { VenueEdge, LocationWithState, AppState, initialAppState } from '../utils/types';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      textAlign: 'center',\n      width: '100%'\n    },\n    content: {\n      paddingTop: 56\n    }\n  });\n\ninterface Props extends WithStyles<typeof styles> {\n  data: {\n    allVenuesJson: {\n      edges: Array<VenueEdge>;\n    };\n  };\n  location: LocationWithState;\n}\n\nclass IndexPage extends React.PureComponent<Props> {\n  render() {\n    const { classes } = this.props;\n    return (\n      <div>\n        <AppBar>\n          <ToolBar>\n            <Typography variant=\"h6\" color=\"inherit\">\n              スタジアムと距離圏人口\n            </Typography>\n          </ToolBar>\n        </AppBar>\n        <div className={classes.content}>\n          <TableApp\n            title=\"スタジアムと距離圏人口\"\n            data={this.props.data.allVenuesJson.edges}\n            appState={this.props.location.state || initialAppState}\n          />\n        </div>\n      </div>\n    );\n  }\n}\nexport default withRoot(withStyles(styles)(IndexPage));\n\nexport const query = graphql`\n  {\n    allVenuesJson {\n      edges {\n        node {\n          summary {\n            name\n            club\n            category\n            shortname\n            slug\n            radius1000\n            radius3000\n            radius5000\n            radius10000\n          }\n        }\n      }\n    }\n  }\n`;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import * as React from 'react';\nimport { Link } from 'gatsby';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Paper from '@material-ui/core/Paper';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport Popper from '@material-ui/core/Popper';\nimport Grow from '@material-ui/core/Grow';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport MenuList from '@material-ui/core/MenuList';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport { VenueEdge, AppState, TableState } from '../utils/types';\n\nconst tableStyles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      width: '100%',\n      marginTop: theme.spacing.unit * 3\n    },\n    table: {\n      minWidth: 760\n    },\n    tableWrapper: {\n      overflowX: 'auto'\n    },\n    indexCell: {\n      width: '2em',\n      padding: '4px 8px 4px 8px'\n    },\n    nameCell: {\n      width: '16em',\n      padding: '4px 16px 4px 24px'\n    },\n    filterMenuWrapper: {\n      zIndex: 1\n    }\n  });\n\ninterface Summary {\n  name: string;\n  club: string;\n  category: string;\n  shortname: string;\n  slug: string;\n  radius1000: number;\n  radius3000: number;\n  radius5000: number;\n  radius10000: number;\n}\n\ninterface Props extends WithStyles<typeof tableStyles> {\n  title: string;\n  data: Array<VenueEdge>;\n  appState: AppState | null;\n}\n\ninterface State extends TableState {\n  readonly menuOpen: boolean;\n}\n\nclass TableApp extends React.Component<Props, State> {\n  private anchorEl: HTMLElement = undefined;\n  readonly state: State = this.props.appState\n    ? {\n        ...this.props.appState.tableState,\n        menuOpen: false\n      }\n    : {\n        ascSort: false,\n        sortKey: 3,\n        menuOpen: false\n      };\n\n  private _handleSort = (index: number) => {\n    this.setState(prevState => ({\n      ascSort: prevState.sortKey === index ? !prevState.ascSort : false,\n      sortKey: index\n    }));\n  };\n\n  public render() {\n    const { classes, title, data, appState } = this.props;\n    const { ascSort, sortKey, menuOpen } = this.state;\n    return (\n      <Paper className={classes.root}>\n        <Toolbar>\n          <div style={{ flex: '0 0 auto' }}>\n            <Typography variant=\"h6\">{title}</Typography>\n          </div>\n          <div style={{ flex: '1 1 100%' }} />\n          <div>\n            <div>\n              <Tooltip title=\"Filter\">\n                <IconButton\n                  aria-owns={menuOpen ? 'menu-list' : undefined}\n                  aria-haspopup=\"true\"\n                  buttonRef={node => {\n                    this.anchorEl = node;\n                  }}\n                  onClick={() => {\n                    this.setState(prev => ({ menuOpen: !prev.menuOpen }));\n                  }}\n                >\n                  <FilterListIcon />\n                </IconButton>\n              </Tooltip>\n              <Popper\n                className={classes.filterMenuWrapper}\n                anchorEl={this.anchorEl}\n                open={menuOpen}\n                transition\n                disablePortal\n                placement=\"bottom-end\"\n              >\n                {({ TransitionProps }) => (\n                  <Grow id=\"menu-list\" {...TransitionProps} style={{ transformOrigin: 'right top' }}>\n                    <Paper>\n                      <ClickAwayListener\n                        onClickAway={event => {\n                          if (this.anchorEl.contains(event.target)) {\n                            return;\n                          }\n                          this.setState({ menuOpen: false });\n                        }}\n                      >\n                        <MenuList>\n                          {['J1', 'J2', 'J3', 'JFL', '地域', 'その他'].map((str, index) => (\n                            <MenuItem key={index}>\n                              <ListItemIcon>\n                                <CheckCircleIcon />\n                              </ListItemIcon>\n                              <ListItemText inset primary={str} />\n                            </MenuItem>\n                          ))}\n                        </MenuList>\n                      </ClickAwayListener>\n                    </Paper>\n                  </Grow>\n                )}\n              </Popper>\n            </div>\n          </div>\n        </Toolbar>\n        <div className={classes.tableWrapper}>\n          <Table className={classes.table}>\n            <TableHead>\n              <TableRow>\n                <TableCell className={classes.indexCell} align=\"right\">\n                  i\n                </TableCell>\n                <TableCell className={classes.nameCell}>name</TableCell>\n                {['1km', '3km', '5km', '10km'].map((str, index) => (\n                  <TableCell key={index} align=\"right\">\n                    <TableSortLabel active={index === sortKey} direction={ascSort ? 'asc' : 'desc'} onClick={() => this._handleSort(index)}>\n                      {str}\n                    </TableSortLabel>\n                  </TableCell>\n                ))}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {sortData(data, ascSort, sortKey).map((datum, index) => (\n                <TableRow key={index}>\n                  <TableCell className={classes.indexCell} component=\"th\" scope=\"row\" align=\"right\">\n                    {index + 1}\n                  </TableCell>\n                  <TableCell className={classes.nameCell} component=\"th\" scope=\"row\">\n                    <Link\n                      to={`/${datum.node.summary.slug}/`}\n                      state={{\n                        mapState: appState.mapState || null,\n                        tableState: {\n                          ascSort,\n                          sortKey\n                        }\n                      }}\n                    >\n                      {datum.node.summary.name}\n                    </Link>\n                  </TableCell>\n                  <TableCell align=\"right\">{datum.node.summary.radius1000.toLocaleString()}</TableCell>\n                  <TableCell align=\"right\">{datum.node.summary.radius3000.toLocaleString()}</TableCell>\n                  <TableCell align=\"right\">{datum.node.summary.radius5000.toLocaleString()}</TableCell>\n                  <TableCell align=\"right\">{datum.node.summary.radius10000.toLocaleString()}</TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </div>\n      </Paper>\n    );\n  }\n}\n\nexport default withStyles(tableStyles)(TableApp);\n\n// utils\n\nexport function sortData(data: Array<{ node: { summary: Summary } }>, ascSort: boolean, sortKey: number) {\n  const isAsc = ascSort ? 1 : -1;\n  const sortProperty = sortKey === 0 ? 'radius1000' : sortKey === 1 ? 'radius3000' : sortKey === 2 ? 'radius5000' : 'radius10000';\n\n  return data.sort((a, b) => isAsc * (a.node.summary[sortProperty] - b.node.summary[sortProperty]));\n}\n","import { Feature, Polygon } from '@turf/helpers';\nimport { LocationProps } from '@reach/router';\n\nexport const initialAppState: AppState = {\n  tableState: {\n    ascSort: false,\n    sortKey: 3\n  },\n  mapState: {\n    popVisibility: true,\n    bufferVisibility: true,\n    zoomLevel: 3\n  }\n};\n\nexport interface TableState {\n  readonly ascSort: boolean;\n  readonly sortKey: number;\n}\n\nexport interface MapState {\n  readonly popVisibility: boolean;\n  readonly bufferVisibility: boolean;\n  readonly zoomLevel: number;\n}\n\nexport interface AppState {\n  tableState: TableState;\n  mapState: MapState;\n}\n\nexport interface LocationWithState extends LocationProps {\n  state: AppState | null;\n}\n\nexport interface Summary {\n  name: string;\n  club: string;\n  category: string;\n  shortname: string;\n  slug: string;\n  radius1000: number;\n  radius3000: number;\n  radius5000: number;\n  radius10000: number;\n}\n\nexport interface VenueEdge {\n  node: {\n    summary: Summary;\n  };\n}\n\nexport interface BufferPropertis extends EighthDirections {\n  name: string;\n  radius: number;\n  population: number;\n}\n\nexport type Buffer = Feature<Polygon, BufferPropertis>;\n\nexport interface MeshProperties {\n  id: number;\n  val: number;\n}\n\nexport interface ForthDirections {\n  north: number;\n  east: number;\n  south: number;\n  west: number;\n}\n\nexport interface EighthDirections extends ForthDirections {\n  northeast: number;\n  southeast: number;\n  southwest: number;\n  northwest: number;\n}\n","import * as React from 'react';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport JssProvider from 'react-jss/lib/JssProvider';\nimport getPageContext from './getPageContext';\n\nfunction withRoot<P>(Component: React.ComponentType<P>) {\n  class WithRoot extends React.PureComponent<P> {\n    private muiPageContext = getPageContext();\n    componentDidMount() {\n      const jssStyles = document.querySelector('#jss-server-side');\n      if (jssStyles && jssStyles.parentNode) {\n        jssStyles.parentNode.removeChild(jssStyles);\n      }\n    }\n\n    public render() {\n      return (\n        <JssProvider generateClassName={this.muiPageContext.generateClassName}>\n          <MuiThemeProvider theme={this.muiPageContext.theme} sheetsManager={this.muiPageContext.sheetsManager}>\n            <CssBaseline />\n            <Component {...this.props} />\n          </MuiThemeProvider>\n        </JssProvider>\n      );\n    }\n  }\n\n  return WithRoot;\n}\n\nexport default withRoot;\n","/* eslint-disable no-underscore-dangle */\n\nimport { SheetsRegistry } from 'jss';\nimport { createMuiTheme, createGenerateClassName } from '@material-ui/core/styles';\nimport blue from '@material-ui/core/colors/blue';\n\n// A theme with custom primary and secondary color.\n// It's optional.\nconst theme = createMuiTheme({\n  palette: {\n    primary: blue\n  },\n  typography: {\n    useNextVariants: true\n  }\n});\n\nfunction createPageContext() {\n  return {\n    theme,\n    // This is needed in order to deduplicate the injection of CSS in the page.\n    sheetsManager: new Map(),\n    // This is needed in order to inject the critical CSS.\n    sheetsRegistry: new SheetsRegistry(),\n    // The standard class name generator.\n    generateClassName: createGenerateClassName()\n  };\n}\n\nexport default function getPageContext() {\n  // Make sure to create a new context for every server-side request so that data\n  // isn't shared between connections (which would be bad).\n  if (!process.browser) {\n    return createPageContext();\n  }\n\n  // Reuse context on the client-side.\n  if (!global.__INIT_MATERIAL_UI__) {\n    global.__INIT_MATERIAL_UI__ = createPageContext();\n  }\n\n  return global.__INIT_MATERIAL_UI__;\n}\n"],"sourceRoot":""}