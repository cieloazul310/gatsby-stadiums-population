{"version":3,"sources":["webpack:///./src/utils/tileTree.ts","webpack:///./src/components/MeshFeature.tsx","webpack:///./src/components/GrayScaleFilter.tsx","webpack:///./src/components/MapApp.tsx","webpack:///./src/components/MapLegends.tsx","webpack:///./src/components/BuffersArcs.tsx","webpack:///./src/components/ValuesTable.tsx","webpack:///./src/components/fa-buttons/TwitterIcon.tsx","webpack:///./src/components/fa-buttons/FacebookIcon.tsx","webpack:///./src/templates/maps.tsx","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/TableApp.tsx","webpack:///./src/utils/types.ts","webpack:///./src/utils/withRoot.tsx","webpack:///./src/utils/getPageContext.ts","webpack:///./src/image/place.svg"],"names":["TileSet","options","this","tileUrl","url","maxZoom","minZoom","tileTree","treeIncludesTile","tile","x","y","z","hasOwnProperty","toString","tile2tree","_x$toString","_this$tileTree$z$toSt","_this$tileTree$z$toSt2","fetchTiles","tiles","_this","Promise","resolve","tasks","map","fetchTile","all","then","data","_this2","fetchUrl","replace","fetch","res","ok","Error","blob","tileWithURL","Object","assign","URL","createObjectURL","catch","undefined","isRequireFetch","_this3","every","setTileUrlFromTree","_this4","filter","updateTiles","_callee","newTiles","tilesInTree","tilesShouldFetch","fetchedTiles","_this5","regenerator_default","a","wrap","_context","prev","next","sent","abrupt","concat","stop","colorScale","scaleSequential","interpolateSpectral","domain","sizeScale","scalePow","range","exponent","MeshRect","props","feature","projection","val","properties","center","geometry","coordinates","size","Math","abs","min","max","scale","core_browser_esm","fill","fillOpacity","width","height","style","mixBlendMode","filterMatrix","GrayScaleFilter","id","type","values","join","d3tile","require","Map","state","fetchStatus","_tileSet","_getTileCoordinates","_this$props","PI","translate","v","index","array","mag","_fetchTiles","componentDidMount","render","_this$props2","classes","buffers","geojson","mapState","popVisibility","bufferVisibility","zoomLevel","geoMercator","fitExtent","path","geoPath","tileCoords","renderTiles","hoge","LinearProgress_default","className","progress","color","setState","root","components_GrayScaleFilter","opacity","key","xlinkHref","imageRendering","points","features","MeshFeature","bb","bbox","lb","buffer","d","stroke","strokeWidth","bufferText","dy","textAnchor","radius","Place","transform","React","withStyles","theme","createStyles","&:hover","fontSize","fontFamily","fontWeight","position","top","left","display","flexDirection","alignItems","legends","justifyContent","legendItem","padding","spacing","unit","Typography_default","variant","themes","arc","dirs","str","direction","items","arr","directions","angle","length","startAngle","indexOf","endAngle","from","to","buffersToDirection","dir","item","i","d3arc","outerRadius","innerRadius","padAngle","calcDensity","pow","thead","summary","club","category","radius1000","radius3000","radius5000","radius10000","Table_default","TableBody_default","TableRow_default","TableCell_default","align","toLocaleString","TwitterIcon","componentWillMount","library","add","faTwitter","Icon_default","react_fontawesome_index_es","icon","FacebookIcon","faFacebook","MapPage","location","drawerOpen","initialAppState","handleDrawerToggle","handlePopVisibility","handleBufferVisibility","handleZoomIn","handleZoomOut","_this$state","tableState","edges","allVenuesJson","_data$venuesJson","venuesJson","topojson","topofeature","objects","others","sortData","ascSort","sortKey","filterRule","sortProp","name","slug","shortname","drawer","toolbar","List_default","ListItem_default","button","onClick","navigate","ListItemIcon_default","Reply_default","ListItemText_default","Divider_default","components_ValuesTable","subheader","ListSubheader_default","Hidden_default","smDown","implementation","selected","ZoomIn_default","ZoomOut_default","primary","Landscape_default","People_default","ListItemSecondaryAction_default","Switch_default","onChange","checked","Adjust_default","component","href","encodeURI","encodeURIComponent","target","rel","fa_buttons_TwitterIcon","fa_buttons_FacebookIcon","createSortString","edge","node","itemTitle","secondary","itemNumber","Helmet_default","content","createDescriptionString","property","AppBar_default","appBar","Toolbar_default","IconButton_default","menuButton","aria-owns","aria-haspopup","Menu_default","apptitle","currentIndex","ArrowForward_default","mdUp","SwipeableDrawer_default","open","onClose","onOpen","paper","drawerPaper","Drawer_default","autoSizerWrapper","es","_ref","MapApp","Fab_default","fabZoomIn","disabled","Add_default","fabZoomOut","Remove_default","components_MapLegends","description","descTitle","buffersWrapper","disableHeight","_ref2","BuffersArcs","gatsby_browser_entry","withRoot","_drawer","_appBar","_menuButton","_apptitle","breakpoints","up","flexShrink","marginLeft","marginRight","mixins","textAlign","flexGrow","paddingTop","@media (min-width: 600px)","lineHeight","down","bottom","right","maxWidth","margin","descParagraph","paddingLeft","paddingRight","query","StaticQueryContext","createContext","StaticQuery","_emotion_core__WEBPACK_IMPORTED_MODULE_0__","Consumer","staticQueryData","children","graphql","propTypes","PropTypes","object","string","isRequired","func","m","module","exports","default","ProdPageRenderer","pageResources","loader","getResourcesForPathnameSync","pathname","createElement","InternalPageRenderer","json","shape","TableApp","anchorEl","appState","menuOpen","_handleSort","prevState","_handleFilterRule","title","_emotion_core__WEBPACK_IMPORTED_MODULE_5__","_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_15___default","_material_ui_core_Toolbar__WEBPACK_IMPORTED_MODULE_8___default","flex","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_28___default","_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_16___default","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_17___default","buttonRef","_material_ui_icons_FilterList__WEBPACK_IMPORTED_MODULE_18___default","_material_ui_core_Popper__WEBPACK_IMPORTED_MODULE_19___default","filterMenuWrapper","transition","disablePortal","placement","TransitionProps","_material_ui_core_Grow__WEBPACK_IMPORTED_MODULE_20___default","_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2___default","transformOrigin","_material_ui_core_ClickAwayListener__WEBPACK_IMPORTED_MODULE_21___default","onClickAway","event","contains","_material_ui_core_MenuList__WEBPACK_IMPORTED_MODULE_22___default","_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_23___default","_material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_24___default","_material_ui_icons_CheckCircle__WEBPACK_IMPORTED_MODULE_26___default","_material_ui_icons_Remove__WEBPACK_IMPORTED_MODULE_27___default","_material_ui_core_ListItemText__WEBPACK_IMPORTED_MODULE_25___default","inset","tableWrapper","_material_ui_core_Table__WEBPACK_IMPORTED_MODULE_9___default","table","_material_ui_core_TableHead__WEBPACK_IMPORTED_MODULE_12___default","_material_ui_core_TableRow__WEBPACK_IMPORTED_MODULE_13___default","_material_ui_core_TableCell__WEBPACK_IMPORTED_MODULE_11___default","indexCell","nameCell","_material_ui_core_TableSortLabel__WEBPACK_IMPORTED_MODULE_14___default","active","_material_ui_core_TableBody__WEBPACK_IMPORTED_MODULE_10___default","datum","scope","gatsby__WEBPACK_IMPORTED_MODULE_7__","isAsc","sortProperty","some","sort","b","marginTop","minWidth","overflowX","zIndex","__webpack_require__","__webpack_exports__","Component","_React$PureComponent","WithRoot","_len","arguments","args","Array","_key","call","apply","muiPageContext","getPageContext","_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_0___default","_proto","prototype","jssStyles","document","querySelector","parentNode","removeChild","_emotion_core__WEBPACK_IMPORTED_MODULE_1__","react_jss_lib_JssProvider__WEBPACK_IMPORTED_MODULE_5___default","generateClassName","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__","sheetsManager","_material_ui_core_CssBaseline__WEBPACK_IMPORTED_MODULE_4___default","createMuiTheme","palette","blue","typography","useNextVariants","createPageContext","sheetsRegistry","SheetsRegistry","createGenerateClassName","process","browser","global","__INIT_MATERIAL_UI__"],"mappings":"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","file":"component---src-templates-maps-tsx-97feb02cef3d19ce14ca.js","sourcesContent":["import fetch from 'isomorphic-fetch';\n\nexport interface Tile {\n  id: string;\n  x: number;\n  y: number;\n  z: number;\n  tx: number;\n  ty: number;\n  scale: number;\n  translate: [number, number];\n  mag: number;\n}\n\ntype TileUrl = string | undefined;\n\nexport interface TileWithURL extends Tile {\n  url: TileUrl;\n}\n\nexport interface TileTree {\n  [key: string]: {\n    [key: string]: {\n      [key: string]: TileUrl;\n    };\n  };\n}\n\ninterface TileSetOptions {\n  url?: string;\n  maxZoom?: number;\n  minZoom?: number;\n}\n\nclass TileSet {\n  readonly tileTree: TileTree;\n  readonly maxZoom: number;\n  readonly minZoom: number;\n  readonly tileUrl: string;\n  constructor(options: TileSetOptions = {}) {\n    this.tileUrl = options.url || '//cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png';\n    this.maxZoom = options.maxZoom || 20;\n    this.minZoom = options.maxZoom || 2;\n    this.tileTree = {};\n  }\n\n  private treeIncludesTile(tile: Tile): boolean {\n    const { x, y, z } = tile;\n    return (\n      this.tileTree.hasOwnProperty(z.toString()) &&\n      this.tileTree[z.toString()].hasOwnProperty(x.toString()) &&\n      this.tileTree[z.toString()][x.toString()].hasOwnProperty(y.toString())\n    );\n  }\n\n  private tile2tree(tile: TileWithURL) {\n    const { x, y, z, url } = tile;\n    if (!this.tileTree.hasOwnProperty(z.toString())) {\n      this.tileTree[z.toString()] = {\n        [x.toString()]: {\n          [y.toString()]: url\n        }\n      };\n    } else if (!this.tileTree[z.toString()].hasOwnProperty(x.toString())) {\n      this.tileTree[z.toString()][x.toString()] = {\n        [y.toString()]: url\n      };\n    } else {\n      this.tileTree[z.toString()][x.toString()][y.toString()] = url;\n    }\n  }\n  // fetch new tiles\n  private fetchTiles(tiles: Tile[]): Promise<TileWithURL[]> {\n    return new Promise(resolve => {\n      const tasks = tiles.map(tile => this.fetchTile(tile, this.tileUrl));\n      Promise.all(tasks).then((data: TileWithURL[]) => {\n        resolve(data);\n      });\n    });\n  }\n  private fetchTile(tile: Tile, url: string): Promise<TileWithURL> {\n    const { x, y, z } = tile;\n    const fetchUrl = url.replace('{z}/{x}/{y}', `${z}/${x}/${y}`);\n\n    return fetch(fetchUrl)\n      .then(res => {\n        if (!res.ok) throw new Error();\n        return res.blob();\n      })\n      .then(blob => {\n        const tileWithURL: TileWithURL = {\n          ...tile,\n          url: URL.createObjectURL(blob)\n        };\n        this.tile2tree(tileWithURL);\n        return tileWithURL;\n      })\n      .catch(() => {\n        const tileWithURL: TileWithURL = {\n          ...tile,\n          url: undefined\n        };\n        this.tile2tree(tileWithURL);\n        return tileWithURL;\n      });\n  }\n\n  // helpers\n\n  public isRequireFetch(tiles: Tile[]): boolean {\n    return !tiles.every(tile => this.treeIncludesTile(tile));\n  }\n\n  public setTileUrlFromTree(tiles: Tile[]): TileWithURL[] {\n    return tiles\n      .filter(tile => this.treeIncludesTile(tile))\n      .map(tile => ({\n        ...tile,\n        url: this.tileTree[tile.z][tile.x][tile.y]\n      }));\n  }\n\n  public async updateTiles(newTiles: Tile[]) {\n    const tilesInTree = this.setTileUrlFromTree(newTiles.filter(tile => this.treeIncludesTile(tile)));\n\n    const tilesShouldFetch = newTiles.filter(tile => !this.treeIncludesTile(tile));\n\n    const fetchedTiles: TileWithURL[] = await this.fetchTiles(tilesShouldFetch);\n\n    return [...tilesInTree, ...fetchedTiles];\n  }\n}\n\nexport default TileSet;\n","import * as React from 'react';\nimport { scaleLinear, scalePow, scaleSequential } from 'd3-scale';\nimport { interpolateSpectral } from 'd3-scale-chromatic';\nimport { Feature, Point } from '@turf/helpers';\nimport { GeoProjection } from 'd3-geo';\n\nimport { MeshProperties } from '../utils/types';\n\ninterface Props {\n  feature: Feature<Point, MeshProperties>;\n  projection: GeoProjection;\n}\n\nexport const colorScale = scaleSequential(interpolateSpectral).domain([1250, 0]);\n\nexport const sizeScale = scalePow()\n  .domain([0, 1000])\n  .range([0, 8])\n  .exponent(0.5);\n\nconst MeshRect: React.FunctionComponent<Props> = (props: Props) => {\n  const { feature, projection } = props;\n  const { val } = feature.properties;\n  const center = projection(feature.geometry.coordinates);\n  const size = Math.abs(sizeScale(val) * Math.min(Math.max(1, projection.scale() / 125000), 2.5));\n\n  return (\n    <rect\n      fill={colorScale(val)}\n      fillOpacity={0.6}\n      x={center[0] - size / 2}\n      y={center[1] - size / 2}\n      width={size}\n      height={size}\n      style={{ mixBlendMode: 'multiply' }}\n    />\n  );\n};\n\nexport default MeshRect;\n","import * as React from 'react';\n/*\nconst filterMatrix = [\n  \"0.3333 0.3333 0.3333 0 0\",\n  \"0.3333 0.3333 0.3333 0 0\",\n  \"0.3333 0.3333 0.3333 0 0\",\n  \"0 0 0 1 0\"\n];\n*/\nconst filterMatrix = ['0.3333 0.3333 0.3333 0 0', '0.3333 0.3333 0.3333 0 0', '0.3333 0.3333 0.3333 0 0', '0 0 0 1 0'];\n\ninterface Props {\n  id: string;\n}\n\nconst GrayScaleFilter: React.FunctionComponent<Props> = (props: Props) => (\n  <filter id={props.id}>\n    <feColorMatrix type=\"matrix\" values={filterMatrix.join(' ')} />\n  </filter>\n);\n\nexport default GrayScaleFilter;\n","import * as React from 'react';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nconst d3tile = require('d3-tile').tile;\n\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport bbox from '@turf/bbox';\nimport { geoMercator, geoPath, GeoProjection, GeoPath } from 'd3-geo';\nimport TileSet, { Tile, TileWithURL } from '../utils/tileTree';\nimport MeshFeature from '../components/MeshFeature';\nimport GrayScaleFilter from '../components/GrayScaleFilter';\nimport { Feature, Point } from '@turf/helpers';\nimport { Buffer, MeshProperties, MapState } from '../utils/types';\n\nimport Place from '../image/place.svg';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {},\n    buffer: {\n      opacity: 0.2,\n      '&:hover': {\n        opacity: 1\n      }\n    },\n    bufferText: { fontSize: '80%', fontFamily: 'sans-serif', fontWeight: 'bold' },\n    progress: {\n      position: 'absolute',\n      width: '100%',\n      top: 0,\n      left: 0\n    },\n    points: {\n      mixBlendMode: 'multiply'\n    }\n  });\n\ninterface D3TileArray<T> extends Array<T> {\n  scale: number;\n  translate: [number, number];\n}\n\ninterface Props extends WithStyles<typeof styles> {\n  width: number;\n  height: number;\n  mapState: MapState;\n  geojson: {\n    type: 'FeatureCollection';\n    features: Feature<Point, MeshProperties>[];\n  };\n  buffers: Buffer[];\n}\n\ninterface State {\n  readonly fetchStatus?: 'yet' | 'fetching' | 'fetched';\n}\n\nclass Map extends React.Component<Props, State> {\n  readonly state: State = {\n    fetchStatus: 'yet'\n  };\n  private _tileSet = new TileSet();\n  // Tile Maps\n  // slope: //cyberjapandata.gsi.go.jp/xyz/slopemap/{z}/{x}/{y}.png\n\n  private _getTileCoordinates = (projection: GeoProjection): Tile[] => {\n    const { width, height } = this.props;\n    let mag: number = 1.5;\n    /*\n    const zoomer = Math.log2((projection.scale() * 2 * mag * Math.PI) / 256);\n    const maxZoom = 15;\n    // required zoom level > maxZoom\n    if (zoomer >= maxZoom + 0.5) {\n      mag = Math.pow(2, maxZoom + 0.5 - zoomer);\n    }\n    */\n    const tiles: Tile[] = d3tile()\n      .size([width * mag, height * mag])\n      .scale(projection.scale() * 2 * Math.PI * mag)\n      .translate(projection([0, 0]).map(v => v * mag))()\n      .map((tile: { x: number; y: number; z: number }, index: number, array: D3TileArray<Tile>) => ({\n        ...tile,\n        mag,\n        id: `${tile.z}/${tile.x}/${tile.y}`,\n        scale: array.scale,\n        translate: array.translate\n      }));\n\n    return tiles;\n  };\n\n  private _fetchTiles = (tiles: Tile[]) => {\n    return this._tileSet.updateTiles(tiles);\n  };\n\n  componentDidMount() {}\n\n  public render() {\n    const { classes, buffers, geojson, mapState } = this.props;\n    const { popVisibility, bufferVisibility, zoomLevel } = mapState;\n    const width = this.props.width || 400;\n    const height = this.props.height || 400;\n    const projection = buffers ? geoMercator().fitExtent([[10, 40], [width - 10, height - 40]], buffers[zoomLevel]) : geoMercator();\n\n    const path: GeoPath = geoPath(projection);\n    const tileCoords = this._getTileCoordinates(projection);\n\n    let renderTiles: TileWithURL[] = this._tileSet.setTileUrlFromTree(tileCoords);\n    let hoge = null;\n    if (this._tileSet.isRequireFetch(tileCoords)) {\n      hoge = <LinearProgress className={classes.progress} color=\"secondary\" />;\n      this._fetchTiles(tileCoords).then(() => {\n        this.setState({ fetchStatus: 'fetched' });\n      });\n    }\n\n    return (\n      <div className={classes.root}>\n        <svg width={width} height={height}>\n          <g>\n            <GrayScaleFilter id=\"grayscale\" />\n            <g filter=\"url(#grayscale)\" className={classes.tiles} style={{ opacity: this.state.fetchStatus !== 'fetching' ? 1 : 0 }}>\n              {renderTiles.map((tile, index) => (\n                <image\n                  key={index}\n                  id={tile.id}\n                  className={tile.mag.toString()}\n                  xlinkHref={tile.url}\n                  x={((tile.x + tile.translate[0]) * tile.scale) / tile.mag}\n                  y={((tile.y + tile.translate[1]) * tile.scale) / tile.mag}\n                  width={tile.scale / tile.mag}\n                  height={tile.scale / tile.mag}\n                  imageRendering=\"optimizeQuality\"\n                />\n              ))}\n            </g>\n          </g>\n          {popVisibility ? (\n            <g className={classes.points} style={{ opacity: this.state.fetchStatus !== 'yet' ? 1 : 0 }}>\n              {geojson\n                ? geojson.features.map((feature, index) =>\n                    feature.geometry.type === 'Point' ? <MeshFeature key={index} feature={feature} projection={projection} /> : null\n                  )\n                : null}\n            </g>\n          ) : null}\n          {bufferVisibility ? (\n            <g>\n              {buffers\n                ? buffers.map((feature, index) => {\n                    const bb = bbox(feature);\n                    const lb = projection([bb[2] + (bb[0] - bb[2]) / 2, bb[1]]);\n                    return (\n                      <g key={index} className={classes.buffer}>\n                        <path d={path(feature) || undefined} fill=\"none\" stroke=\"rgba(255, 255, 255, 0.2)\" strokeWidth={12} />\n                        <path d={path(feature) || undefined} fill=\"none\" stroke=\"rgb(200, 60, 80)\" strokeWidth={3} />\n                        <text className={classes.bufferText} x={lb[0]} y={lb[1]} dy=\"1em\" textAnchor=\"middle\" fill=\"rgb(200, 60, 80)\">\n                          {feature.properties.radius}\n                        </text>\n                      </g>\n                    );\n                  })\n                : null}\n            </g>\n          ) : null}\n          <g>\n            <image xlinkHref={Place} x={width / 2} y={height / 2} width={28} height={28} transform=\"translate(-14, -26)\" />\n          </g>\n        </svg>\n        {hoge || null}\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(Map);\n","import * as React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport { sizeScale, colorScale } from './MeshFeature';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    legends: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'flex-end'\n    },\n    legendItem: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      fontSize: '80%',\n      padding: theme.spacing.unit\n    }\n  });\n\ntype Props = WithStyles<typeof styles>;\n\nconst MapLegends: React.FunctionComponent<Props> = (props: Props) => (\n  <div className={props.classes.root}>\n    <div className={props.classes.legends}>\n      {[100, 250, 500, 750, 1000, 1500, 2000].map(val => {\n        const size = sizeScale(val) * 2;\n        const color = colorScale(val);\n        return (\n          <div className={props.classes.legendItem} key={val}>\n            <svg width={30} height={30}>\n              <rect x={15 - size / 2} y={15 - size / 2} width={size} height={size} fill={color} fillOpacity={1} />\n            </svg>\n            <Typography variant=\"caption\">{val}</Typography>\n          </div>\n        );\n      })}\n    </div>\n    <Typography variant=\"caption\">1メッシュ(約250m四方)に含まれる人口</Typography>\n  </div>\n);\n\nexport default withStyles(styles)(MapLegends);\n","import * as React from 'react';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport { arc as d3arc } from 'd3-shape';\nimport { scaleSequential } from 'd3-scale';\nimport { interpolateSpectral } from 'd3-scale-chromatic';\n\nimport { Buffer } from '../utils/types';\n\nconst styles = (themes: Theme): StyleRules =>\n  createStyles({\n    root: {},\n    arc: {\n      strokeWidth: 0,\n      '&:hover': {\n        strokeWidth: 3\n      }\n    }\n  });\n\ninterface Props extends WithStyles<typeof styles> {\n  width: number;\n  buffers: Buffer[];\n}\n\nconst color = scaleSequential(interpolateSpectral).domain([10000, 0]);\n\nconst BufferArcs: React.FunctionComponent<Props> = (props: Props) => {\n  const { classes, buffers, width } = props;\n  const size = Math.min(width, 600);\n  const dirs = buffersToDirection(buffers);\n\n  return (\n    <svg className={classes.root} width={size} height={size}>\n      <g transform={`translate(${size / 2}, ${size / 2})`}>\n        {dirs.map((dir, index) => (\n          <g key={index}>\n            {dir.items.map((item, i) => {\n              const arc = d3arc()\n                .outerRadius(((size - 48) * (i + 2)) / 10)\n                .innerRadius(((size - 48) * (i + 1)) / 10 + 4)\n                .padAngle(0.02);\n              return (\n                <g key={i}>\n                  <path\n                    className={classes.arc}\n                    d={arc(item)}\n                    fill={color(calcDensity(item.val, item.from, item.to))}\n                    fillOpacity={item.val ? 0.8 : 0.1}\n                    stroke={color(calcDensity(item.val, item.from, item.to))}\n                  />\n                </g>\n              );\n            })}\n          </g>\n        ))}\n      </g>\n      <g>\n        <text x={size / 2} dy=\"1em\" textAnchor=\"middle\">\n          北\n        </text>\n        <text x={size / 2} y={size} textAnchor=\"middle\">\n          南\n        </text>\n        <text y={size / 2} dy=\".5em\" textAnchor=\"start\">\n          西\n        </text>\n        <text x={size} y={size / 2} dy=\".5em\" textAnchor=\"end\">\n          東\n        </text>\n      </g>\n    </svg>\n  );\n};\n\nexport default withStyles(styles)(BufferArcs);\n\n// utils\n\nfunction buffersToDirection(buffers: Buffer[]) {\n  const directions = ['north', 'northeast', 'east', 'southeast', 'south', 'southwest', 'west', 'northwest'];\n  const dirObjs = directions.map(str => ({\n    direction: str,\n    items: buffers.map((feature, index, arr) => ({\n      ...directionToAngle(str),\n      from: index > 0 ? arr[index - 1].properties.radius : 0,\n      to: feature.properties.radius,\n      val: index > 0 ? feature.properties[str] - arr[index - 1].properties[str] : feature.properties[str]\n    }))\n  }));\n  return dirObjs;\n}\n\nfunction directionToAngle(key: string) {\n  const directions = ['north', 'northeast', 'east', 'southeast', 'south', 'southwest', 'west', 'northwest'];\n  const angle = (Math.PI * 2) / directions.length;\n  return {\n    startAngle: directions.indexOf(key) * angle - angle / 2,\n    endAngle: directions.indexOf(key) * angle + angle / 2\n  };\n}\n\nfunction calcDensity(val: number, from: number, to: number) {\n  return from === 0\n    ? (val * 8) / (Math.pow(to / 1000, 2) * Math.PI)\n    : (val * 8) / (Math.pow(to / 1000, 2) * Math.PI - Math.pow(from / 1000, 2) * Math.PI);\n}\n","import * as React from 'react';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport Typography from '@material-ui/core/Typography';\nimport { Summary } from '../utils/types';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {},\n    thead: {\n      padding: theme.spacing.unit * 2\n    }\n  });\n\ninterface Props extends WithStyles<typeof styles> {\n  summary: Summary;\n}\n\nconst ValuesTable: React.FunctionComponent<Props> = (props: Props) => {\n  const { classes, summary } = props;\n  const { club, category, radius1000, radius3000, radius5000, radius10000 } = summary;\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.thead}>\n        <Typography variant=\"caption\">クラブ: {club.join(', ')}</Typography>\n        <Typography variant=\"caption\">カテゴリー: {category.join(', ')}</Typography>\n      </div>\n      <Table>\n        <TableBody>\n          <TableRow>\n            <TableCell align=\"right\">1km圏</TableCell>\n            <TableCell align=\"right\">{radius1000.toLocaleString()}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"right\">3km圏</TableCell>\n            <TableCell align=\"right\">{radius3000.toLocaleString()}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"right\">5km圏</TableCell>\n            <TableCell align=\"right\">{radius5000.toLocaleString()}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"right\">10km圏</TableCell>\n            <TableCell align=\"right\">{radius10000.toLocaleString()}</TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n    </div>\n  );\n};\n\nexport default withStyles(styles)(ValuesTable);\n","import * as React from 'react';\nimport Icon from '@material-ui/core/Icon';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTwitter } from '@fortawesome/free-brands-svg-icons/faTwitter';\n\ninterface Props {\n  color?: 'primary' | 'secondary' | 'action' | 'error' | 'disabled';\n}\n\nclass TwitterIcon extends React.PureComponent<Props> {\n  componentWillMount() {\n    library.add(faTwitter);\n  }\n  public render() {\n    const { color } = this.props;\n    return (\n      <Icon color={color}>\n        <FontAwesomeIcon icon={['fab', 'twitter']} />\n      </Icon>\n    );\n  }\n}\n\nexport default TwitterIcon;\n","import * as React from 'react';\nimport Icon from '@material-ui/core/Icon';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFacebook } from '@fortawesome/free-brands-svg-icons/faFacebook';\n\ninterface Props {\n  color?: 'primary' | 'secondary' | 'action' | 'error' | 'disabled';\n}\n\nclass FacebookIcon extends React.PureComponent<Props> {\n  componentWillMount() {\n    library.add(faFacebook);\n  }\n  public render() {\n    const { color } = this.props;\n    return (\n      <Icon color={color}>\n        <FontAwesomeIcon icon={['fab', 'facebook']} />\n      </Icon>\n    );\n  }\n}\n\nexport default FacebookIcon;\n","import * as React from 'react';\nimport { graphql, Link, navigate } from 'gatsby';\nimport Helmet from 'react-helmet';\nimport AppBar from '@material-ui/core/AppBar';\nimport ToolBar from '@material-ui/core/Toolbar';\nimport Drawer from '@material-ui/core/Drawer';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/icons/Menu';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport Fab from '@material-ui/core/Fab';\nimport Switch from '@material-ui/core/Switch';\nimport Divider from '@material-ui/core/Divider';\nimport ArrowForward from '@material-ui/icons/ArrowForward';\nimport Typography from '@material-ui/core/Typography';\n// styles\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\n// icons\nimport ZoomIn from '@material-ui/icons/ZoomIn';\nimport ZoomOut from '@material-ui/icons/ZoomOut';\nimport PeopleIcon from '@material-ui/icons/People';\nimport Adjust from '@material-ui/icons/Adjust';\nimport LandScape from '@material-ui/icons/Landscape';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport Reply from '@material-ui/icons/Reply';\n\nimport { AutoSizer } from 'react-virtualized';\nimport { feature as topofeature } from 'topojson-client';\nimport { Topology } from 'topojson-specification';\n\nimport MapApp from '../components/MapApp';\nimport MapLegends from '../components/MapLegends';\nimport { sortData } from '../components/TableApp';\nimport BufferArcs from '../components/BuffersArcs';\nimport ValuesTable from '../components/ValuesTable';\nimport TwitterIcon from '../components/fa-buttons/TwitterIcon';\nimport FacebookIcon from '../components/fa-buttons/FacebookIcon';\nimport { Summary, LocationWithState, VenueEdge, MapState, initialAppState, TableState } from '../utils/types';\nimport withRoot from '../utils/withRoot';\n\nconst drawerWidth = 280;\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      display: 'flex'\n    },\n    drawer: {\n      [theme.breakpoints.up('md')]: {\n        width: drawerWidth,\n        flexShrink: 0\n      }\n    },\n    appBar: {\n      marginLeft: drawerWidth,\n      [theme.breakpoints.up('md')]: {\n        width: `calc(100% - ${drawerWidth}px)`\n      }\n    },\n    menuButton: {\n      marginRight: 10,\n      [theme.breakpoints.up('md')]: {\n        display: 'none'\n      }\n    },\n    toolbar: theme.mixins.toolbar,\n    drawerPaper: {\n      width: drawerWidth\n    },\n    itemTitle: {\n      fontSize: '80%',\n      fontWeight: 'bold'\n    },\n    itemNumber: {\n      textAlign: 'right'\n    },\n    content: {\n      flexGrow: 1,\n      paddingTop: 56,\n      '@media (min-width: 600px)': {\n        paddingTop: 64\n      }\n    },\n    apptitle: {\n      flexGrow: 1,\n      lineHeight: 1.2,\n      [theme.breakpoints.down('sm')]: {\n        fontSize: '90%'\n      }\n    },\n    autoSizerWrapper: {\n      height: 'calc(100vh - 56px)',\n      '@media (min-width: 600px)': {\n        height: 'calc(100vh - 64px)'\n      }\n    },\n    fabZoomIn: {\n      position: 'absolute',\n      bottom: theme.spacing.unit * 10,\n      right: theme.spacing.unit * 2\n    },\n    fabZoomOut: {\n      position: 'absolute',\n      bottom: theme.spacing.unit * 2,\n      right: theme.spacing.unit * 2\n    },\n    buffersWrapper: {\n      width: '100%',\n      maxWidth: 480,\n      margin: 'auto'\n    },\n    description: {\n      maxWidth: 800,\n      margin: 'auto'\n    },\n    descTitle: {\n      padding: theme.spacing.unit * 2\n    },\n    descParagraph: {\n      paddingLeft: theme.spacing.unit * 2,\n      paddingRight: theme.spacing.unit * 2\n    }\n  });\n\ninterface Props extends WithStyles<typeof styles> {\n  data: {\n    allVenuesJson: {\n      edges: Array<VenueEdge>;\n    };\n    venuesJson: {\n      fields: {\n        slug: string;\n      };\n      summary: Summary;\n      topojson: Topology;\n    };\n  };\n  location: LocationWithState;\n}\n\ninterface State extends MapState {\n  readonly drawerOpen: boolean;\n}\n\nclass MapPage extends React.Component<Props, State> {\n  readonly state = this.props.location.state\n    ? {\n        ...this.props.location.state.mapState,\n        drawerOpen: false\n      }\n    : {\n        ...initialAppState.mapState,\n        drawerOpen: false\n      };\n  private handleDrawerToggle = () => {\n    this.setState(prev => ({\n      drawerOpen: !prev.drawerOpen\n    }));\n  };\n  private handlePopVisibility = () => {\n    this.setState(prev => ({\n      popVisibility: !prev.popVisibility\n    }));\n  };\n  private handleBufferVisibility = () => {\n    this.setState(prev => ({\n      bufferVisibility: !prev.bufferVisibility\n    }));\n  };\n  private handleZoomIn = () => {\n    this.setState(prev => ({ zoomLevel: prev.zoomLevel !== 0 ? prev.zoomLevel - 1 : prev.zoomLevel }));\n  };\n  private handleZoomOut = () => {\n    this.setState(prev => ({ zoomLevel: prev.zoomLevel !== 3 ? prev.zoomLevel + 1 : prev.zoomLevel }));\n  };\n\n  public render() {\n    const { classes, data, location } = this.props;\n    const { popVisibility, bufferVisibility, zoomLevel } = this.state;\n    const tableState = location.state ? location.state.tableState : initialAppState.tableState;\n    const { edges } = data.allVenuesJson;\n    const { summary, topojson } = data.venuesJson;\n    const geojson = topofeature(topojson, topojson.objects.points);\n    const buffers = topofeature(topojson, topojson.objects.buffers).features;\n    const others = sortData(edges, tableState.ascSort, tableState.sortKey, tableState.filterRule);\n    const sortProp =\n      tableState.sortKey === 0\n        ? 'radius1000'\n        : tableState.sortKey === 1\n        ? 'radius3000'\n        : tableState.sortKey === 2\n        ? 'radius5000'\n        : 'radius10000';\n\n    const { name, club, shortname, category, radius1000, radius3000, radius5000, radius10000, slug } = summary;\n    const drawer = (\n      <div>\n        <div className={classes.toolbar}>\n          <List>\n            <ListItem\n              button\n              onClick={() => {\n                navigate('/', { state: { tableState, mapState: { popVisibility, bufferVisibility, zoomLevel } } });\n              }}\n            >\n              <ListItemIcon>\n                <Reply />\n              </ListItemIcon>\n              <ListItemText>表に戻る</ListItemText>\n            </ListItem>\n          </List>\n        </div>\n        {/*\n        <div className={classes.toolbar} />\n                <List>\n          <ListItem\n            button\n            onClick={() => {\n              navigate('/', { state: { tableState, mapState: { popVisibility, bufferVisibility, zoomLevel } } });\n            }}\n          >\n            <ListItemIcon>\n              <Reply />\n            </ListItemIcon>\n            <ListItemText>表に戻る</ListItemText>\n          </ListItem>\n        </List>\n        */}\n        <Divider />\n        <ValuesTable summary={summary} />\n        <List subheader={<ListSubheader>地図</ListSubheader>}>\n          <Hidden smDown implementation=\"css\">\n            <ListItem button selected={zoomLevel === 0} onClick={this.handleZoomIn}>\n              <ListItemIcon>\n                <ZoomIn />\n              </ListItemIcon>\n              <ListItemText>地図を拡大</ListItemText>\n            </ListItem>\n            <ListItem button selected={zoomLevel === 3} onClick={this.handleZoomOut}>\n              <ListItemIcon>\n                <ZoomOut />\n              </ListItemIcon>\n              <ListItemText primary=\"地図を縮小\" />\n            </ListItem>\n          </Hidden>\n          <ListItem button>\n            <ListItemIcon>\n              <LandScape />\n            </ListItemIcon>\n            <ListItemText primary=\"地形モード\" />\n          </ListItem>\n          <ListItem>\n            <ListItemIcon>\n              <PeopleIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"人口\" />\n            <ListItemSecondaryAction>\n              <Switch onChange={this.handlePopVisibility} checked={popVisibility} />\n            </ListItemSecondaryAction>\n          </ListItem>\n          <ListItem>\n            <ListItemIcon>\n              <Adjust />\n            </ListItemIcon>\n            <ListItemText primary=\"距離円\" />\n            <ListItemSecondaryAction>\n              <Switch onChange={this.handleBufferVisibility} checked={bufferVisibility} />\n            </ListItemSecondaryAction>\n          </ListItem>\n        </List>\n        <Divider />\n        <List subheader={<ListSubheader>シェア</ListSubheader>}>\n          <ListItem\n            button\n            component=\"a\"\n            href={\n              `https://twitter.com/intent/tweet?text=` +\n              encodeURI(`${name}周辺の人口`) +\n              `&url=` +\n              encodeURIComponent(`https://cieloazul310.github.io/gatsby-stadiums-population/${slug}/`)\n            }\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <ListItemIcon>\n              <TwitterIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"Twitterで共有\" />\n          </ListItem>\n          <ListItem\n            button\n            component=\"a\"\n            href={\n              `https://www.facebook.com/sharer/sharer.php?u=` +\n              encodeURIComponent(`https://cieloazul310.github.io/gatsby-stadiums-population/${slug}/`)\n            }\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <ListItemIcon>\n              <FacebookIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"Facebookで共有\" />\n          </ListItem>\n        </List>\n        <Divider />\n        <List subheader={<ListSubheader>{`一覧 ${createSortString(tableState)}`}</ListSubheader>}>\n          {others.map(edge => (\n            <ListItem\n              key={edge.node.summary.slug}\n              button\n              selected={edge.node.summary.slug === slug}\n              onClick={() => {\n                navigate(`/${edge.node.summary.slug}/`, {\n                  state: { tableState, mapState: { popVisibility, bufferVisibility, zoomLevel } }\n                });\n              }}\n            >\n              <ListItemText\n                primary={<Typography className={classes.itemTitle}>{edge.node.summary.name}</Typography>}\n                secondary={\n                  <Typography component=\"span\" className={classes.itemNumber}>\n                    {edge.node.summary[sortProp].toLocaleString()}\n                  </Typography>\n                }\n              />\n            </ListItem>\n          ))}\n        </List>\n      </div>\n    );\n\n    return (\n      <div className={classes.root}>\n        <Helmet>\n          <title>{name}周辺の人口 | サッカースタジアムと人口</title>\n          <meta name=\"description\" content={createDescriptionString(name, club)} />\n          <meta property=\"og:type\" content=\"article\" />\n          <meta property=\"og:title\" content={`${name}周辺の人口`} />\n          <meta property=\"og:image\" content=\"https://cieloazul310.github.io/img/ogp2.png\" />\n          <meta property=\"og:url\" content={`https://cieloazul310.github.io/gatsby-stadiums-population/${slug}/`} />\n          <meta property=\"og:site_name\" content=\"水戸地図\" />\n          <meta name=\"twitter:card\" content=\"summary\" />\n          <meta name=\"twitter:description\" content={createDescriptionString(name, club)} />\n        </Helmet>\n        <AppBar className={classes.appBar} position=\"fixed\">\n          <ToolBar>\n            <IconButton\n              className={classes.menuButton}\n              aria-owns=\"menu\"\n              aria-haspopup=\"true\"\n              onClick={this.handleDrawerToggle}\n              color=\"inherit\"\n            >\n              <Menu />\n            </IconButton>\n            <Typography color=\"inherit\" className={classes.apptitle} variant=\"h6\">\n              {name}\n            </Typography>\n            <IconButton\n              aria-owns=\"next\"\n              aria-haspopup=\"true\"\n              onClick={() => {\n                const currentIndex = others.map(edge => edge.node.summary.slug).indexOf(slug);\n                const next = currentIndex === others.length - 1 ? others[0] : others[currentIndex + 1];\n                navigate(`/${next.node.summary.slug}/`, {\n                  state: { tableState, mapState: { popVisibility, bufferVisibility, zoomLevel } }\n                });\n              }}\n              color=\"inherit\"\n            >\n              <ArrowForward />\n            </IconButton>\n          </ToolBar>\n        </AppBar>\n        <nav className={classes.drawer}>\n          <Hidden mdUp implementation=\"css\">\n            <SwipeableDrawer\n              variant=\"temporary\"\n              open={this.state.drawerOpen}\n              onClose={this.handleDrawerToggle}\n              onOpen={this.handleDrawerToggle}\n              classes={{ paper: classes.drawerPaper }}\n            >\n              {drawer}\n            </SwipeableDrawer>\n          </Hidden>\n          <Hidden smDown implementation=\"css\">\n            <Drawer classes={{ paper: classes.drawerPaper }} variant=\"permanent\" open>\n              {drawer}\n            </Drawer>\n          </Hidden>\n        </nav>\n        <div className={classes.content}>\n          <div className={classes.autoSizerWrapper}>\n            <AutoSizer>\n              {({ width, height }) => (\n                <div>\n                  <MapApp\n                    width={width}\n                    height={height}\n                    geojson={geojson}\n                    buffers={buffers}\n                    mapState={{ popVisibility, bufferVisibility, zoomLevel }}\n                  />\n                  <Hidden implementation=\"css\" mdUp>\n                    <Fab className={classes.fabZoomIn} color=\"primary\" disabled={zoomLevel === 0} onClick={this.handleZoomIn}>\n                      <AddIcon />\n                    </Fab>\n                    <Fab className={classes.fabZoomOut} color=\"primary\" disabled={zoomLevel === 3} onClick={this.handleZoomOut}>\n                      <RemoveIcon />\n                    </Fab>\n                  </Hidden>\n                </div>\n              )}\n            </AutoSizer>\n          </div>\n          <MapLegends />\n          <div className={classes.description}>\n            <Typography className={classes.descTitle} variant=\"h6\">\n              {name}\n            </Typography>\n            <ValuesTable summary={summary} />\n            <div className={classes.buffersWrapper}>\n              <AutoSizer disableHeight>{({ width }) => <BufferArcs buffers={buffers} width={width} />}</AutoSizer>\n            </div>\n            <Link to=\"/\" state={{ tableState, mapState: { popVisibility, bufferVisibility, zoomLevel } }}>\n              トップに戻る\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRoot(withStyles(styles)(MapPage));\n\n// helper\nfunction createSortString(tableState: TableState): string {\n  const { ascSort, sortKey } = tableState;\n  const sortRule = ascSort ? '昇順' : '降順';\n  const sortLabel = ['1km', '3km', '5km', '10km'][sortKey];\n\n  return `${sortLabel}圏内 ${sortRule}`;\n}\n\nfunction createDescriptionString(name: string, club: string[]): string {\n  const intro = club[0] !== 'その他' ? `${club.join(',')} のホームスタジアム・` : '';\n  return `${intro}${name}周辺の人口を総務省統計局の国勢調査に関する地域メッシュ統計(平成27年度)から算出し、地図に表示しました。`;\n}\n\nexport const query = graphql`\n  query($slug: String!) {\n    allVenuesJson {\n      edges {\n        node {\n          summary {\n            slug\n            name\n            club\n            shortname\n            category\n            radius1000\n            radius3000\n            radius5000\n            radius10000\n          }\n        }\n      }\n    }\n    venuesJson(fields: { slug: { eq: $slug } }) {\n      fields {\n        slug\n      }\n      summary {\n        name\n        club\n        shortname\n        category\n        radius1000\n        radius3000\n        radius5000\n        radius10000\n        slug\n      }\n      topojson {\n        type\n        transform {\n          scale\n          translate\n        }\n        objects {\n          points {\n            type\n            geometries {\n              type\n              coordinates\n              properties {\n                id\n                val\n              }\n            }\n          }\n          buffers {\n            type\n            geometries {\n              type\n              arcs\n              properties {\n                radius\n                population\n                north\n                northeast\n                east\n                southeast\n                south\n                southwest\n                west\n                northwest\n              }\n            }\n          }\n        }\n        arcs\n      }\n    }\n  }\n`;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import * as React from 'react';\nimport { Link } from 'gatsby';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Paper from '@material-ui/core/Paper';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport Popper from '@material-ui/core/Popper';\nimport Grow from '@material-ui/core/Grow';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport MenuList from '@material-ui/core/MenuList';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport { Summary, VenueEdge, AppState, TableState } from '../utils/types';\n\nconst tableStyles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      width: '100%',\n      marginTop: theme.spacing.unit * 3\n    },\n    table: {\n      minWidth: 760\n    },\n    tableWrapper: {\n      overflowX: 'auto'\n    },\n    indexCell: {\n      width: '2em',\n      padding: '4px 8px 4px 8px'\n    },\n    nameCell: {\n      width: '16em',\n      padding: '4px 16px 4px 24px'\n    },\n    filterMenuWrapper: {\n      zIndex: 1\n    }\n  });\n\ninterface Props extends WithStyles<typeof tableStyles> {\n  title: string;\n  data: Array<VenueEdge>;\n  appState: AppState | null;\n}\n\ninterface State extends TableState {\n  readonly menuOpen: boolean;\n}\n\nclass TableApp extends React.Component<Props, State> {\n  private anchorEl: HTMLElement = undefined;\n  readonly state: State = this.props.appState\n    ? {\n        ...this.props.appState.tableState,\n        menuOpen: false\n      }\n    : {\n        ascSort: false,\n        sortKey: 3,\n        filterRule: [],\n        menuOpen: false\n      };\n\n  private _handleSort = (index: number) => {\n    this.setState(prevState => ({\n      ascSort: prevState.sortKey === index ? !prevState.ascSort : false,\n      sortKey: index\n    }));\n  };\n\n  private _handleFilterRule = (str: string) => {\n    this.setState(prevState => ({\n      filterRule:\n        prevState.filterRule.indexOf(str) >= 0 ? prevState.filterRule.filter(filter => filter !== str) : [...prevState.filterRule, str]\n    }));\n  };\n\n  public render() {\n    const { classes, title, data, appState } = this.props;\n    const { ascSort, sortKey, filterRule, menuOpen } = this.state;\n    return (\n      <Paper className={classes.root}>\n        <Toolbar>\n          <div style={{ flex: '0 0 auto' }}>\n            <Typography variant=\"h6\">{title}</Typography>\n          </div>\n          <div style={{ flex: '1 1 100%' }} />\n          <div>\n            <div>\n              <Tooltip title=\"Filter\">\n                <IconButton\n                  aria-owns={menuOpen ? 'menu-list' : undefined}\n                  aria-haspopup=\"true\"\n                  buttonRef={node => {\n                    this.anchorEl = node;\n                  }}\n                  onClick={() => {\n                    this.setState(prev => ({ menuOpen: !prev.menuOpen }));\n                  }}\n                >\n                  <FilterListIcon />\n                </IconButton>\n              </Tooltip>\n              <Popper\n                className={classes.filterMenuWrapper}\n                anchorEl={this.anchorEl}\n                open={menuOpen}\n                transition\n                disablePortal\n                placement=\"bottom-end\"\n              >\n                {({ TransitionProps }) => (\n                  <Grow id=\"menu-list\" {...TransitionProps} style={{ transformOrigin: 'right top' }}>\n                    <Paper>\n                      <ClickAwayListener\n                        onClickAway={event => {\n                          if (this.anchorEl.contains(event.target)) {\n                            return;\n                          }\n                          this.setState({ menuOpen: false });\n                        }}\n                      >\n                        <MenuList>\n                          {['J1', 'J2', 'J3', 'JFL', '地域', 'その他'].map((str, index) => (\n                            <MenuItem\n                              key={index}\n                              onClick={() => {\n                                this._handleFilterRule(str);\n                              }}\n                            >\n                              <ListItemIcon>{filterRule.indexOf(str) < 0 ? <CheckCircleIcon /> : <RemoveIcon />}</ListItemIcon>\n                              <ListItemText inset primary={str} />\n                            </MenuItem>\n                          ))}\n                        </MenuList>\n                      </ClickAwayListener>\n                    </Paper>\n                  </Grow>\n                )}\n              </Popper>\n            </div>\n          </div>\n        </Toolbar>\n        <div className={classes.tableWrapper}>\n          <Table className={classes.table}>\n            <TableHead>\n              <TableRow>\n                <TableCell className={classes.indexCell} align=\"right\">\n                  i\n                </TableCell>\n                <TableCell className={classes.nameCell}>name</TableCell>\n                {['1km', '3km', '5km', '10km'].map((str, index) => (\n                  <TableCell key={index} align=\"right\">\n                    <TableSortLabel active={index === sortKey} direction={ascSort ? 'asc' : 'desc'} onClick={() => this._handleSort(index)}>\n                      {str}\n                    </TableSortLabel>\n                  </TableCell>\n                ))}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {sortData(data, ascSort, sortKey, filterRule).map((datum, index) => (\n                <TableRow key={index}>\n                  <TableCell className={classes.indexCell} component=\"th\" scope=\"row\" align=\"right\">\n                    {index + 1}\n                  </TableCell>\n                  <TableCell className={classes.nameCell} component=\"th\" scope=\"row\">\n                    <Link\n                      to={`/${datum.node.summary.slug}/`}\n                      state={{\n                        mapState: appState.mapState || null,\n                        tableState: {\n                          ascSort,\n                          sortKey,\n                          filterRule\n                        }\n                      }}\n                    >\n                      {datum.node.summary.name}\n                    </Link>\n                  </TableCell>\n                  <TableCell align=\"right\">{datum.node.summary.radius1000.toLocaleString()}</TableCell>\n                  <TableCell align=\"right\">{datum.node.summary.radius3000.toLocaleString()}</TableCell>\n                  <TableCell align=\"right\">{datum.node.summary.radius5000.toLocaleString()}</TableCell>\n                  <TableCell align=\"right\">{datum.node.summary.radius10000.toLocaleString()}</TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </div>\n      </Paper>\n    );\n  }\n}\n\nexport default withStyles(tableStyles)(TableApp);\n\n// utils\n\nexport function sortData(data: VenueEdge[], ascSort: boolean, sortKey: number, filterRule: string[] = []): VenueEdge[] {\n  const isAsc = ascSort ? 1 : -1;\n  const sortProperty = sortKey === 0 ? 'radius1000' : sortKey === 1 ? 'radius3000' : sortKey === 2 ? 'radius5000' : 'radius10000';\n\n  return filterRule.length\n    ? data\n        .filter(datum => datum.node.summary.category.some(category => filterRule.indexOf(category) < 0))\n        .sort((a, b) => isAsc * (a.node.summary[sortProperty] - b.node.summary[sortProperty]))\n    : data.sort((a, b) => isAsc * (a.node.summary[sortProperty] - b.node.summary[sortProperty]));\n}\n\nfunction filterIncludesEdge(filterRule: string[], edge: VenueEdge): boolean {\n  const categories = edge.node.summary.category;\n\n  return categories.some(category => filterRule.indexOf(category) < 0);\n}\n","import { Feature, Polygon } from '@turf/helpers';\nimport { LocationProps } from '@reach/router';\n\nexport const initialAppState: AppState = {\n  tableState: {\n    ascSort: false,\n    sortKey: 3,\n    filterRule: []\n  },\n  mapState: {\n    popVisibility: true,\n    bufferVisibility: true,\n    zoomLevel: 3\n  }\n};\n\nexport interface TableState {\n  readonly ascSort: boolean;\n  readonly sortKey: number;\n  readonly filterRule: string[];\n}\n\nexport interface MapState {\n  readonly popVisibility: boolean;\n  readonly bufferVisibility: boolean;\n  readonly zoomLevel: number;\n}\n\nexport interface AppState {\n  tableState: TableState;\n  mapState: MapState;\n}\n\nexport interface LocationWithState extends LocationProps {\n  state: AppState | null;\n}\n\nexport interface Summary {\n  name: string;\n  club: string[];\n  category: string[];\n  shortname: string[];\n  slug: string;\n  radius1000: number;\n  radius3000: number;\n  radius5000: number;\n  radius10000: number;\n}\n\nexport interface VenueEdge {\n  node: {\n    summary: Summary;\n  };\n}\n\nexport interface BufferPropertis extends EighthDirections {\n  name: string;\n  radius: number;\n  population: number;\n}\n\nexport type Buffer = Feature<Polygon, BufferPropertis>;\n\nexport interface MeshProperties {\n  id: number;\n  val: number;\n}\n\nexport interface ForthDirections {\n  north: number;\n  east: number;\n  south: number;\n  west: number;\n}\n\nexport interface EighthDirections extends ForthDirections {\n  northeast: number;\n  southeast: number;\n  southwest: number;\n  northwest: number;\n}\n","import * as React from 'react';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport JssProvider from 'react-jss/lib/JssProvider';\nimport getPageContext from './getPageContext';\n\nfunction withRoot<P>(Component: React.ComponentType<P>) {\n  class WithRoot extends React.PureComponent<P> {\n    private muiPageContext = getPageContext();\n\n    componentDidMount() {\n      const jssStyles = document.querySelector('#jss-server-side');\n      if (jssStyles && jssStyles.parentNode) {\n        jssStyles.parentNode.removeChild(jssStyles);\n      }\n    }\n\n    public render() {\n      return (\n        <JssProvider generateClassName={this.muiPageContext.generateClassName}>\n          <MuiThemeProvider theme={this.muiPageContext.theme} sheetsManager={this.muiPageContext.sheetsManager}>\n            <CssBaseline />\n            <Component {...this.props} />\n          </MuiThemeProvider>\n        </JssProvider>\n      );\n    }\n  }\n\n  return WithRoot;\n}\n\nexport default withRoot;\n","/* eslint-disable no-underscore-dangle */\n\nimport { SheetsRegistry } from 'jss';\nimport { createMuiTheme, createGenerateClassName } from '@material-ui/core/styles';\nimport blue from '@material-ui/core/colors/blue';\n\n// A theme with custom primary and secondary color.\n// It's optional.\nconst theme = createMuiTheme({\n  palette: {\n    primary: blue\n  },\n  typography: {\n    useNextVariants: true\n  }\n});\n\nfunction createPageContext() {\n  return {\n    theme,\n    // This is needed in order to deduplicate the injection of CSS in the page.\n    sheetsManager: new Map(),\n    // This is needed in order to inject the critical CSS.\n    sheetsRegistry: new SheetsRegistry(),\n    // The standard class name generator.\n    generateClassName: createGenerateClassName()\n  };\n}\n\nexport default function getPageContext() {\n  // Make sure to create a new context for every server-side request so that data\n  // isn't shared between connections (which would be bad).\n  if (!process.browser) {\n    return createPageContext();\n  }\n\n  // Reuse context on the client-side.\n  if (!global.__INIT_MATERIAL_UI__) {\n    global.__INIT_MATERIAL_UI__ = createPageContext();\n  }\n\n  return global.__INIT_MATERIAL_UI__;\n}\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0xMiAyQzguMTMgMiA1IDUuMTMgNSA5YzAgNS4yNSA3IDEzIDcgMTNzNy03Ljc1IDctMTNjMC0zLjg3LTMuMTMtNy03LTd6bTAiIGZpbGw9IiMwMDkxRUEiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgPHBhdGggZD0iTTEyIDExLjVjLTEuMzggMC0yLjUtMS4xMi0yLjUtMi41czEuMTItMi41IDIuNS0yLjUgMi41IDEuMTIgMi41IDIuNS0xLjEyIDIuNS0yLjUgMi41eiIgZmlsbD0id2hpdGUiLz4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz4KPC9zdmc+Cg==\""],"sourceRoot":""}