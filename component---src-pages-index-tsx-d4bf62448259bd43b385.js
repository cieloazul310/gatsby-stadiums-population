(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{141:function(e,t,n){"use strict";n.r(t);var a=n(7),r=n.n(a),i=n(0),o=n(165),l=n.n(o),s=n(144),c=n.n(s),u=n(262),m=n(259),d=(n(319),n(185),n(33),n(169)),p=n(221),f=n.n(p),h=n(175),y=n.n(h),g=n(255),b=n.n(g),v=n(320),E=n.n(v),x=n(218),w=n.n(x),S=n(257),N=n.n(S),R=n(256),_=n.n(R),k=n(324),C=n.n(k),O=n(325),j=n.n(O),I=n(326),M=n.n(I),P=n(198),T=n.n(P),q=n(183),L=n.n(q),z=n(327),A=n.n(z),J=n(258),B=n.n(J),D=n(323),K=n.n(D),G=n(328),H=n.n(G),U=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state=t.props.appState?Object.assign({},t.props.appState.tableState,{menuOpen:!1}):{ascSort:!1,sortKey:3,filterRule:[],menuOpen:!1},t._handleSort=function(e){t.setState(function(t){return{ascSort:t.sortKey===e&&!t.ascSort,sortKey:e}})},t._handleMenuOpen=function(){t.setState(function(e){return{menuOpen:!e.menuOpen}})},t._handleFilterRule=function(e){t.setState(function(t){return{filterRule:t.filterRule.indexOf(e)>=0?t.filterRule.filter(function(t){return t!==e}):[].concat(t.filterRule,[e])}})},t}return r()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.classes,a=t.data,r=t.width,o=t.height,l=t.appState,s=this.state,c=s.ascSort,u=s.sortKey,m=s.filterRule,p=s.menuOpen,h=a;return i.createElement(f.a,{className:n.root,style:{width:r,height:o}},i.createElement("div",{className:n.header},i.createElement(b.a,{className:n.toolbar},i.createElement(y.a,{className:n.title,variant:"h6"},"スタジアムと距離圏人口"),i.createElement(E.a,{title:"フィルター"},i.createElement(w.a,{"aria-owns":p?"menu-list":void 0,"aria-haspopup":"true",buttonRef:function(t){e.anchorEl=t},onClick:this._handleMenuOpen},i.createElement(K.a,null))),i.createElement(N.a,{className:n.filterMenuWrapper,anchorEl:this.anchorEl,open:p,transition:!0,disablePortal:!0,placement:"bottom-end"},function(t){var n=t.TransitionProps;return i.createElement(_.a,Object.assign({},n,{style:{transformOrigin:"right top"}}),i.createElement(f.a,null,i.createElement(C.a,{onClickAway:function(t){e.anchorEl.contains(t.target)||e.setState({menuOpen:!1})}},i.createElement(j.a,null,["J1","J2","J3","JFL","地域","その他"].map(function(t,n){return i.createElement(M.a,{key:n,onClick:function(){e._handleFilterRule(t)}},i.createElement(T.a,null,m.indexOf(t)<0?i.createElement(A.a,null):i.createElement(B.a,{color:"disabled"})),i.createElement(L.a,{inset:!0,primary:t}))})))))})),i.createElement("div",{className:n.thead},i.createElement("div",{className:n.row},i.createElement("div",{className:n.headerRowHead},i.createElement("div",{className:n.index},"i"),i.createElement("div",{className:n.name},"name")),i.createElement("div",{className:n.headerRowBody},["1km","3km","5km","10km"].map(function(t,a){return i.createElement("div",{key:a,className:n.val},i.createElement(H.a,{active:a===u,direction:c?"asc":"desc",onClick:function(){return e._handleSort(a)}},t))}))))),i.createElement("div",{className:n.table,style:{height:o-120}},function(e,t,n,a){var r=t?1:-1,i=0===n?"radius1000":1===n?"radius3000":2===n?"radius5000":"radius10000";return a.length?e.filter(function(e){return e.node.summary.category.some(function(e){return a.indexOf(e)<0})}).sort(function(e,t){return r*(e.node.summary[i]-t.node.summary[i])}):e.sort(function(e,t){return r*(e.node.summary[i]-t.node.summary[i])})}(h,c,u,m).map(function(e,t){return i.createElement("div",{key:t,className:n.row},i.createElement("div",{className:n.rowHead},i.createElement("div",{className:n.index},t+1),i.createElement("div",{className:n.name},i.createElement(d.Link,{to:"/"+e.node.summary.slug+"/",state:{mapState:l.mapState||null,tableState:{ascSort:c,sortKey:u,filterRule:m}}},e.node.summary.name)),i.createElement("div",{className:n.category},e.node.summary.shortname.join(" "))),i.createElement("div",{className:n.rowBody},i.createElement("div",{className:n.val},e.node.summary.radius1000.toLocaleString()),i.createElement("div",{className:n.val},e.node.summary.radius3000.toLocaleString()),i.createElement("div",{className:n.val},e.node.summary.radius5000.toLocaleString()),i.createElement("div",{className:n.val},e.node.summary.radius10000.toLocaleString())))})))},t}(i.Component),F=c()(function(e){return l()({root:{fontSize:"80%"},table:{overflowY:"scroll"},header:{backgroundColor:e.palette.primary.light,position:"sticky",display:"flex",flexDirection:"column",boxShadow:e.shadows[1]},toolbar:{display:"flex",flexDirection:"row",height:56},title:{flex:1},filterMenuWrapper:{zIndex:1},headerRowHead:{flex:1,display:"flex","@media (max-width: 720px)":{display:"none"}},headerRowBody:{display:"flex",justifyContent:"space-evenly"},thead:{},row:{display:"flex",flexDirection:"row","@media (max-width: 720px)":{flexDirection:"column",borderBottom:"1px solid #ddd"}},rowHead:{flex:1,display:"flex",boxSizing:"border-box",borderRight:"1px solid #eee","@media (max-width: 720px)":{borderRight:"none",borderBottom:"1px solid #eee"}},index:{width:"4em",padding:"1rem .5rem",boxSizing:"border-box",textAlign:"right"},name:{padding:"1rem",boxSizing:"border-box",flex:1,fontWeight:"bold"},category:{color:"#333",padding:"1rem",boxSizing:"border-box"},rowBody:{display:"flex",justifyContent:"space-evenly"},val:{width:"9em",padding:"1rem",boxSizing:"border-box",display:"flex",flexDirection:"row-reverse"}})})(U);var V=n(340),W=n(219);n.d(t,"query",function(){return Y});var Q=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){var e=this,t=this.props.classes;return i.createElement("div",{className:t.root},i.createElement(u.Helmet,null,i.createElement("title",null,"サッカースタジアムと人口"),i.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui"}),i.createElement("meta",{name:"description",content:"日本国内の主要なサッカースタジアムの周辺人口を総務省統計局の地域メッシュ統計から算出し、地図に表示しました。"}),i.createElement("meta",{property:"og:type",content:"website"}),i.createElement("meta",{property:"og:title",content:"サッカースタジアムと人口"}),i.createElement("meta",{property:"og:url",content:"https://cieloazul310.github.io/gatsby-stadiums-population/"}),i.createElement("meta",{property:"og:image",content:"https://cieloazul310.github.io/img/ogp2.png"}),i.createElement("meta",{property:"og:site_name",content:"水戸地図"}),i.createElement("meta",{name:"twitter:card",content:"summary"}),i.createElement("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),i.createElement("meta",{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"})),i.createElement("main",null,i.createElement("div",{className:t.content},i.createElement("div",{className:t.table},i.createElement(V.a,null,function(t){var n=t.width,a=t.height;return i.createElement(F,{width:n,height:a,data:e.props.data.allVenuesJson.edges,appState:e.props.location.state||W.a})})))))},t}(i.PureComponent),Y=(t.default=Object(m.a)(c()(function(e){return l()({root:{width:"100%"},content:{margin:"auto",maxWidth:1e3},table:{width:"100%",height:"100vh"}})})(Q)),"3551841905")},169:function(e,t,n){"use strict";n.r(t),n.d(t,"graphql",function(){return f}),n.d(t,"StaticQueryContext",function(){return d}),n.d(t,"StaticQuery",function(){return p});var a=n(0),r=n.n(a),i=n(4),o=n.n(i),l=n(160),s=n.n(l);n.d(t,"Link",function(){return s.a}),n.d(t,"withPrefix",function(){return l.withPrefix}),n.d(t,"navigate",function(){return l.navigate}),n.d(t,"push",function(){return l.push}),n.d(t,"replace",function(){return l.replace}),n.d(t,"navigateTo",function(){return l.navigateTo});var c=n(186),u=n.n(c);n.d(t,"PageRenderer",function(){return u.a});var m=n(35);n.d(t,"parsePath",function(){return m.a});var d=r.a.createContext({}),p=function(e){return r.a.createElement(d.Consumer,null,function(t){return e.data||t[e.query]&&t[e.query].data?(e.render||e.children)(e.data?e.data.data:t[e.query].data):r.a.createElement("div",null,"Loading (StaticQuery)")})};function f(){throw new Error("It appears like Gatsby is misconfigured. Gatsby related `graphql` calls are supposed to only be evaluated at compile time, and then compiled away,. Unfortunately, something went wrong and the query was left in the compiled code.\n\n.Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.")}p.propTypes={data:o.a.object,query:o.a.string.isRequired,render:o.a.func,children:o.a.func}},186:function(e,t,n){var a;e.exports=(a=n(224))&&a.default||a},219:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var a,r=n(169),i={tableState:{ascSort:!1,sortKey:3,filterRule:[]},mapState:{popVisibility:!0,bufferVisibility:!0,zoomLevel:3,terrain:!1}},o=function(e,t){Object(r.navigate)(e,{state:t})};!function(e){e.radius1000="1km",e.radius3000="3km",e.radius5000="5km",e.radius10000="10km"}(a||(a={}))},224:function(e,t,n){"use strict";n.r(t);n(33);var a=n(0),r=n.n(a),i=n(4),o=n.n(i),l=n(60),s=n(2),c=function(e){var t=e.location,n=s.default.getResourcesForPathnameSync(t.pathname);return r.a.createElement(l.a,Object.assign({location:t,pageResources:n},n.json))};c.propTypes={location:o.a.shape({pathname:o.a.string.isRequired}).isRequired},t.default=c},259:function(e,t,n){"use strict";var a=n(7),r=n.n(a),i=n(0),o=n(199),l=n(336),s=n.n(l),c=n(329),u=n.n(c),m=n(260);t.a=function(e){return function(t){function n(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this).muiPageContext=Object(m.a)(),e}r()(n,t);var a=n.prototype;return a.componentDidMount=function(){var e=document.querySelector("#jss-server-side");e&&e.parentNode&&e.parentNode.removeChild(e)},a.render=function(){return i.createElement(u.a,{generateClassName:this.muiPageContext.generateClassName},i.createElement(o.MuiThemeProvider,{theme:this.muiPageContext.theme,sheetsManager:this.muiPageContext.sheetsManager},i.createElement(s.a,null),i.createElement(e,this.props)))},n}(i.PureComponent)}},260:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",function(){return u});n(74),n(55),n(75),n(332);var r=n(192),i=n(199),o=n(335),l=n.n(o),s=Object(i.createMuiTheme)({palette:{primary:l.a},typography:{useNextVariants:!0}});function c(){return{theme:s,sheetsManager:new Map,sheetsRegistry:new r.SheetsRegistry,generateClassName:Object(i.createGenerateClassName)()}}function u(){return e.browser?(a.__INIT_MATERIAL_UI__||(a.__INIT_MATERIAL_UI__=c()),a.__INIT_MATERIAL_UI__):c()}}).call(this,n(254),n(73))}}]);
//# sourceMappingURL=component---src-pages-index-tsx-d4bf62448259bd43b385.js.map