{"version":3,"sources":["webpack:///./src/templates/venuesContainer.tsx","webpack:///./src/types/index.ts","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/types/Radiuses.ts","webpack:///./.cache/public-page-renderer.js","webpack:///./src/types/AppState.ts","webpack:///./src/types/Categories.ts","webpack:///./src/types/Directions.ts","webpack:///./src/components/fa-buttons/TwitterIcon.tsx","webpack:///./src/components/fa-buttons/FacebookIcon.tsx","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/MeshFeature.tsx","webpack:///./src/components/Container.tsx","webpack:///./src/components/AdBox.tsx","webpack:///./src/components/Footer.tsx","webpack:///./src/components/fa-buttons/GithubIcon.tsx","webpack:///./src/components/Sharer.tsx","webpack:///./src/components/FlexTable/FlexTable.tsx","webpack:///./src/components/FlexTable/FlexRow.tsx","webpack:///./src/components/FlexTable/FlexTh.tsx","webpack:///./src/components/FlexTable/FlexTd.tsx","webpack:///./src/components/RCTable.tsx","webpack:///./src/components/Pie.tsx","webpack:///./src/components/Attribution.tsx","webpack:///./src/components/MapAttribution.tsx","webpack:///./src/image/place.svg","webpack:///./src/utils/tileTree.ts","webpack:///./src/components/GrayScaleFilter.tsx","webpack:///./src/components/MapApp.tsx","webpack:///./src/components/drawer/MapHandler.tsx","webpack:///./src/components/drawer/SharesList.tsx","webpack:///./src/components/drawer/DrawerTable.tsx","webpack:///./src/components/ValuesTable.tsx","webpack:///./src/components/DrawerInner.tsx","webpack:///./src/components/MapLegends.tsx","webpack:///./src/components/DirectionTable.tsx","webpack:///./src/templates/MapPage.tsx"],"names":["MapContainer","render","_this$props","this","props","data","location","pageContext","appState","createInitialAppState","react__WEBPACK_IMPORTED_MODULE_1__","_MapPage__WEBPACK_IMPORTED_MODULE_2__","datum","venuesJson","edges","allVenuesJson","group","React","query","_AppState__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","d","__webpack_exports__","_Buffer__WEBPACK_IMPORTED_MODULE_1__","o","_Categories__WEBPACK_IMPORTED_MODULE_2__","_Data__WEBPACK_IMPORTED_MODULE_3__","_Directions__WEBPACK_IMPORTED_MODULE_4__","_Mesh__WEBPACK_IMPORTED_MODULE_5__","_Radiuses__WEBPACK_IMPORTED_MODULE_6__","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","a","StaticQueryContext","createContext","createElement","Consumer","staticQueryData","children","propTypes","PropTypes","object","string","isRequired","func","Radiuses","radiuses","radiusLabels","radius1000","radius3000","radius5000","radius10000","m","module","exports","require","default","navigateWithState","gatsby__WEBPACK_IMPORTED_MODULE_0__","_Radiuses__WEBPACK_IMPORTED_MODULE_1__","to","navigate","state","initialAppState","tableState","ascSort","sortKey","filterRule","mapState","popVisibility","bufferVisibility","zoomLevel","terrain","undefined","footballCategories","basketballCategories","Directions","directions","directionToKanji","getItemsDiff","direction","items","obj","forEach","map","item","index","arr","radius","properties","population","diff","TwitterIcon","componentWillMount","library","add","faTwitter","_material_ui_core_Icon__WEBPACK_IMPORTED_MODULE_2__","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_4__","style","verticalAlign","icon","FacebookIcon","faFacebook","ProdPageRenderer","_ref","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","Object","assign","json","shape","colorScale","sizeScale","d3_color__WEBPACK_IMPORTED_MODULE_1__","d3_scale__WEBPACK_IMPORTED_MODULE_2__","d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_3__","scaleSequential","interpolateSpectral","domain","scalePow","range","exponent","MeshRect","feature","projection","val","center","geometry","coordinates","size","Math","abs","min","max","scale","fill","color","hex","fillOpacity","x","toFixed","y","width","height","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__","useStyles","makeStyles","theme","createStyles","root","fontFamily","typography","maxWidth","margin","padding","spacing","@global","blockquote","backgroundColor","borderLeft","borderRadius","Container","classes","className","styles","minHeight","ad","display","AdBox","componentDidMount","window","adsbygoogle","push","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_5__","variant","classnames","data-ad-client","data-ad-slot","data-ad-format","data-full-width-responsive","withStyles","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3__","palette","primary","dark","inner","justifyContent","justifyItems","Footer","faGithub","react","Icon","react_fontawesome_index_es","alignItems","Sharer","title","url","IconButton","aria-label","href","encodeURI","encodeURIComponent","target","rel","fa_buttons_TwitterIcon","fontSize","GithubIcon","classnames__WEBPACK_IMPORTED_MODULE_1__","classnames__WEBPACK_IMPORTED_MODULE_1___default","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__","body2","FlexTable","classNames","_root","flexDirection","paddingBottom","breakpoints","down","FlexRow","textAlign","fontWeight","FlexTh","flex","paddingLeft","FlexTd","RCTable","_this","menuOpen","anchorEl","_handleSort","setState","prevState","_handleMenuOpen","prev","_handleFilterRule","category","indexOf","filter","concat","_this2","_this$state","categories","react__WEBPACK_IMPORTED_MODULE_8__","_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_13__","header","_material_ui_core_Toolbar__WEBPACK_IMPORTED_MODULE_15__","toolbar","_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_16__","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_17__","aria-owns","aria-haspopup","buttonRef","node","onClick","_material_ui_icons_FilterList__WEBPACK_IMPORTED_MODULE_28___default","_material_ui_core_Popper__WEBPACK_IMPORTED_MODULE_18__","filterMenuWrapper","open","transition","disablePortal","placement","TransitionProps","_material_ui_core_Grow__WEBPACK_IMPORTED_MODULE_19__","transformOrigin","_material_ui_core_ClickAwayListener__WEBPACK_IMPORTED_MODULE_20__","onClickAway","event","contains","_material_ui_core_MenuList__WEBPACK_IMPORTED_MODULE_21__","_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_22__","key","_material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_23__","_material_ui_icons_CheckCircle__WEBPACK_IMPORTED_MODULE_26___default","_material_ui_icons_Remove__WEBPACK_IMPORTED_MODULE_27___default","_material_ui_core_ListItemText__WEBPACK_IMPORTED_MODULE_24__","inset","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_14__","role","_material_ui_icons_ArrowForward__WEBPACK_IMPORTED_MODULE_30___default","join","thead","row","headerRowHead","name","headerRowBody","entries","_classNames","labelCell","labelCellActive","_material_ui_core_TableSortLabel__WEBPACK_IMPORTED_MODULE_29__","labelRoot","active","labelActive","labelIcon","table","sortData","edge","rowHead","gatsby__WEBPACK_IMPORTED_MODULE_9__","fields","slug","link","summary","shortname","rowBody","toLocaleString","_ref2","isAsc","prop","length","some","sort","b","overflowY","overflowScrolling","WebkitOverflowScrolling","zIndex","main","contrastText","position","boxShadow","shadows","@media (max-width: 720px)","borderBottom","&:hover","&:focus","boxSizing","borderRight","&:visited","lightBlue","copy","newDomain","opacity","scaleLinear","Pie","react__WEBPACK_IMPORTED_MODULE_3__","viewBox","i","transform","angle","density","pow","PI","calcDensity","_directionToAngle","keys","startAngle","endAngle","arc","d3arc","innerRadius","outerRadius","padAngle","Attribution","gatsby__WEBPACK_IMPORTED_MODULE_2__","gutterBottom","site","siteMetadata","paragraph","description","_components_FlexTable_FlexTable__WEBPACK_IMPORTED_MODULE_4__","_components_FlexTable_FlexRow__WEBPACK_IMPORTED_MODULE_5__","_components_FlexTable_FlexTh__WEBPACK_IMPORTED_MODULE_6__","_components_FlexTable_FlexTd__WEBPACK_IMPORTED_MODULE_7__","author","twitter","date","lastmod","_public_static_d_3779748963_json__WEBPACK_IMPORTED_MODULE_0__","DataAttribution","MapAttribution","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_1__","_components_FlexTable_FlexTable__WEBPACK_IMPORTED_MODULE_2__","_components_FlexTable_FlexRow__WEBPACK_IMPORTED_MODULE_3__","_components_FlexTable_FlexTh__WEBPACK_IMPORTED_MODULE_4__","_components_FlexTable_FlexTd__WEBPACK_IMPORTED_MODULE_5__","TileSet","options","tileUrl","maxZoom","minZoom","tileTree","treeIncludesTile","tile","z","hasOwnProperty","toString","tile2tree","_x$toString","_this$tileTree$z$toSt","_this$tileTree$z$toSt2","fetchTiles","tiles","Promise","resolve","tasks","fetchTile","all","then","fetchUrl","replace","fetch","res","ok","Error","blob","tileWithURL","URL","createObjectURL","catch","isRequireFetch","_this3","every","setTileUrlFromTree","_this4","updateTiles","_callee","newTiles","tilesInTree","tilesShouldFetch","fetchedTiles","_this5","regenerator_default","wrap","_context","next","sent","abrupt","stop","filterMatrix","GrayScaleFilter","id","type","values","d3tile","Map","fetchStatus","_tileSet","_terrain","_getTileCoordinates","mag","zoomer","log2","translate","v","array","_fetchTiles","tileSet","_this$props2","buffers","meshes","geoMercator","fitExtent","path","geoPath","tileCoords","renderTiles","hoge","LinearProgress","progress","components_GrayScaleFilter","xlinkHref","points","MeshFeature","bb","bbox","lb","buffer","stroke","strokeWidth","bufferText","dy","textAnchor","Place","top","left","image","imageRendering","shapeRendering","rect","mixBlendMode","MapHandler","handleZoomIn","handleZoomOut","handleTerrain","handlePopVisibility","handleBufferVisibility","List","subheader","ListSubheader","Hidden","smDown","implementation","ListItem","button","selected","ListItemIcon","ZoomIn_default","ListItemText","ZoomOut_default","LandScape_default","ListItemSecondaryAction","Switch","onChange","checked","People_default","Adjust_default","SharesList","component","createTwiterShareUrl","createFbShareUrl","itemTitle","itemNumber","DrawerTable","sortRule","sortLabel","Typography","secondary","ValuesTable","Table","TableBody","TableRow","TableCell","align","mixins","DrawerInner","handleDrawerToggle","mapHandler","objectWithoutPropertiesLoose_default","mdUp","Clear_default","Reply_default","components_ValuesTable","drawer_MapHandler","Divider","drawer_SharesList","drawer_DrawerTable","legends","legendItem","MapLegends","tableWrapper","overflowX","whiteSpace","DirectionTable","directionObject","TableHead","MapInner","drawerOpen","topojson","topofeature","objects","features","others","club","newAppState","drawer","components_DrawerInner","Helmet","lang","content","createDescriptionString","property","AppBar","appBar","Toolbar","menuButton","Menu_default","apptitle","currentIndex","ArrowForward_default","SwipeableDrawer","onClose","onOpen","paper","drawerPaper","Drawer","autoSizerWrapper","es","MapApp","Fab","fabZoomIn","disabled","Add_default","fabZoomOut","Remove_default","components_MapLegends","Grid","container","grid","alignContent","xs","sm","geometries","components_DirectionTable","gatsby_browser_entry","_drawer","_appBar","_menuButton","_apptitle","up","flexShrink","marginLeft","marginRight","paddingTop","@media (min-width: 600px)","flexGrow","lineHeight","fullWidthContainer","bottom","right","descParagraph","paddingRight"],"mappings":"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","file":"component---src-templates-venues-container-tsx-b0fa40b05d11d90d2d97.js","sourcesContent":["import * as React from 'react';\nimport { graphql } from 'gatsby';\nimport MapPage from './MapPage';\nimport { LocationWithState, Edge, Data, createInitialAppState } from '../types';\n\ninterface Props {\n  data: {\n    allVenuesJson: {\n      edges: Edge[];\n    };\n    venuesJson: Data;\n  };\n  location: LocationWithState;\n  pageContext: {\n    slug: string;\n    group: 'venues' | 'arenas';\n  };\n}\n\nclass MapContainer extends React.PureComponent<Props> {\n  public render() {\n    //console.log(this.props);\n    const { data, location, pageContext } = this.props;\n    const appState = createInitialAppState(location);\n\n    return <MapPage datum={data.venuesJson} edges={data.allVenuesJson.edges} appState={appState} group={pageContext.group} />;\n  }\n}\n\nexport default MapContainer;\n\nexport const query = graphql`\n  query($slug: String) {\n    allVenuesJson {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          summary {\n            slug\n            name\n            club\n            shortname\n            category\n            radius1000\n            radius3000\n            radius5000\n            radius10000\n          }\n        }\n      }\n    }\n    venuesJson(fields: { slug: { eq: $slug } }) {\n      fields {\n        slug\n      }\n      summary {\n        name\n        club\n        shortname\n        category\n        radius1000\n        radius3000\n        radius5000\n        radius10000\n        slug\n      }\n      topojson {\n        type\n        transform {\n          scale\n          translate\n        }\n        objects {\n          points {\n            type\n            geometries {\n              type\n              coordinates\n              properties {\n                id\n                val\n              }\n            }\n          }\n          buffers {\n            type\n            geometries {\n              type\n              arcs\n              properties {\n                radius\n                population\n                north\n                northeast\n                east\n                southeast\n                south\n                southwest\n                west\n                northwest\n              }\n            }\n          }\n        }\n        arcs\n      }\n    }\n  }\n`;\n","export * from './AppState';\nexport * from './Buffer';\nexport * from './Categories';\nexport * from './Data';\nexport * from './Directions';\nexport * from './Mesh';\nexport * from './Radiuses';\nexport * from './Summary';\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","export enum Radiuses {\n  radius1000 = 1000,\n  radius3000 = 3000,\n  radius5000 = 5000,\n  radius10000 = 10000\n}\n\nexport const radiuses: Radiuses[] = [Radiuses.radius1000, Radiuses.radius3000, Radiuses.radius5000, Radiuses.radius10000];\n\nexport const radiusKeys: Array<keyof typeof Radiuses> = ['radius1000', 'radius3000', 'radius5000', 'radius10000'];\n\nexport type RadiusProps = { [key in keyof typeof Radiuses]: number };\n\ntype RadiusLabels = { [key in keyof typeof Radiuses]: string };\n\nexport const radiusLabels: RadiusLabels = {\n  radius1000: '1km',\n  radius3000: '3km',\n  radius5000: '5km',\n  radius10000: '10km'\n};\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import { WindowLocation } from '@reach/router';\nimport { navigate } from 'gatsby';\nimport { Radiuses } from './Radiuses';\nimport { Categories } from './Categories';\n\nexport interface AppState {\n  mapState: MapState;\n  tableState: TableState;\n}\n\nexport type StateObject =\n  | {\n      key: string;\n      appState: AppState;\n    }\n  | null\n  | undefined;\n\nexport interface LocationWithState extends WindowLocation {\n  state: StateObject;\n}\n\nexport interface TableState {\n  readonly ascSort: boolean;\n  readonly sortKey: Radiuses;\n  readonly filterRule: Categories[];\n}\n\nexport interface MapState {\n  readonly popVisibility: boolean;\n  readonly bufferVisibility: boolean;\n  readonly zoomLevel: Radiuses;\n  readonly terrain: boolean;\n}\n\nexport const navigateWithState = (to: string, appState: AppState) => {\n  navigate(to, { state: { appState } });\n};\n\nexport const initialTableState: TableState = {\n  ascSort: false,\n  sortKey: Radiuses.radius10000,\n  filterRule: []\n};\n\nexport const initialMapState: MapState = {\n  popVisibility: true,\n  bufferVisibility: true,\n  zoomLevel: Radiuses.radius10000,\n  terrain: false\n};\n\nexport const initialAppState: AppState = {\n  tableState: initialTableState,\n  mapState: initialMapState\n};\n\nexport const createInitialAppState = (location: LocationWithState): AppState => {\n  if (location.state === null || location.state === undefined) return initialAppState;\n  else if (location.state.appState === undefined) return initialAppState;\n  else return location.state.appState;\n};\n","export type FootballCategories = 'J1' | 'J2' | 'J3' | 'JFL' | '地域' | 'その他';\nexport const footballCategories: FootballCategories[] = ['J1', 'J2', 'J3', 'JFL', '地域', 'その他'];\n\nexport type BasketballCategories = 'B1' | 'B2' | 'B3' | '地域';\nexport const basketballCategories: BasketballCategories[] = ['B1', 'B2', 'B3', '地域'];\n\nexport type Categories = FootballCategories | BasketballCategories;\n\nexport type Group = 'venues' | 'arenas';\n","import { GeometryObject } from 'topojson-specification';\nimport { Radiuses } from './Radiuses';\nimport { BufferProps } from './Buffer';\n\nexport enum Directions {\n  north,\n  northeast,\n  east,\n  southeast,\n  south,\n  southwest,\n  west,\n  northwest\n}\n\nexport const directions: Array<keyof typeof Directions> = [\n  'north',\n  'northeast',\n  'east',\n  'southeast',\n  'south',\n  'southwest',\n  'west',\n  'northwest'\n];\n\nexport type DirectionProps = { [key in keyof typeof Directions]: number };\n\nexport function directionToKanji(direction: keyof typeof Directions): string {\n  return direction === 'north'\n    ? '北'\n    : direction === 'northeast'\n    ? '北東'\n    : direction === 'east'\n    ? '東'\n    : direction === 'southeast'\n    ? '南東'\n    : direction === 'south'\n    ? '南'\n    : direction === 'southwest'\n    ? '南西'\n    : direction === 'west'\n    ? '西'\n    : direction === 'northwest'\n    ? '北西'\n    : '';\n}\n\nexport type DirectionObj = {\n  [key in keyof typeof Directions]: Array<{\n    radius: keyof typeof Radiuses;\n    population: number;\n    diff: number;\n  }>\n};\n\nexport function getItemsDiff(items: GeometryObject<BufferProps>[]): DirectionObj {\n  const obj: any = {};\n  directions.forEach(direction => {\n    obj[direction] = items.map((item, index, arr) => ({\n      radius: item.properties.radius,\n      population: item.properties[direction],\n      diff: index === 0 ? item.properties[direction] : item.properties[direction] - arr[index - 1].properties[direction]\n    }));\n  });\n  return obj;\n}\n","import * as React from 'react';\nimport Icon, { IconProps } from '@material-ui/core/Icon';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTwitter } from '@fortawesome/free-brands-svg-icons/faTwitter';\n\ntype Props = IconProps;\n\nclass TwitterIcon extends React.PureComponent<Props> {\n  componentWillMount() {\n    library.add(faTwitter);\n  }\n  public render() {\n    return (\n      <Icon {...this.props}>\n        <FontAwesomeIcon style={{ verticalAlign: '0.125em' }} icon={['fab', 'twitter']} />\n      </Icon>\n    );\n  }\n}\n\nexport default TwitterIcon;\n","import * as React from 'react';\nimport Icon, { IconProps } from '@material-ui/core/Icon';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFacebook } from '@fortawesome/free-brands-svg-icons/faFacebook';\n\ntype Props = IconProps;\n\nclass FacebookIcon extends React.PureComponent<Props> {\n  componentWillMount() {\n    library.add(faFacebook);\n  }\n  public render() {\n    return (\n      <Icon {...this.props}>\n        <FontAwesomeIcon style={{ verticalAlign: '0.125em' }} icon={['fab', 'facebook']} />\n      </Icon>\n    );\n  }\n}\n\nexport default FacebookIcon;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import * as React from 'react';\nimport { color } from 'd3-color';\nimport { scalePow, scaleSequential } from 'd3-scale';\nimport { interpolateSpectral } from 'd3-scale-chromatic';\nimport { GeoProjection } from 'd3-geo';\nimport { Mesh } from '../types';\n\ninterface Props {\n  feature: Mesh;\n  projection: GeoProjection;\n}\n\nexport const colorScale = scaleSequential(interpolateSpectral).domain([1250, 0]);\n\nexport const sizeScale = scalePow()\n  .domain([0, 1000])\n  .range([0, 8])\n  .exponent(0.5);\n\nconst MeshRect: React.FunctionComponent<Props> = (props: Props) => {\n  const { feature, projection } = props;\n  const { val } = feature.properties;\n  const center = projection(feature.geometry.coordinates) || [0, 0];\n  const size = Math.abs(sizeScale(val) * Math.min(Math.max(1, projection.scale() / 125000), 2.5));\n\n  return (\n    <rect\n      fill={color(colorScale(val)).hex()}\n      fillOpacity={0.6}\n      x={(center[0] - size / 2).toFixed(2)}\n      y={(center[1] - size / 2).toFixed(2)}\n      width={size.toFixed(2)}\n      height={size.toFixed(2)}\n    />\n  );\n};\n\nexport default MeshRect;\n","import * as React from 'react';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      fontFamily: theme.typography.fontFamily,\n      width: '100%',\n      maxWidth: 800,\n      margin: 'auto',\n      padding: theme.spacing(2),\n      '@global': {\n        blockquote: {\n          backgroundColor: '#f3f3f3',\n          margin: `${theme.spacing(2)}px auto`,\n          padding: theme.spacing(2),\n          borderLeft: 'solid 4px #ddd',\n          borderRadius: '8px'\n        }\n      }\n    }\n  })\n);\n\ninterface Props {\n  children: JSX.Element[] | JSX.Element;\n}\n\nfunction Container({ children }: Props) {\n  const classes = useStyles({});\n  return <div className={classes.root}>{children}</div>;\n}\n\nexport default Container;\n","import * as React from 'react';\nimport classnames from 'classnames';\n//import { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport withStyles, { WithStyles /*StyleRules*/ } from '@material-ui/core/styles/withStyles';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = createStyles({\n  root: {\n    width: '100%',\n    minHeight: 60\n  },\n  ad: {\n    display: 'block'\n  }\n});\n\ntype Props = WithStyles<typeof styles>;\n\nclass AdBox extends React.PureComponent<Props> {\n  componentDidMount() {\n    if (window) (window.adsbygoogle = window.adsbygoogle || []).push({});\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.root}>\n        <Typography variant=\"subtitle2\">広告</Typography>\n        <ins\n          className={classnames('adsbygoogle', classes.ad)}\n          data-ad-client=\"ca-pub-7323207940463794\"\n          data-ad-slot={3901734109}\n          data-ad-format=\"auto\"\n          data-full-width-responsive={true}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(AdBox);\n","import * as React from 'react';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      backgroundColor: theme.palette.primary.dark,\n      color: 'white'\n    },\n    inner: {\n      display: 'flex',\n      padding: `${theme.spacing(4)}px ${theme.spacing(1)}px`,\n      justifyContent: 'center',\n      justifyItems: 'center'\n    }\n  })\n);\n\nfunction Footer() {\n  const classes = useStyles({});\n  return (\n    <div className={classes.root}>\n      <footer>\n        <div className={classes.inner}>\n          <Typography variant=\"body2\" color=\"inherit\">\n            Copyright © 2019 cieloazul310 All rights reserved.\n          </Typography>\n        </div>\n      </footer>\n    </div>\n  );\n}\n\nexport default Footer;\n","import * as React from 'react';\nimport Icon, { IconProps } from '@material-ui/core/Icon';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faGithub } from '@fortawesome/free-brands-svg-icons/faGithub';\n\ntype Props = IconProps;\n\nclass TwitterIcon extends React.PureComponent<Props> {\n  componentWillMount() {\n    library.add(faGithub);\n  }\n  public render() {\n    return (\n      <Icon {...this.props}>\n        <FontAwesomeIcon style={{ verticalAlign: '0.125em' }} icon={['fab', 'github']} />\n      </Icon>\n    );\n  }\n}\n\nexport default TwitterIcon;\n","import * as React from 'react';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport TwitterIcon from '../components/fa-buttons/TwitterIcon';\nimport FacebookIcon from '../components/fa-buttons/FacebookIcon';\nimport GithubIcon from '../components/fa-buttons/GithubIcon';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    }\n  })\n);\n\ninterface Props {\n  title: string;\n  url: string;\n}\n\nfunction Sharer({ title, url }: Props) {\n  const classes = useStyles({});\n  return (\n    <div className={classes.root}>\n      <IconButton\n        aria-label=\"Share on Twitter\"\n        href={`https://twitter.com/intent/tweet?text=${encodeURI(title)}&url=${encodeURIComponent(url)}`}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <TwitterIcon fontSize=\"large\" />\n      </IconButton>\n      <IconButton\n        aria-label=\"Share on Facebook\"\n        href={`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <FacebookIcon fontSize=\"large\" />\n      </IconButton>\n      <IconButton\n        aria-label=\"View on GitHub\"\n        href=\"https://github.com/cieloazul310/gatsby-stadiums-population\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <GithubIcon fontSize=\"large\" />\n      </IconButton>\n    </div>\n  );\n}\n\nexport default Sharer;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      fontSize: theme.typography.body2.fontSize,\n      padding: `${theme.spacing(1)}px 0`\n    }\n  })\n);\n\ninterface Props {\n  className?: string;\n  children: JSX.Element | JSX.Element[];\n}\n\nfunction FlexTable({ className, children }: Props) {\n  const classes = useStyles({});\n  return <div className={classNames(classes.root, className)}>{children}</div>;\n}\n\nexport default FlexTable;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center',\n      paddingBottom: theme.spacing(1),\n      [theme.breakpoints.down('xs')]: {\n        flexDirection: 'column',\n        alignItems: 'start'\n      }\n    }\n  })\n);\n\ninterface Props {\n  className?: string;\n  children: JSX.Element | JSX.Element[];\n}\n\nfunction FlexRow({ className, children }: Props) {\n  const classes = useStyles({});\n  return <div className={classNames(classes.root, className)}>{children}</div>;\n}\nexport default FlexRow;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '6em',\n      textAlign: 'right',\n      fontWeight: 'bold',\n      [theme.breakpoints.down('xs')]: {\n        width: '100%',\n        textAlign: 'left'\n      }\n    }\n  })\n);\n\ninterface Props {\n  className?: string;\n  children: JSX.Element | (JSX.Element | string)[] | string;\n}\n\nfunction FlexTh({ className, children }: Props) {\n  const classes = useStyles({});\n  return <div className={classNames(classes.root, className)}>{children}</div>;\n}\nexport default FlexTh;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flex: '1',\n      paddingLeft: theme.spacing(1),\n      textAlign: 'left',\n      [theme.breakpoints.down('xs')]: {\n        paddingLeft: theme.spacing(2)\n      }\n    }\n  })\n);\n\ninterface Props {\n  className?: string;\n  children: JSX.Element | (JSX.Element | string)[] | string;\n}\n\nfunction FlexTd({ className, children }: Props) {\n  const classes = useStyles({});\n  return <div className={classNames(classes.root, className)}>{children}</div>;\n}\nexport default FlexTd;\n","import * as React from 'react';\nimport { Link } from 'gatsby';\nimport classNames from 'classnames';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Popper from '@material-ui/core/Popper';\nimport Grow from '@material-ui/core/Grow';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport MenuList from '@material-ui/core/MenuList';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport lightBlue from '@material-ui/core/colors/lightBlue';\n// Icons\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport ArrowForward from '@material-ui/icons/ArrowForward';\n\nimport {\n  Edge,\n  AppState,\n  TableState,\n  Radiuses,\n  radiusLabels,\n  Categories,\n  navigateWithState,\n  Group,\n  footballCategories,\n  basketballCategories\n} from '../types';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      fontSize: theme.typography.body2.fontSize,\n      fontFamily: theme.typography.fontFamily\n    },\n    table: {\n      overflowY: 'auto',\n      overflowScrolling: 'touch',\n      WebkitOverflowScrolling: 'touch',\n      zIndex: 0,\n      height: 'calc(100% - 150px)'\n    },\n    header: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText,\n      position: 'sticky',\n      display: 'flex',\n      flexDirection: 'column',\n      height: 140,\n      boxShadow: theme.shadows[1],\n      zIndex: 99\n    },\n    toolbar: {\n      display: 'flex',\n      flexDirection: 'row',\n      height: 56\n    },\n    title: {\n      flex: 1\n    },\n    filterMenuWrapper: {\n      zIndex: 100\n    },\n    filter: {\n      paddingLeft: theme.spacing(8),\n      flex: 1\n    },\n    headerRowHead: {\n      flex: 1,\n      display: 'flex',\n      '@media (max-width: 720px)': {\n        display: 'none'\n      }\n    },\n    headerRowBody: {\n      display: 'flex',\n      justifyContent: 'space-evenly'\n    },\n    labelCell: {\n      borderBottom: '2px solid rgba(255, 255, 255, 0)',\n      transition: 'border .25s',\n      '&:hover': {\n        borderBottom: '2px solid white'\n      }\n    },\n    labelCellActive: {\n      borderBottom: '2px solid white'\n    },\n    labelRoot: {\n      color: '#ddd',\n      '&:hover': {\n        color: theme.palette.primary.contrastText\n      },\n      '&:focus': {\n        color: theme.palette.primary.contrastText\n      }\n    },\n    labelActive: {\n      color: theme.palette.primary.contrastText,\n      '&:hover': {\n        color: theme.palette.primary.contrastText\n      },\n      '&:focus': {\n        color: theme.palette.primary.contrastText\n      }\n    },\n    labelIcon: {\n      color: theme.palette.primary.contrastText\n    },\n    thead: {},\n    row: {\n      display: 'flex',\n      flexDirection: 'row',\n      '@media (max-width: 720px)': {\n        flexDirection: 'column',\n        borderBottom: '1px solid #ddd'\n      }\n    },\n    rowHead: {\n      flex: 1,\n      display: 'flex',\n      boxSizing: 'border-box',\n      borderRight: '1px solid #eee',\n      '@media (max-width: 720px)': {\n        borderRight: 'none',\n        borderBottom: '1px solid #eee'\n      }\n    },\n    index: {\n      width: '4em',\n      padding: '1rem .5rem',\n      boxSizing: 'border-box',\n      textAlign: 'right'\n    },\n    name: {\n      padding: '1rem',\n      boxSizing: 'border-box',\n      flex: 1,\n      fontWeight: 'bold'\n    },\n    category: {\n      color: '#333',\n      padding: '1rem',\n      boxSizing: 'border-box'\n    },\n    rowBody: {\n      display: 'flex',\n      justifyContent: 'space-evenly'\n    },\n    val: {\n      width: '9em',\n      padding: '1rem',\n      boxSizing: 'border-box',\n      display: 'flex',\n      flexDirection: 'row-reverse'\n    },\n    link: {\n      color: theme.palette.primary.main,\n      '&:visited': {\n        color: lightBlue[900]\n      },\n      '&:hover': {\n        color: lightBlue[500]\n      }\n    }\n  });\n\ninterface Props extends WithStyles<typeof styles> {\n  edges: Edge[];\n  width: number;\n  height: number;\n  appState: AppState;\n  group: Group;\n  title: string;\n}\n\ninterface State extends TableState {\n  readonly menuOpen: boolean;\n}\n\nclass RCTable extends React.Component<Props, State> {\n  readonly state: State = this.props.appState\n    ? {\n        ...this.props.appState.tableState,\n        menuOpen: false\n      }\n    : {\n        ascSort: false,\n        sortKey: Radiuses.radius10000,\n        filterRule: [],\n        menuOpen: false\n      };\n  private anchorEl: HTMLElement | null = null;\n  private _handleSort = (radius: Radiuses) => {\n    this.setState(prevState => ({\n      ascSort: prevState.sortKey === radius ? !prevState.ascSort : false,\n      sortKey: radius\n    }));\n  };\n  private _handleMenuOpen = () => {\n    this.setState(prev => ({\n      menuOpen: !prev.menuOpen\n    }));\n  };\n  private _handleFilterRule = (category: Categories) => {\n    this.setState(prevState => ({\n      filterRule:\n        prevState.filterRule.indexOf(category) >= 0\n          ? prevState.filterRule.filter(filter => filter !== category)\n          : [...prevState.filterRule, category]\n    }));\n  };\n  public render() {\n    const { classes, edges, width, height, appState, group, title } = this.props;\n    const { ascSort, sortKey, filterRule, menuOpen } = this.state;\n    const categories: Categories[] = group === 'venues' ? footballCategories : group === 'arenas' ? basketballCategories : [];\n    return (\n      <Paper\n        className={classes.root}\n        style={{\n          width: width,\n          height: height\n        }}\n      >\n        <div className={classes.header}>\n          <Toolbar className={classes.toolbar}>\n            {' '}\n            <Tooltip title=\"フィルター\">\n              <IconButton\n                color=\"inherit\"\n                aria-label=\"フィルター\"\n                aria-owns={menuOpen ? 'menu-list' : undefined}\n                aria-haspopup=\"true\"\n                buttonRef={node => {\n                  this.anchorEl = node;\n                }}\n                onClick={this._handleMenuOpen}\n              >\n                <FilterListIcon />\n              </IconButton>\n            </Tooltip>\n            <Popper\n              className={classes.filterMenuWrapper}\n              anchorEl={this.anchorEl}\n              open={menuOpen}\n              transition\n              disablePortal\n              placement=\"bottom-start\"\n            >\n              {({ TransitionProps }) => (\n                <Grow {...TransitionProps} style={{ transformOrigin: 'left top' }}>\n                  <Paper>\n                    <ClickAwayListener\n                      onClickAway={event => {\n                        if (this.anchorEl === null || this.anchorEl.contains(event.target)) {\n                          return;\n                        }\n                        this.setState({ menuOpen: false });\n                      }}\n                    >\n                      <MenuList>\n                        {categories.map((category, index) => (\n                          <MenuItem\n                            key={index}\n                            onClick={() => {\n                              this._handleFilterRule(category);\n                            }}\n                          >\n                            <ListItemIcon>\n                              {filterRule.indexOf(category) < 0 ? <CheckCircleIcon /> : <RemoveIcon color=\"disabled\" />}\n                            </ListItemIcon>\n                            <ListItemText inset primary={category} />\n                          </MenuItem>\n                        ))}\n                      </MenuList>\n                    </ClickAwayListener>\n                  </Paper>\n                </Grow>\n              )}\n            </Popper>\n            <Typography className={classes.title} variant=\"h6\" color=\"inherit\">\n              {title}と距離圏人口\n            </Typography>\n            <Tooltip title=\"ダイジェスト\">\n              <IconButton\n                aria-label=\"ダイジェストへ\"\n                aria-owns=\"next\"\n                role=\"button\"\n                aria-haspopup=\"true\"\n                color=\"inherit\"\n                onClick={() => {\n                  navigateWithState(`/${group}/manholes`, {\n                    mapState: appState.mapState,\n                    tableState: {\n                      ascSort,\n                      sortKey,\n                      filterRule\n                    }\n                  });\n                }}\n              >\n                <ArrowForward />\n              </IconButton>\n            </Tooltip>\n          </Toolbar>\n          <div className={classes.filter}>表示中: {categories.filter(category => filterRule.indexOf(category) < 0).join(', ')}</div>\n          <div className={classes.thead}>\n            <div className={classes.row}>\n              <div className={classes.headerRowHead}>\n                <div className={classes.index}>i</div>\n                <div className={classes.name}>name</div>\n              </div>\n              <div className={classes.headerRowBody}>\n                {Object.entries(radiusLabels).map((d, index) => (\n                  <div\n                    key={index}\n                    role=\"button\"\n                    className={classNames(classes.val, classes.labelCell, { [`${classes.labelCellActive}`]: Radiuses[d[0]] === sortKey })}\n                  >\n                    <TableSortLabel\n                      classes={{\n                        root: classes.labelRoot,\n                        active: classes.labelActive,\n                        icon: classes.labelIcon\n                      }}\n                      active={Radiuses[d[0]] === sortKey}\n                      direction={ascSort ? 'asc' : 'desc'}\n                      onClick={() => this._handleSort(Radiuses[d[0]])}\n                    >\n                      {d[1]}\n                    </TableSortLabel>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div\n          className={classes.table}\n          style={\n            {\n              /*height: height - 140*/\n            }\n          }\n        >\n          {sortData(edges, { ascSort, sortKey, filterRule }).map((edge, index) => (\n            <div key={index} className={classes.row}>\n              <div className={classes.rowHead}>\n                <div className={classes.index}>{index + 1}</div>\n                <div className={classes.name}>\n                  <Link\n                    to={edge.node.fields.slug}\n                    className={classes.link}\n                    state={{\n                      appState: {\n                        mapState: appState.mapState,\n                        tableState: {\n                          ascSort,\n                          sortKey,\n                          filterRule\n                        }\n                      }\n                    }}\n                  >\n                    {edge.node.summary.name}\n                  </Link>\n                </div>\n                <div className={classes.category}>{edge.node.summary.shortname.join(' ')}</div>\n              </div>\n              <div className={classes.rowBody}>\n                <div className={classes.val}>{edge.node.summary.radius1000.toLocaleString()}</div>\n                <div className={classes.val}>{edge.node.summary.radius3000.toLocaleString()}</div>\n                <div className={classes.val}>{edge.node.summary.radius5000.toLocaleString()}</div>\n                <div className={classes.val}>{edge.node.summary.radius10000.toLocaleString()}</div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </Paper>\n    );\n  }\n}\n\nexport default withStyles(styles)(RCTable);\n\n// helpers\nexport function sortData(edges: Edge[], { ascSort, sortKey, filterRule }: TableState): Edge[] {\n  const isAsc = ascSort ? 1 : -1;\n  const prop: keyof typeof Radiuses = Radiuses[sortKey];\n\n  return filterRule.length\n    ? edges\n        .filter(edge => edge.node.summary.category.some(category => filterRule.indexOf(category) < 0))\n        .sort((a, b) => isAsc * (a.node.summary[prop] - b.node.summary[prop]))\n    : edges.sort((a, b) => isAsc * (a.node.summary[prop] - b.node.summary[prop]));\n}\n","import * as React from 'react';\nimport { scaleLinear } from 'd3-scale';\nimport { arc as d3arc } from 'd3-shape';\nimport { colorScale } from './MeshFeature';\nimport { GeometryObject } from 'topojson-specification';\nimport { Directions, directions, Radiuses, radiuses, BufferProps } from '../types';\n\ninterface Props {\n  item: GeometryObject<BufferProps>[];\n}\n\nconst color = colorScale.copy();\nconst newDomain: [number, number] = [colorScale.domain()[0] * 8, 0];\ncolor.domain(newDomain);\nconst opacity = scaleLinear()\n  .domain([250, 0])\n  .range([1, 0]);\n\nconst Pie: React.FC<Props> = ({ item }: Props) => {\n  const size = 300;\n\n  return (\n    <svg viewBox={`0 0 ${size} ${size}`}>\n      {item.map((d, i, arr) => (\n        <g key={i} transform={`translate(${size / 2}, ${size / 2})`}>\n          {directions.map(key => {\n            const val = i === 0 ? d.properties[key] : d.properties[key] - arr[i - 1].properties[key];\n            const density = calcDensity(val, d.properties.radius);\n            const { startAngle, endAngle } = directionToAngle(Directions[key]);\n            const arc = d3arc()({\n              startAngle,\n              endAngle,\n              innerRadius: ((size - 8) * (i + 1)) / 10 + 2,\n              outerRadius: ((size - 8) * (i + 2)) / 10,\n              padAngle: 0.05\n            });\n            return (\n              <g key={key}>\n                <path key={key} d={arc || undefined} fill={color(density)} fillOpacity={opacity(density)} />\n              </g>\n            );\n          })}\n        </g>\n      ))}\n    </svg>\n  );\n};\n\nexport default Pie;\n\n// utils\nfunction directionToAngle(direction: Directions) {\n  const angle = (Math.PI * 2) / (Object.keys(Directions).length / 2);\n  return {\n    startAngle: direction * angle - angle / 2,\n    endAngle: direction * angle + angle / 2\n  };\n}\n\nfunction calcDensity(val: number, radius: Radiuses) {\n  const index = radiuses.indexOf(radius);\n  return index === 0\n    ? (val * 8) / (Math.pow(radiuses[index] / 1000, 2) * Math.PI)\n    : (val * 8) / (Math.pow(radiuses[index] / 1000, 2) * Math.PI - Math.pow(radiuses[index - 1] / 1000, 2) * Math.PI);\n}\n","import * as React from 'react';\nimport { StaticQuery, graphql } from 'gatsby';\nimport Typography from '@material-ui/core/Typography';\nimport FlexTable from '../components/FlexTable/FlexTable';\nimport FlexRow from '../components/FlexTable/FlexRow';\nimport FlexTh from '../components/FlexTable/FlexTh';\nimport FlexTd from '../components/FlexTable/FlexTd';\n\ninterface Query {\n  site: {\n    siteMetadata: {\n      title: string;\n      siteUrl: string;\n      description: string;\n      date: string;\n      lastmod: string;\n      author: {\n        name: string;\n        url: string;\n        siteName: string;\n        twitter: string;\n        github: string;\n      };\n    };\n  };\n}\n\nconst Attribution: React.FunctionComponent<{}> = () => (\n  <StaticQuery\n    query={graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            siteUrl\n            description\n            date\n            lastmod\n            author {\n              name\n              url\n              siteName\n              twitter\n              github\n            }\n          }\n        }\n      }\n    `}\n    render={(data: Query) => (\n      <section>\n        <Typography variant=\"h5\" gutterBottom>\n          {data.site.siteMetadata.title}\n        </Typography>\n        <Typography variant=\"body1\" paragraph>\n          {data.site.siteMetadata.description}\n        </Typography>\n        <FlexTable>\n          <FlexRow>\n            <FlexTh>人口データ</FlexTh>\n            <FlexTd>\n              <a\n                href=\"https://www.e-stat.go.jp/gis/statmap-search?page=1&type=1&toukeiCode=00200521&toukeiYear=2015&aggregateUnit=Q&serveyId=Q002005112015&statsId=T000876\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                国勢調査2015年 5次メッシュ(250mメッシュ)\n              </a>\n            </FlexTd>\n          </FlexRow>\n          <FlexRow>\n            <FlexTh>演算</FlexTh>\n            <FlexTd>\n              <a href=\"http://turfjs.org\" target=\"_blank\" rel=\"noopener noreferrer\">\n                Turf.js\n              </a>\n            </FlexTd>\n          </FlexRow>\n          <FlexRow>\n            <FlexTh>地図</FlexTh>\n            <FlexTd>\n              <a href=\"https://maps.gsi.go.jp/development/ichiran.html\" target=\"_blank\" rel=\"noopener noreferrer\">\n                地理院タイル\n              </a>\n            </FlexTd>\n          </FlexRow>\n          <FlexRow>\n            <FlexTh>制作</FlexTh>\n            <FlexTd>\n              <a href={data.site.siteMetadata.author.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                水戸地図\n              </a>\n            </FlexTd>\n          </FlexRow>\n          <FlexRow>\n            <FlexTh>Twitter</FlexTh>\n            <FlexTd>\n              <a href={`http://twitter.com/${data.site.siteMetadata.author.twitter}`} target=\"_blank\" rel=\"noopener noreferrer\">\n                @cieloazul310\n              </a>\n            </FlexTd>\n          </FlexRow>\n          <FlexRow>\n            <FlexTh>GitHub</FlexTh>\n            <FlexTd>\n              <a href=\"https://github.com/cieloazul310/gatsby-stadiums-population\" target=\"_blank\" rel=\"noopener noreferrer\">\n                gatsby-stadiums-population\n              </a>\n            </FlexTd>\n          </FlexRow>\n          <FlexRow>\n            <FlexTh>公開日</FlexTh>\n            <FlexTd>\n              <time>{data.site.siteMetadata.date}</time>\n            </FlexTd>\n          </FlexRow>\n          <FlexRow>\n            <FlexTh>最終更新</FlexTh>\n            <FlexTd>\n              <time>{data.site.siteMetadata.lastmod}</time>\n            </FlexTd>\n          </FlexRow>\n        </FlexTable>\n        <Typography variant=\"body1\" paragraph />\n        <Typography variant=\"h6\" gutterBottom>\n          データの利用について\n        </Typography>\n        <Typography variant=\"body1\" paragraph>\n          本サイトに掲載しているデータは「URL または\n          サイト名」及び「データの出典元（地域メッシュ統計）」を明記した上で、自由に利用可能です。地図を利用する際には、\n          <a href=\"http://www.gsi.go.jp/kikakuchousei/kikakuchousei40182.html\" target=\"_blank\" rel=\"noopener noreferrer\">\n            国土地理院コンテンツ利用規約\n          </a>\n          を参照ください。\n        </Typography>\n        <Typography variant=\"body2\" paragraph>\n          記載例: 「出典: 水戸地図、2015年度国勢調査250mメッシュ人口」\n        </Typography>\n      </section>\n    )}\n  />\n);\n\nexport default Attribution;\n","import * as React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport FlexTable from '../components/FlexTable/FlexTable';\nimport FlexRow from '../components/FlexTable/FlexRow';\nimport FlexTh from '../components/FlexTable/FlexTh';\nimport FlexTd from '../components/FlexTable/FlexTd';\n\nfunction DataAttribution() {\n  return (\n    <section>\n      <Typography variant=\"h6\" gutterBottom>\n        人口データについて\n      </Typography>\n      <Typography variant=\"body1\" paragraph>\n        人口データは総務省統計局の地域メッシュ統計を点データに変換したものを用いています。\n      </Typography>\n      <FlexTable>\n        <FlexRow>\n          <FlexTh>データ</FlexTh>\n          <FlexTd>\n            <a\n              href=\"https://www.e-stat.go.jp/gis/statmap-search?page=1&type=1&toukeiCode=00200521&toukeiYear=2015&aggregateUnit=Q&serveyId=Q002005112015&statsId=T000876\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              国勢調査 2015年 5次メッシュ(250mメッシュ)\n              <br />\n              その1 人口等基本集計に関する事項\n            </a>\n          </FlexTd>\n        </FlexRow>\n        <FlexRow>\n          <FlexTh>データ公開日</FlexTh>\n          <FlexTd>\n            <time>2018-01-04</time>\n          </FlexTd>\n        </FlexRow>\n        <FlexRow>\n          <FlexTh>データ取得日</FlexTh>\n          <FlexTd>\n            <time>2018-04-10</time>\n          </FlexTd>\n        </FlexRow>\n      </FlexTable>\n      <blockquote>\n        <Typography variant=\"subtitle1\" gutterBottom>\n          地域メッシュ統計とは\n        </Typography>\n        <Typography variant=\"body1\" paragraph>\n          {\n            '地域メッシュ統計とは，緯度・経度に基づき地域を隙間なく網の目（メッシュ）の区域に分けて，それぞれの区域に関する統計データを編成したものです。'\n          }\n        </Typography>\n        <Typography variant=\"body2\">\n          引用元:{' '}\n          <a href=\"https://www.stat.go.jp/data/mesh/m_tuite.html\" target=\"_blank\" rel=\"noopener noreferrer\">\n            総務省統計局\n          </a>\n        </Typography>\n      </blockquote>\n      <Typography variant=\"h6\" gutterBottom>\n        距離円と人口データの演算\n      </Typography>\n      <Typography variant=\"body1\" paragraph>\n        距離円および距離円に含まれる人口データは JavaScript ライブラリである{' '}\n        <a href=\"https://turfjs.org\" target=\"_blank\" rel=\"noopener noreferrer\">\n          Turf.js\n        </a>{' '}\n        で算出しました。\n      </Typography>\n      <Typography variant=\"body1\">\n        人口の算出方法は、\n        <a\n          href=\"https://midoriit.com/2014/08/qgis%E3%81%AB%E3%82%88%E3%82%8B%E7%B5%B1%E8%A8%88%E8%A7%A3%E6%9E%904.html\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          QGISによるデータ分析(4) 合同会社 緑IT事務所\n        </a>\n        を参考にしています。\n      </Typography>\n    </section>\n  );\n}\n\nfunction MapAttribution() {\n  return (\n    <section>\n      <Typography variant=\"h6\" gutterBottom>\n        地図について\n      </Typography>\n      <Typography variant=\"body1\" paragraph>\n        背景地図には国土地理院の\n        <a href=\"https://maps.gsi.go.jp/development/ichiran.html\" target=\"_blank\" rel=\"noopener noreferrer\">\n          地理院タイル\n        </a>\n        を使用しています。標準モードでは電子国土基本図、地形モードでは傾斜量図を表示しています。\n      </Typography>\n      <blockquote>\n        <Typography variant=\"subtitle1\" gutterBottom>\n          電子国土基本図\n        </Typography>\n        <Typography variant=\"body1\" paragraph>\n          {\n            '電子国土基本図（地図情報）とは、道路、建物などの電子地図上の位置の基準である項目（基盤地図情報の取得項目）と、植生、崖、岩、構造物などの土地の状況を表す項目とを一つにまとめたデータです。電子国土基本図（地図情報）は、縮尺レベル25000の精度に限定することなく、より精度の高いものを含んだ我が国全域を覆うベクトル形式の基盤データで、これまでの2万5千分1地形図に替わる新たな基本図と位置づけられるものです。'\n          }\n        </Typography>\n        <Typography variant=\"body2\">\n          引用元: <a href=\"http://www.gsi.go.jp/kibanjoho/mapinfo_what.html\">国土地理院</a>\n        </Typography>\n      </blockquote>\n      <blockquote>\n        <Typography variant=\"subtitle1\" gutterBottom>\n          傾斜量図\n        </Typography>\n        <Typography variant=\"body1\" paragraph>\n          {\n            '地表面の傾きの量を算出し、その大きさを白黒の濃淡で表現したものです。白いほど傾斜が緩やか、黒いほど急峻であることを意味します。台地、段丘、山地、火山地形、地すべり、断層などの地形判読などにご活用いただけます。'\n          }\n        </Typography>\n        <Typography variant=\"body2\">\n          引用元: <a href=\"http://www.gsi.go.jp/bousaichiri/slopemap.html\">国土地理院</a>\n        </Typography>\n      </blockquote>\n    </section>\n  );\n}\nexport { DataAttribution, MapAttribution };\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0xMiAyQzguMTMgMiA1IDUuMTMgNSA5YzAgNS4yNSA3IDEzIDcgMTNzNy03Ljc1IDctMTNjMC0zLjg3LTMuMTMtNy03LTd6bTAiIGZpbGw9IiMwMDkxRUEiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgPHBhdGggZD0iTTEyIDExLjVjLTEuMzggMC0yLjUtMS4xMi0yLjUtMi41czEuMTItMi41IDIuNS0yLjUgMi41IDEuMTIgMi41IDIuNS0xLjEyIDIuNS0yLjUgMi41eiIgZmlsbD0id2hpdGUiLz4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz4KPC9zdmc+Cg==\"","import fetch from 'isomorphic-fetch';\n\nexport interface Tile {\n  id: string;\n  x: number;\n  y: number;\n  z: number;\n  tx: number;\n  ty: number;\n  scale: number;\n  translate: [number, number];\n  mag: number;\n}\n\ntype TileUrl = string | undefined;\n\nexport interface TileWithURL extends Tile {\n  url: TileUrl;\n}\n\nexport interface TileTree {\n  [key: string]: {\n    [key: string]: {\n      [key: string]: TileUrl;\n    };\n  };\n}\n\ninterface TileSetOptions {\n  url?: string;\n  maxZoom?: number;\n  minZoom?: number;\n}\n\nclass TileSet {\n  readonly tileTree: TileTree;\n  readonly maxZoom: number;\n  readonly minZoom: number;\n  readonly tileUrl: string;\n  constructor(options: TileSetOptions = {}) {\n    this.tileUrl = options.url || '//cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png';\n    this.maxZoom = options.maxZoom || 20;\n    this.minZoom = options.maxZoom || 2;\n    this.tileTree = {};\n  }\n\n  private treeIncludesTile(tile: Tile): boolean {\n    const { x, y, z } = tile;\n    return (\n      this.tileTree.hasOwnProperty(z.toString()) &&\n      this.tileTree[z.toString()].hasOwnProperty(x.toString()) &&\n      this.tileTree[z.toString()][x.toString()].hasOwnProperty(y.toString())\n    );\n  }\n\n  private tile2tree(tile: TileWithURL) {\n    const { x, y, z, url } = tile;\n    if (!this.tileTree.hasOwnProperty(z.toString())) {\n      this.tileTree[z.toString()] = {\n        [x.toString()]: {\n          [y.toString()]: url\n        }\n      };\n    } else if (!this.tileTree[z.toString()].hasOwnProperty(x.toString())) {\n      this.tileTree[z.toString()][x.toString()] = {\n        [y.toString()]: url\n      };\n    } else {\n      this.tileTree[z.toString()][x.toString()][y.toString()] = url;\n    }\n  }\n  // fetch new tiles\n  private fetchTiles(tiles: Tile[]): Promise<TileWithURL[]> {\n    return new Promise(resolve => {\n      const tasks = tiles.map(tile => this.fetchTile(tile, this.tileUrl));\n      Promise.all(tasks).then((data: TileWithURL[]) => {\n        resolve(data);\n      });\n    });\n  }\n  private fetchTile(tile: Tile, url: string): Promise<TileWithURL> {\n    const { x, y, z } = tile;\n    const fetchUrl = url.replace('{z}/{x}/{y}', `${z}/${x}/${y}`);\n\n    return fetch(fetchUrl)\n      .then(res => {\n        if (!res.ok) throw new Error();\n        return res.blob();\n      })\n      .then(blob => {\n        const tileWithURL: TileWithURL = {\n          ...tile,\n          url: URL.createObjectURL(blob)\n        };\n        this.tile2tree(tileWithURL);\n        return tileWithURL;\n      })\n      .catch(() => {\n        const tileWithURL: TileWithURL = {\n          ...tile,\n          url: undefined\n        };\n        this.tile2tree(tileWithURL);\n        return tileWithURL;\n      });\n  }\n\n  // helpers\n\n  public isRequireFetch(tiles: Tile[]): boolean {\n    return !tiles.every(tile => this.treeIncludesTile(tile));\n  }\n\n  public setTileUrlFromTree(tiles: Tile[]): TileWithURL[] {\n    return tiles\n      .filter(tile => this.treeIncludesTile(tile))\n      .map(tile => ({\n        ...tile,\n        url: this.tileTree[tile.z][tile.x][tile.y]\n      }));\n  }\n\n  public async updateTiles(newTiles: Tile[]) {\n    const tilesInTree = this.setTileUrlFromTree(newTiles.filter(tile => this.treeIncludesTile(tile)));\n\n    const tilesShouldFetch = newTiles.filter(tile => !this.treeIncludesTile(tile));\n\n    const fetchedTiles: TileWithURL[] = await this.fetchTiles(tilesShouldFetch);\n\n    return [...tilesInTree, ...fetchedTiles];\n  }\n}\n\nexport default TileSet;\n","import * as React from 'react';\n/*\nconst filterMatrix = [\n  \"0.3333 0.3333 0.3333 0 0\",\n  \"0.3333 0.3333 0.3333 0 0\",\n  \"0.3333 0.3333 0.3333 0 0\",\n  \"0 0 0 1 0\"\n];\n*/\nconst filterMatrix = ['0.3333 0.3333 0.3333 0 0', '0.3333 0.3333 0.3333 0 0', '0.3333 0.3333 0.3333 0 0', '0 0 0 1 0'];\n\ninterface Props {\n  id: string;\n}\n\nfunction GrayScaleFilter(props: Props) {\n  return (\n    <filter id={props.id}>\n      <feColorMatrix type=\"matrix\" values={filterMatrix.join(' ')} />\n    </filter>\n  );\n}\n\nexport default GrayScaleFilter;\n","import * as React from 'react';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nconst d3tile = require('d3-tile').tile;\n\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport bbox from '@turf/bbox';\nimport { geoMercator, geoPath, GeoProjection, GeoPath } from 'd3-geo';\nimport TileSet, { Tile, TileWithURL } from '../utils/tileTree';\nimport MeshFeature from '../components/MeshFeature';\nimport GrayScaleFilter from '../components/GrayScaleFilter';\nimport { Mesh, Buffer, MapState, radiuses } from '../types';\n\nimport Place from '../image/place.svg';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      fontFamily: theme.typography.fontFamily\n    },\n    buffer: {\n      opacity: 0.2,\n      '&:hover': {\n        opacity: 1\n      }\n    },\n    bufferText: { fontSize: '80%', fontWeight: 'bold' },\n    progress: {\n      position: 'absolute',\n      width: '100%',\n      top: 0,\n      left: 0\n    },\n    tiles: {\n      '@global': {\n        image: {\n          imageRendering: '-webkit-optimize-contrast',\n          shapeRendering: 'auto'\n        }\n      }\n    },\n    points: {\n      '@global': {\n        rect: {\n          mixBlendMode: 'multiply'\n        }\n      }\n    }\n  });\n\ninterface D3TileArray<T> extends Array<T> {\n  scale: number;\n  translate: [number, number];\n}\n\ninterface Props extends WithStyles<typeof styles> {\n  width: number;\n  height: number;\n  mapState: MapState;\n  meshes: Mesh[];\n  buffers: Buffer[];\n}\n\ninterface State {\n  readonly fetchStatus?: 'yet' | 'fetching' | 'fetched';\n}\n\nclass Map extends React.Component<Props, State> {\n  readonly state: State = {\n    fetchStatus: 'yet'\n  };\n  private _tileSet = new TileSet();\n  private _terrain = new TileSet({\n    url: '//cyberjapandata.gsi.go.jp/xyz/slopemap/{z}/{x}/{y}.png'\n  });\n  // Tile Maps\n  // slope: //cyberjapandata.gsi.go.jp/xyz/slopemap/{z}/{x}/{y}.png\n\n  private _getTileCoordinates = (projection: GeoProjection, maxZoom: number = 20): Tile[] => {\n    const { width, height } = this.props;\n    let mag: number = 1.5;\n\n    const zoomer = Math.log2((projection.scale() * 2 * mag * Math.PI) / 256);\n    // required zoom level > maxZoom\n    if (zoomer >= maxZoom + 0.5) {\n      mag = Math.pow(2, maxZoom + 0.5 - zoomer);\n    }\n\n    const tiles: Tile[] = d3tile()\n      .size([width * mag, height * mag])\n      .scale(projection.scale() * 2 * Math.PI * mag)\n      .translate(projection([0, 0]).map(v => v * mag))()\n      .map((tile: { x: number; y: number; z: number }, index: number, array: D3TileArray<Tile>) => ({\n        ...tile,\n        mag,\n        id: `${tile.z}/${tile.x}/${tile.y}`,\n        scale: array.scale,\n        translate: array.translate\n      }));\n\n    return tiles;\n  };\n\n  private _fetchTiles = (tiles: Tile[], tileSet: TileSet) => {\n    return tileSet.updateTiles(tiles);\n  };\n\n  componentDidMount() {}\n\n  public render() {\n    const { classes, buffers, meshes, mapState } = this.props;\n    const { popVisibility, bufferVisibility, zoomLevel, terrain } = mapState;\n    const width = this.props.width || 400;\n    const height = this.props.height || 400;\n    const projection = buffers\n      ? geoMercator().fitExtent([[10, 40], [width - 10, height - 40]], buffers[radiuses.indexOf(zoomLevel)])\n      : geoMercator();\n\n    const path: GeoPath = geoPath(projection);\n    const tileSet = !terrain ? this._tileSet : this._terrain;\n    const tileCoords = !terrain ? this._getTileCoordinates(projection) : this._getTileCoordinates(projection, 15);\n\n    let renderTiles: TileWithURL[] = tileSet.setTileUrlFromTree(tileCoords);\n    let hoge = null;\n    if (tileSet.isRequireFetch(tileCoords)) {\n      hoge = <LinearProgress className={classes.progress} color=\"secondary\" />;\n      this._fetchTiles(tileCoords, tileSet).then(() => {\n        this.setState({ fetchStatus: 'fetched' });\n      });\n    }\n\n    return (\n      <div className={classes.root}>\n        <svg width={width} height={height}>\n          <g className={classes.tiles}>\n            <GrayScaleFilter id=\"grayscale\" />\n            <g filter=\"url(#grayscale)\" className={classes.tiles} style={{ opacity: this.state.fetchStatus !== 'fetching' ? 1 : 0 }}>\n              {renderTiles.map((tile, index) => (\n                <image\n                  key={index}\n                  xlinkHref={tile.url}\n                  x={((tile.x + tile.translate[0]) * tile.scale) / tile.mag}\n                  y={((tile.y + tile.translate[1]) * tile.scale) / tile.mag}\n                  width={tile.scale / tile.mag}\n                  height={tile.scale / tile.mag}\n                />\n              ))}\n            </g>\n          </g>\n          {popVisibility ? (\n            <g className={classes.points} style={{ opacity: this.state.fetchStatus !== 'yet' ? 1 : 0 }}>\n              {meshes.map((feature, index) =>\n                feature.geometry.type === 'Point' ? <MeshFeature key={index} feature={feature} projection={projection} /> : null\n              )}\n            </g>\n          ) : null}\n          {bufferVisibility ? (\n            <g>\n              {buffers\n                ? buffers.map((feature, index) => {\n                    const bb = bbox(feature);\n                    const lb = projection([bb[2] + (bb[0] - bb[2]) / 2, bb[1]]);\n                    return (\n                      <g key={index} className={classes.buffer}>\n                        <path d={path(feature) || undefined} fill=\"none\" stroke=\"rgba(255, 255, 255, 0.2)\" strokeWidth={12} />\n                        <path d={path(feature) || undefined} fill=\"none\" stroke=\"rgb(200, 60, 80)\" strokeWidth={3} />\n                        <text className={classes.bufferText} x={lb[0]} y={lb[1]} dy=\"1em\" textAnchor=\"middle\" fill=\"rgb(200, 60, 80)\">\n                          {feature.properties.radius}\n                        </text>\n                      </g>\n                    );\n                  })\n                : null}\n            </g>\n          ) : null}\n          <g>\n            <image xlinkHref={Place} x={width / 2} y={height / 2} width={28} height={28} transform=\"translate(-14, -26)\" />\n          </g>\n        </svg>\n        {hoge || null}\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(Map);\n","import * as React from 'react';\nimport List from '@material-ui/core/List';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Hidden from '@material-ui/core/Hidden';\nimport Switch from '@material-ui/core/Switch';\nimport { MapState, Radiuses } from '../../types';\n\n// Icons\nimport ZoomIn from '@material-ui/icons/ZoomIn';\nimport ZoomOut from '@material-ui/icons/ZoomOut';\nimport LandScape from '@material-ui/icons/LandScape';\nimport PeopleIcon from '@material-ui/icons/People';\nimport Adjust from '@material-ui/icons/Adjust';\n\ninterface Props {\n  mapState: MapState;\n  handleZoomIn: () => any;\n  handleZoomOut: () => any;\n  handleTerrain: () => any;\n  handlePopVisibility: () => any;\n  handleBufferVisibility: () => any;\n}\n\nconst MapHandler: React.FunctionComponent<Props> = ({\n  mapState,\n  handleZoomIn,\n  handleZoomOut,\n  handleTerrain,\n  handlePopVisibility,\n  handleBufferVisibility\n}: Props) => (\n  <List subheader={<ListSubheader>地図</ListSubheader>}>\n    <Hidden smDown implementation=\"css\">\n      <ListItem button selected={mapState.zoomLevel === Radiuses.radius1000} onClick={handleZoomIn}>\n        <ListItemIcon>\n          <ZoomIn />\n        </ListItemIcon>\n        <ListItemText>地図を拡大</ListItemText>\n      </ListItem>\n      <ListItem button selected={mapState.zoomLevel === Radiuses.radius10000} onClick={handleZoomOut}>\n        <ListItemIcon>\n          <ZoomOut />\n        </ListItemIcon>\n        <ListItemText primary=\"地図を縮小\" />\n      </ListItem>\n    </Hidden>\n    <ListItem>\n      <ListItemIcon>\n        <LandScape />\n      </ListItemIcon>\n      <ListItemText primary=\"地形モード\" />\n      <ListItemSecondaryAction>\n        <Switch onChange={handleTerrain} checked={mapState.terrain} />\n      </ListItemSecondaryAction>\n    </ListItem>\n    <ListItem>\n      <ListItemIcon>\n        <PeopleIcon />\n      </ListItemIcon>\n      <ListItemText primary=\"人口\" />\n      <ListItemSecondaryAction>\n        <Switch onChange={handlePopVisibility} checked={mapState.popVisibility} />\n      </ListItemSecondaryAction>\n    </ListItem>\n    <ListItem>\n      <ListItemIcon>\n        <Adjust />\n      </ListItemIcon>\n      <ListItemText primary=\"距離円\" />\n      <ListItemSecondaryAction>\n        <Switch onChange={handleBufferVisibility} checked={mapState.bufferVisibility} />\n      </ListItemSecondaryAction>\n    </ListItem>\n  </List>\n);\n\nexport default MapHandler;\n","import * as React from 'react';\nimport List from '@material-ui/core/List';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport TwitterIcon from '../fa-buttons/TwitterIcon';\nimport FacebookIcon from '../fa-buttons/FacebookIcon';\nimport { Data } from '../../types';\n\ninterface Props {\n  datum: Data;\n}\n\nconst SharesList: React.FunctionComponent<Props> = ({ datum }: Props) => (\n  <List subheader={<ListSubheader>シェア</ListSubheader>}>\n    <ListItem button component=\"a\" href={createTwiterShareUrl(datum)} target=\"_blank\" rel=\"noopener noreferrer\">\n      <ListItemIcon>\n        <TwitterIcon />\n      </ListItemIcon>\n      <ListItemText primary=\"Twitterで共有\" />\n    </ListItem>\n    <ListItem button component=\"a\" href={createFbShareUrl(datum)} target=\"_blank\" rel=\"noopener noreferrer\">\n      <ListItemIcon>\n        <FacebookIcon />\n      </ListItemIcon>\n      <ListItemText primary=\"Facebookで共有\" />\n    </ListItem>\n  </List>\n);\n\nexport default SharesList;\n\n// helpers\nfunction createTwiterShareUrl(datum: Data): string {\n  return (\n    `https://twitter.com/intent/tweet?text=` +\n    encodeURI(`${datum.summary.name}周辺の人口 | スタジアム・アリーナと人口`) +\n    `&url=` +\n    encodeURIComponent(`https://cieloazul310.github.io/gatsby-stadiums-population${datum.fields.slug}`)\n  );\n}\n\nfunction createFbShareUrl(datum: Data): string {\n  return (\n    `https://www.facebook.com/sharer/sharer.php?u=` +\n    encodeURIComponent(`https://cieloazul310.github.io/gatsby-stadiums-population${datum.fields.slug}`)\n  );\n}\n","// FIXME: enum[enum.key] error\n\nimport * as React from 'react';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\n\nimport { navigateWithState, Edge, AppState, TableState, Radiuses, radiusLabels } from '../../types';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {},\n    itemTitle: {\n      fontSize: '80%',\n      fontWeight: 'bold'\n    },\n    itemNumber: {\n      textAlign: 'right'\n    }\n  })\n);\n\ninterface Props {\n  slug: string;\n  edges: Edge[];\n  appState: AppState;\n}\n\nfunction DrawerTable({ slug, edges, appState }: Props) {\n  const classes = useStyles({});\n  return (\n    <List className={classes.root} subheader={<ListSubheader>{`一覧 ${createSortString(appState.tableState)}`}</ListSubheader>}>\n      {edges.map(edge => (\n        <ListItem\n          key={edge.node.summary.slug}\n          button\n          selected={edge.node.summary.slug === slug}\n          onClick={() => {\n            navigateWithState(edge.node.fields.slug, appState);\n          }}\n        >\n          <ListItemText\n            primary={<Typography className={classes.itemTitle}>{edge.node.summary.name}</Typography>}\n            secondary={\n              <Typography component=\"span\" className={classes.itemNumber}>\n                {edge.node.summary[Radiuses[appState.tableState.sortKey]].toLocaleString()}\n              </Typography>\n            }\n          />\n        </ListItem>\n      ))}\n    </List>\n  );\n}\n\nexport default DrawerTable;\n\n// helpers\nfunction createSortString({ ascSort, sortKey }: TableState): string {\n  const sortRule = ascSort ? '昇順' : '降順';\n  const sortLabel = radiusLabels[Radiuses[sortKey]];\n\n  return `${sortLabel}圏人口 ${sortRule}`;\n}\n","import * as React from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Summary } from '../types';\n\ninterface Props {\n  summary: Summary;\n}\n\nconst ValuesTable: React.FunctionComponent<Props> = (props: Props) => {\n  const { summary } = props;\n  const { radius1000, radius3000, radius5000, radius10000 } = summary;\n\n  return (\n    <div>\n      <Table>\n        <TableBody>\n          <TableRow>\n            <TableCell align=\"right\">1km圏</TableCell>\n            <TableCell align=\"right\">{radius1000.toLocaleString()}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"right\">3km圏</TableCell>\n            <TableCell align=\"right\">{radius3000.toLocaleString()}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"right\">5km圏</TableCell>\n            <TableCell align=\"right\">{radius5000.toLocaleString()}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"right\">10km圏</TableCell>\n            <TableCell align=\"right\">{radius10000.toLocaleString()}</TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n    </div>\n  );\n};\n\nexport default ValuesTable;\n","import * as React from 'react';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport Hidden from '@material-ui/core/Hidden';\n\n// Drawer Components\nimport MapHandler from './drawer/MapHandler';\nimport SharesList from './drawer/SharesList';\nimport DrawerTable from './drawer/DrawerTable';\n\n// Icons\nimport Clear from '@material-ui/icons/Clear';\nimport Reply from '@material-ui/icons/Reply';\n\nimport ValuesTable from '../components/ValuesTable';\nimport { Data, AppState, Edge, Group, navigateWithState } from '../types';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      height: '100%'\n    },\n    toolbar: theme.mixins.toolbar\n  })\n);\n\ninterface Props {\n  datum: Data;\n  appState: AppState;\n  edges: Edge[];\n  group: Group;\n  handleDrawerToggle: () => any;\n  handleZoomIn: () => any;\n  handleZoomOut: () => any;\n  handleTerrain: () => any;\n  handlePopVisibility: () => any;\n  handleBufferVisibility: () => any;\n}\n\nfunction DrawerInner({ group, appState, datum, edges, handleDrawerToggle, ...mapHandler }: Props) {\n  const classes = useStyles({});\n  const { mapState } = appState;\n\n  const DrawerToolBar = () => (\n    <div>\n      <List>\n        <Hidden mdUp implementation=\"css\">\n          <ListItem button onClick={handleDrawerToggle}>\n            <ListItemIcon>\n              <Clear />\n            </ListItemIcon>\n            <ListItemText primary=\"閉じる\" />\n          </ListItem>\n        </Hidden>\n        <ListItem\n          button\n          onClick={() => {\n            navigateWithState(`/${group}`, appState);\n          }}\n        >\n          <ListItemIcon>\n            <Reply />\n          </ListItemIcon>\n          <ListItemText>表に戻る</ListItemText>\n        </ListItem>\n      </List>\n    </div>\n  );\n\n  return (\n    <div className={classes.root}>\n      <DrawerToolBar />\n      <ValuesTable summary={datum.summary} />\n      <MapHandler mapState={mapState} {...mapHandler} />\n      <Divider />\n      <SharesList datum={datum} />\n      <Divider />\n      <DrawerTable slug={datum.summary.slug} edges={edges} appState={appState} />\n    </div>\n  );\n}\n\nexport default DrawerInner;\n","import * as React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport { sizeScale, colorScale } from './MeshFeature';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    legends: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'flex-end'\n    },\n    legendItem: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      fontSize: '80%',\n      padding: theme.spacing(1)\n    }\n  })\n);\n\nfunction MapLegends() {\n  const classes = useStyles({});\n  return (\n    <div className={classes.root}>\n      <div className={classes.legends}>\n        {[100, 250, 500, 750, 1000, 1500, 2000].map(val => {\n          const size = sizeScale(val) * 2;\n          const color = colorScale(val);\n          return (\n            <div className={classes.legendItem} key={val}>\n              <svg width={30} height={30}>\n                <rect x={15 - size / 2} y={15 - size / 2} width={size} height={size} fill={color} fillOpacity={1} />\n              </svg>\n              <Typography variant=\"caption\">{val}</Typography>\n            </div>\n          );\n        })}\n      </div>\n      <Typography variant=\"caption\">1メッシュ(約250m四方)に含まれる人口</Typography>\n    </div>\n  );\n}\n\nexport default MapLegends;\n","import * as React from 'react';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport { DirectionObj, directionToKanji } from '../types';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n      maxWidth: '100%'\n    },\n    tableWrapper: {\n      width: '100%',\n      overflowX: 'auto',\n      whiteSpace: 'nowrap',\n      overflowScrolling: 'touch',\n      WebkitOverflowScrolling: 'touch'\n    }\n  })\n);\n\ninterface Props {\n  selected?: string;\n  directionObject: DirectionObj;\n}\n\nfunction DirectionTable({ directionObject }: Props) {\n  const classes = useStyles({});\n  return (\n    <div className={classes.root}>\n      <div className={classes.tableWrapper}>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>方角</TableCell>\n              <TableCell align=\"right\">1km以内</TableCell>\n              <TableCell align=\"right\">1km - 3km</TableCell>\n              <TableCell align=\"right\">3km - 5km</TableCell>\n              <TableCell align=\"right\">5km - 10km</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {Object.entries(directionObject).map((d, i) => (\n              <TableRow key={i}>\n                <TableCell align=\"center\">{directionToKanji(d[0])}</TableCell>\n                {d[1].map((v, index) => (\n                  <TableCell key={index} align=\"right\">\n                    {v.diff.toLocaleString()}\n                  </TableCell>\n                ))}\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </div>\n    </div>\n  );\n}\n\nexport default DirectionTable;\n","import * as React from 'react';\nimport { Link } from 'gatsby';\nimport { Helmet } from 'react-helmet';\nimport AppBar from '@material-ui/core/AppBar';\nimport ToolBar from '@material-ui/core/Toolbar';\nimport Drawer from '@material-ui/core/Drawer';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/icons/Menu';\nimport Fab from '@material-ui/core/Fab';\nimport ArrowForward from '@material-ui/icons/ArrowForward';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\n// styles\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\n// icons\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\n\nimport { AutoSizer } from 'react-virtualized';\nimport { feature as topofeature } from 'topojson-client';\n\nimport MapApp from '../components/MapApp';\nimport DrawerInner from '../components/DrawerInner';\nimport MapLegends from '../components/MapLegends';\nimport { sortData } from '../components/RCTable';\nimport DirectionTable from '../components/DirectionTable';\nimport ValuesTable from '../components/ValuesTable';\nimport Pie from '../components/Pie';\nimport Attribution from '../components/Attribution';\nimport Container from '../components/Container';\nimport { DataAttribution, MapAttribution } from '../components/MapAttribution';\nimport Sharer from '../components/Sharer';\nimport AdBox from '../components/AdBox';\nimport Footer from '../components/Footer';\nimport { getItemsDiff, Radiuses, radiuses, Data, Edge, MapState, AppState, navigateWithState, Group } from '../types';\n\nconst drawerWidth = 280;\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      display: 'flex',\n      width: '100%'\n    },\n    drawer: {\n      [theme.breakpoints.up('md')]: {\n        width: drawerWidth,\n        flexShrink: 0\n      }\n    },\n    appBar: {\n      marginLeft: drawerWidth,\n      [theme.breakpoints.up('md')]: {\n        width: `calc(100% - ${drawerWidth}px)`\n      }\n    },\n    menuButton: {\n      marginRight: 10,\n      [theme.breakpoints.up('md')]: {\n        display: 'none'\n      }\n    },\n    drawerPaper: {\n      width: drawerWidth,\n      height: '100%'\n    },\n    content: {\n      width: '100%',\n      paddingTop: 56,\n      '@media (min-width: 600px)': {\n        paddingTop: 64\n      }\n    },\n    apptitle: {\n      flexGrow: 1,\n      lineHeight: 1.2,\n      [theme.breakpoints.down('sm')]: {\n        fontSize: '90%'\n      }\n    },\n    fullWidthContainer: {\n      width: '100%',\n      margin: 'auto',\n      paddingTop: theme.spacing(2),\n      paddingBottom: theme.spacing(2)\n    },\n    autoSizerWrapper: {\n      height: 'calc(100vh - 56px)',\n      '@media (min-width: 600px)': {\n        height: 'calc(100vh - 64px)'\n      }\n    },\n    fabZoomIn: {\n      position: 'absolute',\n      bottom: theme.spacing(10),\n      right: theme.spacing(2)\n    },\n    fabZoomOut: {\n      position: 'absolute',\n      bottom: theme.spacing(2),\n      right: theme.spacing(2)\n    },\n    description: {\n      maxWidth: 800,\n      margin: 'auto'\n    },\n    descParagraph: {\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2)\n    }\n  });\n\ninterface Props extends WithStyles<typeof styles> {\n  datum: Data;\n  edges: Edge[];\n  appState: AppState;\n  group: Group;\n}\n\ninterface State extends MapState {\n  readonly drawerOpen: boolean;\n}\n\nclass MapInner extends React.Component<Props, State> {\n  readonly state = {\n    ...this.props.appState.mapState,\n    drawerOpen: false\n  };\n  private handleDrawerToggle = () => {\n    this.setState(prev => ({\n      drawerOpen: !prev.drawerOpen\n    }));\n  };\n  private handlePopVisibility = () => {\n    this.setState(prev => ({\n      popVisibility: !prev.popVisibility\n    }));\n  };\n  private handleBufferVisibility = () => {\n    this.setState(prev => ({\n      bufferVisibility: !prev.bufferVisibility\n    }));\n  };\n  private handleZoomIn = () => {\n    this.setState(prev => ({\n      zoomLevel: prev.zoomLevel !== Radiuses.radius1000 ? radiuses[radiuses.indexOf(prev.zoomLevel) - 1] : prev.zoomLevel\n    }));\n  };\n  private handleZoomOut = () => {\n    this.setState(prev => ({\n      zoomLevel: prev.zoomLevel !== Radiuses.radius10000 ? radiuses[radiuses.indexOf(prev.zoomLevel) + 1] : prev.zoomLevel\n    }));\n  };\n  private handleTerrain = () => {\n    this.setState(prev => ({\n      terrain: !prev.terrain\n    }));\n  };\n\n  public render() {\n    //    console.log(this.props.appState.mapState.zoomLevel);\n    //    console.log(this.state.zoomLevel);\n    const { classes, datum, edges, appState, group } = this.props;\n    const { popVisibility, bufferVisibility, zoomLevel, terrain } = this.state;\n    const { tableState } = appState;\n    const { summary, topojson } = datum;\n    const meshes = topofeature(topojson, topojson.objects.points).features;\n    const buffers = topofeature(topojson, topojson.objects.buffers).features;\n    const others = sortData(edges, tableState);\n    const { name, club, category, slug } = summary;\n    const url = `https://cieloazul310.github.io/gatsby-stadiums-population${datum.fields.slug}`;\n    const newAppState: AppState = {\n      tableState,\n      mapState: { popVisibility, bufferVisibility, zoomLevel, terrain }\n    };\n    const drawer = (\n      <DrawerInner\n        datum={datum}\n        edges={others}\n        group={group}\n        appState={newAppState}\n        handleDrawerToggle={this.handleDrawerToggle}\n        handleZoomIn={this.handleZoomIn}\n        handleZoomOut={this.handleZoomOut}\n        handleBufferVisibility={this.handleBufferVisibility}\n        handlePopVisibility={this.handlePopVisibility}\n        handleTerrain={this.handleTerrain}\n      />\n    );\n\n    return (\n      <div className={classes.root}>\n        <Helmet>\n          <html lang=\"ja\" />\n          <title>{name}周辺の人口 | スタジアム・アリーナと人口</title>\n          <meta name=\"viewport\" content=\"width=device-width,initial-scale=1,minimum-scale=1,minimal-ui\" />\n          <meta name=\"description\" content={createDescriptionString(name, club, group)} />\n          <meta property=\"og:type\" content=\"website\" />\n          <meta property=\"og:title\" content={`${name}周辺の人口 | スタジアム・アリーナと人口`} />\n          <meta property=\"og:url\" content={url} />\n          <meta property=\"og:image\" content=\"https://cieloazul310.github.io/img/ogp2.png\" />\n          <meta property=\"og:site_name\" content=\"水戸地図\" />\n          <meta name=\"twitter:card\" content=\"summary\" />\n          <meta name=\"twitter:description\" content={createDescriptionString(name, club, group)} />\n          <meta name=\"apple-mobile-web-app-capable\" content=\"yes\" />\n          <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\" />\n        </Helmet>\n        <AppBar className={classes.appBar} position=\"fixed\">\n          <ToolBar>\n            <IconButton\n              className={classes.menuButton}\n              role=\"presentation\"\n              aria-owns=\"menu\"\n              aria-haspopup=\"true\"\n              onClick={this.handleDrawerToggle}\n              color=\"inherit\"\n            >\n              <Menu />\n            </IconButton>\n            <Typography color=\"inherit\" className={classes.apptitle} component=\"h1\" variant=\"h6\">\n              {name}\n            </Typography>\n            <IconButton\n              aria-owns=\"next\"\n              role=\"button\"\n              aria-haspopup=\"true\"\n              onClick={() => {\n                const currentIndex = others.map(edge => edge.node.summary.slug).indexOf(slug);\n                const next = currentIndex === others.length - 1 ? others[0] : others[currentIndex + 1];\n                navigateWithState(next.node.fields.slug, newAppState);\n              }}\n              color=\"inherit\"\n            >\n              <ArrowForward />\n            </IconButton>\n          </ToolBar>\n        </AppBar>\n        <nav className={classes.drawer}>\n          <Hidden mdUp implementation=\"css\">\n            <SwipeableDrawer\n              variant=\"temporary\"\n              open={this.state.drawerOpen}\n              onClose={this.handleDrawerToggle}\n              onOpen={this.handleDrawerToggle}\n              classes={{ paper: classes.drawerPaper }}\n            >\n              {drawer}\n            </SwipeableDrawer>\n          </Hidden>\n          <Hidden smDown implementation=\"css\">\n            <Drawer classes={{ paper: classes.drawerPaper }} variant=\"permanent\" open>\n              {drawer}\n            </Drawer>\n          </Hidden>\n        </nav>\n        <div className={classes.content}>\n          <div className={classes.autoSizerWrapper}>\n            <AutoSizer>\n              {({ width, height }) => (\n                <div>\n                  <MapApp\n                    width={width}\n                    height={height}\n                    meshes={meshes}\n                    buffers={buffers}\n                    mapState={{ popVisibility, bufferVisibility, zoomLevel, terrain }}\n                  />\n                  <Hidden implementation=\"css\" mdUp>\n                    <Fab\n                      className={classes.fabZoomIn}\n                      color=\"primary\"\n                      disabled={zoomLevel === Radiuses.radius1000}\n                      onClick={this.handleZoomIn}\n                      role=\"button\"\n                    >\n                      <AddIcon />\n                    </Fab>\n                    <Fab\n                      className={classes.fabZoomOut}\n                      color=\"primary\"\n                      disabled={zoomLevel === Radiuses.radius10000}\n                      onClick={this.handleZoomOut}\n                      role=\"button\"\n                    >\n                      <RemoveIcon />\n                    </Fab>\n                  </Hidden>\n                </div>\n              )}\n            </AutoSizer>\n          </div>\n          <div className={classes.main}>\n            <Container>\n              <MapLegends />\n            </Container>\n            <Container>\n              <AdBox />\n            </Container>\n            <Container>\n              <Typography component=\"h2\" variant=\"h5\" gutterBottom>\n                {name}\n              </Typography>\n              <Typography variant=\"body2\" gutterBottom>\n                クラブ: {club.join(', ')}\n                {'  '}\n                カテゴリー: {category.join(', ')}\n              </Typography>\n            </Container>\n            <Container>\n              <Grid container className={classes.grid} direction=\"row-reverse\" alignContent=\"center\">\n                <Grid item xs={12} sm={8}>\n                  <ValuesTable summary={summary} />\n                </Grid>\n                <Grid item xs={12} sm={4}>\n                  <Pie item={topojson.objects.buffers.geometries} />\n                </Grid>\n              </Grid>\n              <Grid item sm={12}>\n                <DirectionTable directionObject={getItemsDiff(topojson.objects.buffers.geometries)} />\n              </Grid>\n            </Container>\n          </div>\n          <aside>\n            <Container>\n              <Attribution />\n            </Container>\n            <Container>\n              <DataAttribution />\n            </Container>\n            <Container>\n              <MapAttribution />\n              <Typography variant=\"body1\" paragraph>\n                <Link\n                  to={`/${group}`}\n                  state={{\n                    appState: newAppState\n                  }}\n                >\n                  表に戻る\n                </Link>\n              </Typography>\n              <Typography variant=\"body1\" paragraph>\n                <Link\n                  to=\"/\"\n                  state={{\n                    appState: newAppState\n                  }}\n                >\n                  トップに戻る\n                </Link>\n              </Typography>\n            </Container>\n            <Container>\n              <Sharer title={`${name}周辺の人口 | スタジアム・アリーナと人口`} url={url} />\n            </Container>\n            <Container>\n              <AdBox />\n            </Container>\n          </aside>\n          <Footer />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(MapInner);\n\n// helper\n\nfunction createDescriptionString(name: string, club: string[], group: Group): string {\n  const type = group === 'venues' ? 'スタジアム' : 'アリーナ';\n  const intro = club[0] !== 'その他' ? `${club.join(',')} のホーム${type}・` : '';\n  return `${intro}${name}周辺の人口を総務省統計局の国勢調査に関する地域メッシュ統計(平成27年度)から算出し、地図に表示しました。`;\n}\n"],"sourceRoot":""}