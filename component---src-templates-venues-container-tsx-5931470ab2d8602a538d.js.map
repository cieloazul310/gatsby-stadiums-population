{"version":3,"sources":["webpack:///./src/templates/venuesContainer.tsx","webpack:///./src/types/index.ts","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/types/Radiuses.ts","webpack:///./.cache/public-page-renderer.js","webpack:///./src/types/AppState.ts","webpack:///./src/types/Categories.ts","webpack:///./src/types/Directions.ts","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/MeshFeature.tsx","webpack:///./src/components/Footer.tsx","webpack:///./src/components/Pie.tsx","webpack:///./src/components/RCTable.tsx","webpack:///./src/components/Attribution.tsx","webpack:///./src/components/Container.tsx","webpack:///./src/components/MapAttribution.tsx","webpack:///./src/image/place.svg","webpack:///./src/utils/tileTree.ts","webpack:///./src/components/GrayScaleFilter.tsx","webpack:///./src/components/MapApp.tsx","webpack:///./src/components/drawer/MapHandler.tsx","webpack:///./src/components/fa-buttons/TwitterIcon.tsx","webpack:///./src/components/fa-buttons/FacebookIcon.tsx","webpack:///./src/components/drawer/SharesList.tsx","webpack:///./src/components/drawer/DrawerTable.tsx","webpack:///./src/components/ValuesTable.tsx","webpack:///./src/components/DrawerInner.tsx","webpack:///./src/components/MapLegends.tsx","webpack:///./src/components/AdBox.tsx","webpack:///./src/components/MapPage.tsx"],"names":["MapContainer","render","console","log","this","props","_this$props","data","location","pageContext","appState","createInitialAppState","react__WEBPACK_IMPORTED_MODULE_1__","_components_MapPage__WEBPACK_IMPORTED_MODULE_2__","datum","venuesJson","edges","allVenuesJson","group","React","query","_AppState__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","d","__webpack_exports__","_Buffer__WEBPACK_IMPORTED_MODULE_1__","o","_Categories__WEBPACK_IMPORTED_MODULE_2__","_Data__WEBPACK_IMPORTED_MODULE_3__","_Directions__WEBPACK_IMPORTED_MODULE_4__","_Mesh__WEBPACK_IMPORTED_MODULE_5__","_Radiuses__WEBPACK_IMPORTED_MODULE_6__","r","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","a","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","createContext","createElement","Consumer","staticQueryData","children","Error","propTypes","PropTypes","object","string","isRequired","func","Radiuses","radiuses","radiusLabels","radius1000","radius3000","radius5000","radius10000","m","module","exports","require","default","navigateWithState","gatsby__WEBPACK_IMPORTED_MODULE_0__","_Radiuses__WEBPACK_IMPORTED_MODULE_1__","to","navigate","state","initialAppState","tableState","ascSort","sortKey","filterRule","mapState","popVisibility","bufferVisibility","zoomLevel","terrain","undefined","footballCategories","basketballCategories","Directions","directions","ProdPageRenderer","_ref","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","Object","assign","json","shape","colorScale","sizeScale","d3_scale__WEBPACK_IMPORTED_MODULE_1__","d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_2__","scaleSequential","interpolateSpectral","domain","scalePow","range","exponent","MeshRect","feature","projection","val","properties","center","geometry","coordinates","size","Math","abs","min","max","scale","fill","fillOpacity","x","y","width","height","_material_ui_core_styles_withStyles__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_styles_withStyles__WEBPACK_IMPORTED_MODULE_1___default","_material_ui_core_styles_createStyles__WEBPACK_IMPORTED_MODULE_2__","_material_ui_core_styles_createStyles__WEBPACK_IMPORTED_MODULE_2___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3__","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3___default","withStyles","theme","createStyles","root","backgroundColor","palette","primary","dark","color","inner","display","padding","spacing","unit","justifyContent","justifyItems","classes","className","variant","copy","newDomain","opacity","scaleLinear","Pie","item","react__WEBPACK_IMPORTED_MODULE_3__","viewBox","map","i","arr","key","transform","direction","angle","density","radius","index","indexOf","pow","PI","calcDensity","_directionToAngle","keys","length","startAngle","endAngle","arc","d3arc","innerRadius","outerRadius","padAngle","RCTable","_this","menuOpen","anchorEl","_handleSort","setState","prevState","_handleMenuOpen","prev","_handleFilterRule","category","filter","concat","_this2","title","_this$state","categories","react__WEBPACK_IMPORTED_MODULE_8__","_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_13___default","style","header","_material_ui_core_Toolbar__WEBPACK_IMPORTED_MODULE_15___default","toolbar","_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_16___default","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_17___default","aria-owns","aria-haspopup","buttonRef","node","onClick","_material_ui_icons_FilterList__WEBPACK_IMPORTED_MODULE_28___default","_material_ui_core_Popper__WEBPACK_IMPORTED_MODULE_18___default","filterMenuWrapper","open","transition","disablePortal","placement","TransitionProps","_material_ui_core_Grow__WEBPACK_IMPORTED_MODULE_19___default","transformOrigin","_material_ui_core_ClickAwayListener__WEBPACK_IMPORTED_MODULE_20___default","onClickAway","event","contains","target","_material_ui_core_MenuList__WEBPACK_IMPORTED_MODULE_21___default","_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_22___default","_material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_23___default","_material_ui_icons_CheckCircle__WEBPACK_IMPORTED_MODULE_26___default","_material_ui_icons_Remove__WEBPACK_IMPORTED_MODULE_27___default","_material_ui_core_ListItemText__WEBPACK_IMPORTED_MODULE_24___default","inset","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_14___default","role","_material_ui_icons_ArrowForward__WEBPACK_IMPORTED_MODULE_30___default","thead","row","headerRowHead","name","headerRowBody","entries","_classNames","classNames","labelCell","labelCellActive","_material_ui_core_TableSortLabel__WEBPACK_IMPORTED_MODULE_29___default","labelRoot","active","labelActive","table","sortData","edge","rowHead","gatsby__WEBPACK_IMPORTED_MODULE_9__","fields","slug","link","summary","shortname","join","rowBody","toLocaleString","_ref2","isAsc","prop","some","sort","b","fontSize","fontFamily","typography","overflowY","overflowScrolling","WebkitOverflowScrolling","zIndex","main","contrastText","position","flexDirection","boxShadow","shadows","flex","@media (max-width: 720px)","borderBottom","&:hover","&:focus","boxSizing","borderRight","textAlign","fontWeight","&:visited","lightBlue","Attribution","gatsby__WEBPACK_IMPORTED_MODULE_2__","gutterBottom","site","siteMetadata","paragraph","description","href","rel","author","url","siteName","twitter","_public_static_d_2933318586_json__WEBPACK_IMPORTED_MODULE_0__","maxWidth","margin","@global","blockquote","borderLeft","borderRadius","DataAttribution","MapAttribution","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_1___default","TileSet","options","tileUrl","maxZoom","minZoom","tileTree","treeIncludesTile","tile","z","hasOwnProperty","toString","tile2tree","_x$toString","_this$tileTree$z$toSt","_this$tileTree$z$toSt2","fetchTiles","tiles","Promise","resolve","tasks","fetchTile","all","then","fetchUrl","replace","fetch","res","ok","blob","tileWithURL","URL","createObjectURL","catch","isRequireFetch","_this3","every","setTileUrlFromTree","_this4","updateTiles","_callee","newTiles","tilesInTree","tilesShouldFetch","fetchedTiles","_this5","regenerator_default","wrap","_context","next","sent","abrupt","stop","filterMatrix","GrayScaleFilter","react","id","type","values","d3tile","Map","fetchStatus","_tileSet","_terrain","_getTileCoordinates","mag","zoomer","log2","translate","v","array","_fetchTiles","tileSet","componentDidMount","_this$props2","buffers","meshes","geoMercator","fitExtent","path","geoPath","tileCoords","renderTiles","hoge","LinearProgress_default","progress","components_GrayScaleFilter","xlinkHref","imageRendering","points","MeshFeature","bb","bbox","lb","buffer","stroke","strokeWidth","bufferText","dy","textAnchor","Place","top","left","rect","mixBlendMode","MapHandler","handleZoomIn","handleZoomOut","handleTerrain","handlePopVisibility","handleBufferVisibility","List_default","subheader","ListSubheader_default","Hidden_default","smDown","implementation","ListItem_default","button","selected","ListItemIcon_default","ZoomIn_default","ListItemText_default","ZoomOut_default","LandScape_default","ListItemSecondaryAction_default","Switch_default","onChange","checked","People_default","Adjust_default","TwitterIcon","componentWillMount","library","add","faTwitter","Icon_default","react_fontawesome_index_es","verticalAlign","icon","FacebookIcon","faFacebook","SharesList","component","createTwiterShareUrl","fa_buttons_TwitterIcon","createFbShareUrl","fa_buttons_FacebookIcon","encodeURI","encodeURIComponent","styles","itemTitle","itemNumber","sortRule","sortLabel","Typography_default","secondary","ValuesTable","Table_default","TableBody_default","TableRow_default","TableCell_default","align","mixins","handleDrawerToggle","mapHandler","objectWithoutPropertiesLoose_default","mdUp","Clear_default","Reply_default","components_ValuesTable","drawer_MapHandler","Divider_default","drawer_SharesList","drawer_DrawerTable","alignItems","legends","legendItem","ad","AdBox","window","adsbygoogle","push","classnames","data-ad-client","data-ad-slot","data-ad-format","data-full-width-responsive","MapInner","drawerOpen","topojson","topofeature","objects","features","others","club","newAppState","drawer","components_DrawerInner","CssBaseline_default","Helmet","lang","AppBar_default","appBar","Toolbar_default","IconButton_default","menuButton","Menu_default","apptitle","currentIndex","ArrowForward_default","SwipeableDrawer_default","onClose","onOpen","paper","drawerPaper","Drawer_default","content","autoSizerWrapper","es","MapApp","Fab_default","fabZoomIn","disabled","Add_default","fabZoomOut","Remove_default","Container","components_MapLegends","components_AdBox","Grid_default","container","grid","alignContent","xs","sm","geometries","gatsby_browser_entry","Footer","_drawer","_appBar","_menuButton","_apptitle","breakpoints","up","flexShrink","marginLeft","marginRight","flexGrow","paddingTop","@media (min-width: 600px)","lineHeight","down","fullWidthContainer","paddingBottom","bottom","right","descParagraph","paddingLeft","paddingRight"],"mappings":"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","file":"component---src-templates-venues-container-tsx-5931470ab2d8602a538d.js","sourcesContent":["import * as React from 'react';\nimport { graphql } from 'gatsby';\nimport MapPage from '../components/MapPage';\nimport { LocationWithState, Edge, Data, createInitialAppState } from '../types';\n\ninterface Props {\n  data: {\n    allVenuesJson: {\n      edges: Edge[];\n    };\n    venuesJson: Data;\n  };\n  location: LocationWithState;\n  pageContext: {\n    slug: string;\n    group: 'venues' | 'arenas';\n  };\n}\n\nclass MapContainer extends React.PureComponent<Props> {\n  public render() {\n    console.log(this.props);\n    const { data, location, pageContext } = this.props;\n    const appState = createInitialAppState(location);\n\n    return <MapPage datum={data.venuesJson} edges={data.allVenuesJson.edges} appState={appState} group={pageContext.group} />;\n  }\n}\n\nexport default MapContainer;\n\nexport const query = graphql`\n  query($slug: String) {\n    allVenuesJson {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          summary {\n            slug\n            name\n            club\n            shortname\n            category\n            radius1000\n            radius3000\n            radius5000\n            radius10000\n          }\n        }\n      }\n    }\n    venuesJson(fields: { slug: { eq: $slug } }) {\n      fields {\n        slug\n      }\n      summary {\n        name\n        club\n        shortname\n        category\n        radius1000\n        radius3000\n        radius5000\n        radius10000\n        slug\n      }\n      topojson {\n        type\n        transform {\n          scale\n          translate\n        }\n        objects {\n          points {\n            type\n            geometries {\n              type\n              coordinates\n              properties {\n                id\n                val\n              }\n            }\n          }\n          buffers {\n            type\n            geometries {\n              type\n              arcs\n              properties {\n                radius\n                population\n                north\n                northeast\n                east\n                southeast\n                south\n                southwest\n                west\n                northwest\n              }\n            }\n          }\n        }\n        arcs\n      }\n    }\n  }\n`;\n","export * from './AppState';\nexport * from './Buffer';\nexport * from './Categories';\nexport * from './Data';\nexport * from './Directions';\nexport * from './Mesh';\nexport * from './Radiuses';\nexport * from './Summary';\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","export enum Radiuses {\n  radius1000 = 1000,\n  radius3000 = 3000,\n  radius5000 = 5000,\n  radius10000 = 10000\n}\n\nexport const radiuses: Radiuses[] = [Radiuses.radius1000, Radiuses.radius3000, Radiuses.radius5000, Radiuses.radius10000];\n\nexport const radiusKeys: Array<keyof typeof Radiuses> = ['radius1000', 'radius3000', 'radius5000', 'radius10000'];\n\nexport type RadiusProps = { [key in keyof typeof Radiuses]: number };\n\ntype RadiusLabels = { [key in keyof typeof Radiuses]: string };\n\nexport const radiusLabels: RadiusLabels = {\n  radius1000: '1km',\n  radius3000: '3km',\n  radius5000: '5km',\n  radius10000: '10km'\n};\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import { LocationProps } from '@reach/router';\nimport { navigate } from 'gatsby';\nimport { Radiuses } from './Radiuses';\nimport { Categories } from './Categories';\n\nexport interface AppState {\n  mapState: MapState;\n  tableState: TableState;\n}\n\nexport type StateObject = {\n  key: string;\n  appState: AppState;\n} | null;\n\nexport interface LocationWithState extends LocationProps {\n  state: StateObject;\n}\n\nexport interface TableState {\n  readonly ascSort: boolean;\n  readonly sortKey: Radiuses;\n  readonly filterRule: Categories[];\n}\n\nexport interface MapState {\n  readonly popVisibility: boolean;\n  readonly bufferVisibility: boolean;\n  readonly zoomLevel: Radiuses;\n  readonly terrain: boolean;\n}\n\nexport const navigateWithState = (to: string, appState: AppState) => {\n  navigate(to, { state: { appState } });\n};\n\nexport const initialTableState: TableState = {\n  ascSort: false,\n  sortKey: Radiuses.radius10000,\n  filterRule: []\n};\n\nexport const initialMapState: MapState = {\n  popVisibility: true,\n  bufferVisibility: true,\n  zoomLevel: Radiuses.radius10000,\n  terrain: false\n};\n\nexport const initialAppState: AppState = {\n  tableState: initialTableState,\n  mapState: initialMapState\n};\n\nexport const createInitialAppState = (location: LocationWithState): AppState => {\n  if (location.state === null || location.state === undefined) return initialAppState;\n  else if (location.state.appState === undefined) return initialAppState;\n  else return location.state.appState;\n};\n","export type FootballCategories = 'J1' | 'J2' | 'J3' | 'JFL' | '' | '';\nexport const footballCategories: FootballCategories[] = ['J1', 'J2', 'J3', 'JFL', '', ''];\n\nexport type BasketballCategories = 'B1' | 'B2' | 'B3' | '' | '';\nexport const basketballCategories: BasketballCategories[] = ['B1', 'B2', 'B3', '', ''];\n\nexport type Categories = FootballCategories | BasketballCategories;\n\nexport type Group = 'venues' | 'arenas';\n","export enum Directions {\n  north,\n  northeast,\n  east,\n  southeast,\n  south,\n  southwest,\n  west,\n  northwest\n}\n\nexport const directions: Array<keyof typeof Directions> = [\n  'north',\n  'northeast',\n  'east',\n  'southeast',\n  'south',\n  'southwest',\n  'west',\n  'northwest'\n];\n\nexport type DirectionProps = { [key in keyof typeof Directions]: number };\n\nexport function directionToKanji(direction: keyof typeof Directions): string {\n  return direction === 'north'\n    ? ''\n    : direction === 'northeast'\n    ? ''\n    : direction === 'east'\n    ? ''\n    : direction === 'southeast'\n    ? ''\n    : direction === 'south'\n    ? ''\n    : direction === 'southwest'\n    ? ''\n    : direction === 'west'\n    ? ''\n    : direction === 'northwest'\n    ? ''\n    : '';\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import * as React from 'react';\nimport { scalePow, scaleSequential } from 'd3-scale';\nimport { interpolateSpectral } from 'd3-scale-chromatic';\nimport { GeoProjection } from 'd3-geo';\nimport { Mesh } from '../types';\n\ninterface Props {\n  feature: Mesh;\n  projection: GeoProjection;\n}\n\nexport const colorScale = scaleSequential(interpolateSpectral).domain([1250, 0]);\n\nexport const sizeScale = scalePow()\n  .domain([0, 1000])\n  .range([0, 8])\n  .exponent(0.5);\n\nconst MeshRect: React.FunctionComponent<Props> = (props: Props) => {\n  const { feature, projection } = props;\n  const { val } = feature.properties;\n  const center = projection(feature.geometry.coordinates) || [0, 0];\n  const size = Math.abs(sizeScale(val) * Math.min(Math.max(1, projection.scale() / 125000), 2.5));\n\n  return <rect fill={colorScale(val)} fillOpacity={0.6} x={center[0] - size / 2} y={center[1] - size / 2} width={size} height={size} />;\n};\n\nexport default MeshRect;\n","import * as React from 'react';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      backgroundColor: theme.palette.primary.dark,\n      color: 'white'\n    },\n    inner: {\n      display: 'flex',\n      padding: `${theme.spacing.unit * 4}px ${theme.spacing.unit * 1}px`,\n      justifyContent: 'center',\n      justifyItems: 'center'\n    }\n  });\n\ntype Props = WithStyles<typeof styles>;\n\nconst Footer: React.FC<Props> = ({ classes }: Props) => (\n  <div className={classes.root}>\n    <footer>\n      <div className={classes.inner}>\n        <Typography variant=\"body2\" color=\"inherit\">\n          Copyright  2019 cieloazul310 All rights reserved.\n        </Typography>\n      </div>\n    </footer>\n  </div>\n);\n\nexport default withStyles(styles)(Footer);\n","import * as React from 'react';\nimport { scaleLinear } from 'd3-scale';\nimport { arc as d3arc } from 'd3-shape';\nimport { colorScale } from './MeshFeature';\nimport { GeometryObject } from 'topojson-specification';\nimport { Directions, directions, Radiuses, radiuses, BufferProps } from '../types';\n\ninterface Props {\n  item: GeometryObject<BufferProps>[];\n}\n\nconst color = colorScale.copy();\nconst newDomain: [number, number] = [colorScale.domain()[0] * 8, 0];\ncolor.domain(newDomain);\nconst opacity = scaleLinear()\n  .domain([250, 0])\n  .range([1, 0]);\n\nconst Pie: React.FC<Props> = ({ item }: Props) => {\n  const size = 300;\n\n  return (\n    <svg viewBox={`0 0 ${size} ${size}`}>\n      {item.map((d, i, arr) => (\n        <g key={i} transform={`translate(${size / 2}, ${size / 2})`}>\n          {directions.map(key => {\n            const val = i === 0 ? d.properties[key] : d.properties[key] - arr[i - 1].properties[key];\n            const density = calcDensity(val, d.properties.radius);\n            const { startAngle, endAngle } = directionToAngle(Directions[key]);\n            const arc = d3arc()({\n              startAngle,\n              endAngle,\n              innerRadius: ((size - 8) * (i + 1)) / 10 + 2,\n              outerRadius: ((size - 8) * (i + 2)) / 10,\n              padAngle: 0.05\n            });\n            return (\n              <g key={key}>\n                <path key={key} d={arc || undefined} fill={color(density)} fillOpacity={opacity(density)} />\n              </g>\n            );\n          })}\n        </g>\n      ))}\n    </svg>\n  );\n};\n\nexport default Pie;\n\n// utils\nfunction directionToAngle(direction: Directions) {\n  const angle = (Math.PI * 2) / (Object.keys(Directions).length / 2);\n  return {\n    startAngle: direction * angle - angle / 2,\n    endAngle: direction * angle + angle / 2\n  };\n}\n\nfunction calcDensity(val: number, radius: Radiuses) {\n  const index = radiuses.indexOf(radius);\n  return index === 0\n    ? (val * 8) / (Math.pow(radiuses[index] / 1000, 2) * Math.PI)\n    : (val * 8) / (Math.pow(radiuses[index] / 1000, 2) * Math.PI - Math.pow(radiuses[index - 1] / 1000, 2) * Math.PI);\n}\n","import * as React from 'react';\nimport { Link } from 'gatsby';\nimport classNames from 'classnames';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Popper from '@material-ui/core/Popper';\nimport Grow from '@material-ui/core/Grow';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport MenuList from '@material-ui/core/MenuList';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport lightBlue from '@material-ui/core/colors/lightBlue';\n// Icons\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport ArrowForward from '@material-ui/icons/ArrowForward';\n\nimport {\n  Edge,\n  AppState,\n  TableState,\n  Radiuses,\n  radiusLabels,\n  Categories,\n  navigateWithState,\n  Group,\n  footballCategories,\n  basketballCategories\n} from '../types';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      fontSize: '80%',\n      fontFamily: theme.typography.fontFamily\n    },\n    table: {\n      overflowY: 'scroll',\n      overflowScrolling: 'touch',\n      WebkitOverflowScrolling: 'touch',\n      zIndex: 0\n    },\n    header: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText,\n      position: 'sticky',\n      display: 'flex',\n      flexDirection: 'column',\n      boxShadow: theme.shadows[1],\n      zIndex: 99\n    },\n    toolbar: {\n      display: 'flex',\n      flexDirection: 'row',\n      height: 56\n    },\n    title: {\n      flex: 1\n    },\n    filterMenuWrapper: {\n      zIndex: 100\n    },\n    headerRowHead: {\n      flex: 1,\n      display: 'flex',\n      '@media (max-width: 720px)': {\n        display: 'none'\n      }\n    },\n    headerRowBody: {\n      display: 'flex',\n      justifyContent: 'space-evenly'\n    },\n    labelCell: {\n      borderBottom: '2px solid rgba(255, 255, 255, 0)',\n      transition: 'border .25s',\n      '&:hover': {\n        borderBottom: '2px solid white'\n      }\n    },\n    labelCellActive: {\n      borderBottom: '2px solid white'\n    },\n    labelRoot: {\n      color: '#ddd',\n      '&:hover': {\n        color: theme.palette.primary.contrastText\n      },\n      '&:focus': {\n        color: theme.palette.primary.contrastText\n      }\n    },\n    labelActive: {\n      color: theme.palette.primary.contrastText,\n      '&:hover': {\n        color: theme.palette.primary.contrastText\n      },\n      '&:focus': {\n        color: theme.palette.primary.contrastText\n      }\n    },\n    thead: {},\n    row: {\n      display: 'flex',\n      flexDirection: 'row',\n      '@media (max-width: 720px)': {\n        flexDirection: 'column',\n        borderBottom: '1px solid #ddd'\n      }\n    },\n    rowHead: {\n      flex: 1,\n      display: 'flex',\n      boxSizing: 'border-box',\n      borderRight: '1px solid #eee',\n      '@media (max-width: 720px)': {\n        borderRight: 'none',\n        borderBottom: '1px solid #eee'\n      }\n    },\n    index: {\n      width: '4em',\n      padding: '1rem .5rem',\n      boxSizing: 'border-box',\n      textAlign: 'right'\n    },\n    name: {\n      padding: '1rem',\n      boxSizing: 'border-box',\n      flex: 1,\n      fontWeight: 'bold'\n    },\n    category: {\n      color: '#333',\n      padding: '1rem',\n      boxSizing: 'border-box'\n    },\n    rowBody: {\n      display: 'flex',\n      justifyContent: 'space-evenly'\n    },\n    val: {\n      width: '9em',\n      padding: '1rem',\n      boxSizing: 'border-box',\n      display: 'flex',\n      flexDirection: 'row-reverse'\n    },\n    link: {\n      color: theme.palette.primary.main,\n      '&:visited': {\n        color: lightBlue[900]\n      },\n      '&:hover': {\n        color: lightBlue[500]\n      }\n    }\n  });\n\ninterface Props extends WithStyles<typeof styles> {\n  edges: Edge[];\n  width: number;\n  height: number;\n  appState: AppState;\n  group: Group;\n  title: string;\n}\n\ninterface State extends TableState {\n  readonly menuOpen: boolean;\n}\n\nclass RCTable extends React.Component<Props, State> {\n  readonly state: State = this.props.appState\n    ? {\n        ...this.props.appState.tableState,\n        menuOpen: false\n      }\n    : {\n        ascSort: false,\n        sortKey: Radiuses.radius10000,\n        filterRule: [],\n        menuOpen: false\n      };\n  private anchorEl: HTMLElement | null = null;\n  private _handleSort = (radius: Radiuses) => {\n    this.setState(prevState => ({\n      ascSort: prevState.sortKey === radius ? !prevState.ascSort : false,\n      sortKey: radius\n    }));\n  };\n  private _handleMenuOpen = () => {\n    this.setState(prev => ({\n      menuOpen: !prev.menuOpen\n    }));\n  };\n  private _handleFilterRule = (category: Categories) => {\n    this.setState(prevState => ({\n      filterRule:\n        prevState.filterRule.indexOf(category) >= 0\n          ? prevState.filterRule.filter(filter => filter !== category)\n          : [...prevState.filterRule, category]\n    }));\n  };\n  public render() {\n    const { classes, edges, width, height, appState, group, title } = this.props;\n    const { ascSort, sortKey, filterRule, menuOpen } = this.state;\n    const categories: Categories[] = group === 'venues' ? footballCategories : group === 'arenas' ? basketballCategories : [];\n    return (\n      <Paper\n        className={classes.root}\n        style={{\n          width: width,\n          height: height\n        }}\n      >\n        <div className={classes.header}>\n          <Toolbar className={classes.toolbar}>\n            {' '}\n            <Tooltip title=\"\">\n              <IconButton\n                color=\"inherit\"\n                aria-owns={menuOpen ? 'menu-list' : undefined}\n                aria-haspopup=\"true\"\n                buttonRef={node => {\n                  this.anchorEl = node;\n                }}\n                onClick={this._handleMenuOpen}\n              >\n                <FilterListIcon />\n              </IconButton>\n            </Tooltip>\n            <Popper\n              className={classes.filterMenuWrapper}\n              anchorEl={this.anchorEl}\n              open={menuOpen}\n              transition\n              disablePortal\n              placement=\"bottom-start\"\n            >\n              {({ TransitionProps }) => (\n                <Grow {...TransitionProps} style={{ transformOrigin: 'left top' }}>\n                  <Paper>\n                    <ClickAwayListener\n                      onClickAway={event => {\n                        if (this.anchorEl === null || this.anchorEl.contains(event.target)) {\n                          return;\n                        }\n                        this.setState({ menuOpen: false });\n                      }}\n                    >\n                      <MenuList>\n                        {categories.map((category, index) => (\n                          <MenuItem\n                            key={index}\n                            onClick={() => {\n                              this._handleFilterRule(category);\n                            }}\n                          >\n                            <ListItemIcon>\n                              {filterRule.indexOf(category) < 0 ? <CheckCircleIcon /> : <RemoveIcon color=\"disabled\" />}\n                            </ListItemIcon>\n                            <ListItemText inset primary={category} />\n                          </MenuItem>\n                        ))}\n                      </MenuList>\n                    </ClickAwayListener>\n                  </Paper>\n                </Grow>\n              )}\n            </Popper>\n            <Typography className={classes.title} variant=\"h6\" color=\"inherit\">\n              {title}\n            </Typography>\n            <Tooltip title=\"\">\n              <IconButton\n                aria-owns=\"next\"\n                role=\"button\"\n                aria-haspopup=\"true\"\n                color=\"inherit\"\n                onClick={() => {\n                  navigateWithState(`/${group}/manholes`, {\n                    mapState: appState.mapState,\n                    tableState: {\n                      ascSort,\n                      sortKey,\n                      filterRule\n                    }\n                  });\n                }}\n              >\n                <ArrowForward />\n              </IconButton>\n            </Tooltip>\n          </Toolbar>\n          <div className={classes.thead}>\n            <div className={classes.row}>\n              <div className={classes.headerRowHead}>\n                <div className={classes.index}>i</div>\n                <div className={classes.name}>name</div>\n              </div>\n              <div className={classes.headerRowBody}>\n                {Object.entries(radiusLabels).map((d, index) => (\n                  <div\n                    key={index}\n                    role=\"button\"\n                    className={classNames(classes.val, classes.labelCell, { [`${classes.labelCellActive}`]: Radiuses[d[0]] === sortKey })}\n                  >\n                    <TableSortLabel\n                      classes={{\n                        root: classes.labelRoot,\n                        active: classes.labelActive\n                      }}\n                      active={Radiuses[d[0]] === sortKey}\n                      direction={ascSort ? 'asc' : 'desc'}\n                      onClick={() => this._handleSort(Radiuses[d[0]])}\n                    >\n                      {d[1]}\n                    </TableSortLabel>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div\n          className={classes.table}\n          style={{\n            height: height - 140\n          }}\n        >\n          {sortData(edges, { ascSort, sortKey, filterRule }).map((edge, index) => (\n            <div key={index} className={classes.row}>\n              <div className={classes.rowHead}>\n                <div className={classes.index}>{index + 1}</div>\n                <div className={classes.name}>\n                  <Link\n                    to={edge.node.fields.slug}\n                    className={classes.link}\n                    state={{\n                      appState: {\n                        mapState: appState.mapState,\n                        tableState: {\n                          ascSort,\n                          sortKey,\n                          filterRule\n                        }\n                      }\n                    }}\n                  >\n                    {edge.node.summary.name}\n                  </Link>\n                </div>\n                <div className={classes.category}>{edge.node.summary.shortname.join(' ')}</div>\n              </div>\n              <div className={classes.rowBody}>\n                <div className={classes.val}>{edge.node.summary.radius1000.toLocaleString()}</div>\n                <div className={classes.val}>{edge.node.summary.radius3000.toLocaleString()}</div>\n                <div className={classes.val}>{edge.node.summary.radius5000.toLocaleString()}</div>\n                <div className={classes.val}>{edge.node.summary.radius10000.toLocaleString()}</div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </Paper>\n    );\n  }\n}\n\nexport default withStyles(styles)(RCTable);\n\n// helpers\nexport function sortData(edges: Edge[], { ascSort, sortKey, filterRule }: TableState): Edge[] {\n  const isAsc = ascSort ? 1 : -1;\n  const prop: keyof typeof Radiuses = Radiuses[sortKey];\n\n  return filterRule.length\n    ? edges\n        .filter(edge => edge.node.summary.category.some(category => filterRule.indexOf(category) < 0))\n        .sort((a, b) => isAsc * (a.node.summary[prop] - b.node.summary[prop]))\n    : edges.sort((a, b) => isAsc * (a.node.summary[prop] - b.node.summary[prop]));\n}\n","import * as React from 'react';\nimport { StaticQuery, graphql } from 'gatsby';\nimport Typography from '@material-ui/core/Typography';\n\ninterface Query {\n  site: {\n    siteMetadata: {\n      title: string;\n      siteUrl: string;\n      description: string;\n      author: {\n        name: string;\n        url: string;\n        siteName: string;\n        twitter: string;\n        github: string;\n      };\n    };\n  };\n}\n\nconst Attribution: React.FunctionComponent<{}> = () => (\n  <StaticQuery\n    query={graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            siteUrl\n            description\n            author {\n              name\n              url\n              siteName\n              twitter\n              github\n            }\n          }\n        }\n      }\n    `}\n    render={(data: Query) => (\n      <section>\n        <Typography variant=\"h5\" gutterBottom>\n          {data.site.siteMetadata.title}\n        </Typography>\n        <Typography variant=\"body1\" paragraph>\n          {data.site.siteMetadata.description}\n        </Typography>\n        <Typography variant=\"body1\">\n          {`: `}\n          <a\n            href=\"https://www.e-stat.go.jp/gis/statmap-search?page=1&type=1&toukeiCode=00200521&toukeiYear=2015&aggregateUnit=Q&serveyId=Q002005112015&statsId=T000876\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n             2015 5(250m)\n          </a>\n        </Typography>\n        <Typography variant=\"body1\">\n          {`: `}\n          <a href=\"http://turfjs.org\" target=\"_blank\" rel=\"noopener noreferrer\">\n            Turf.js\n          </a>\n        </Typography>\n        <Typography variant=\"body1\">\n          {`: `}\n          <a href=\"https://maps.gsi.go.jp/development/ichiran.html\" target=\"_blank\" rel=\"noopener noreferrer\">\n            \n          </a>\n        </Typography>\n        <Typography variant=\"body1\">\n          {`: `}\n          <a href={data.site.siteMetadata.author.url} target=\"_blank\" rel=\"noopener noreferrer\">\n            {data.site.siteMetadata.author.siteName}\n          </a>\n        </Typography>\n        <Typography variant=\"body1\">\n          {`Twitter: `}\n          <a href={`https://twitter.com/${data.site.siteMetadata.author.twitter}`} target=\"_blank\" rel=\"noopener noreferrer\">{`@${\n            data.site.siteMetadata.author.twitter\n          }`}</a>\n        </Typography>\n        <Typography variant=\"body1\" paragraph />\n        <Typography variant=\"h6\" gutterBottom>\n          \n        </Typography>\n        <Typography variant=\"body1\" paragraph>\n          URL \n          \n          <a href=\"http://www.gsi.go.jp/kikakuchousei/kikakuchousei40182.html\" target=\"_blank\" rel=\"noopener noreferrer\">\n            \n          </a>\n          \n        </Typography>\n        <Typography variant=\"body2\" paragraph>\n          : : 2015250m\n        </Typography>\n      </section>\n    )}\n  />\n);\n\nexport default Attribution;\n","import * as React from 'react';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      fontFamily: theme.typography.fontFamily,\n      width: '100%',\n      maxWidth: 800,\n      margin: 'auto',\n      padding: theme.spacing.unit * 2,\n      '@global': {\n        blockquote: {\n          backgroundColor: '#f3f3f3',\n          margin: `${theme.spacing.unit * 2}px auto`,\n          padding: theme.spacing.unit * 2,\n          borderLeft: 'solid 4px #ddd',\n          borderRadius: '8px'\n        }\n      }\n    }\n  });\n\ninterface Props extends WithStyles<typeof styles> {\n  children: JSX.Element[] | JSX.Element;\n}\n\nconst Container: React.FC<Props> = (props: Props) => <div className={props.classes.root}>{props.children}</div>;\n\nexport default withStyles(styles)(Container);\n","import * as React from 'react';\nimport Typography from '@material-ui/core/Typography';\n\nconst DataAttribution: React.FC<{}> = () => (\n  <section>\n    <Typography variant=\"h5\" gutterBottom>\n      \n    </Typography>\n    <Typography variant=\"body1\" paragraph>\n      \n    </Typography>\n    <Typography variant=\"body1\" paragraph>\n      {': '}\n      <a\n        href=\"https://www.e-stat.go.jp/gis/statmap-search?page=1&type=1&toukeiCode=00200521&toukeiYear=2015&aggregateUnit=Q&serveyId=Q002005112015&statsId=T000876\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        {' 2015 5(250m) 1 '}\n      </a>\n      <br />\n      : 201814\n      <br />\n      : 2018410\n    </Typography>\n    <blockquote>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        \n      </Typography>\n      <Typography variant=\"body1\" paragraph>\n        {\n          ''\n        }\n      </Typography>\n      <Typography variant=\"body2\">\n        :{' '}\n        <a href=\"https://www.stat.go.jp/data/mesh/m_tuite.html\" target=\"_blank\" rel=\"noopener noreferrer\">\n          \n        </a>\n      </Typography>\n    </blockquote>\n    <Typography variant=\"h5\" gutterBottom>\n      \n    </Typography>\n    <Typography variant=\"body1\" paragraph>\n       JavaScript {' '}\n      <a href=\"https://turfjs.org\" target=\"_blank\" rel=\"noopener noreferrer\">\n        Turf.js\n      </a>{' '}\n      \n    </Typography>\n    <Typography variant=\"body1\">\n      \n      <a\n        href=\"https://midoriit.com/2014/08/qgis%E3%81%AB%E3%82%88%E3%82%8B%E7%B5%B1%E8%A8%88%E8%A7%A3%E6%9E%904.html\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        QGIS(4)  IT\n      </a>\n      \n    </Typography>\n  </section>\n);\n\nconst MapAttribution: React.FC<{}> = () => (\n  <section>\n    <Typography variant=\"h5\" gutterBottom>\n      \n    </Typography>\n    <Typography variant=\"body1\" paragraph>\n      \n      <a href=\"https://maps.gsi.go.jp/development/ichiran.html\" target=\"_blank\" rel=\"noopener noreferrer\">\n        \n      </a>\n      \n    </Typography>\n    <blockquote>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        \n      </Typography>\n      <Typography variant=\"body1\" paragraph>\n        {\n          '25000251'\n        }\n      </Typography>\n      <Typography variant=\"body2\">\n        : <a href=\"http://www.gsi.go.jp/kibanjoho/mapinfo_what.html\"></a>\n      </Typography>\n    </blockquote>\n    <blockquote>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        \n      </Typography>\n      <Typography variant=\"body1\" paragraph>\n        {\n          ''\n        }\n      </Typography>\n      <Typography variant=\"body2\">\n        : <a href=\"http://www.gsi.go.jp/bousaichiri/slopemap.html\"></a>\n      </Typography>\n    </blockquote>\n  </section>\n);\n\nexport { DataAttribution, MapAttribution };\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0xMiAyQzguMTMgMiA1IDUuMTMgNSA5YzAgNS4yNSA3IDEzIDcgMTNzNy03Ljc1IDctMTNjMC0zLjg3LTMuMTMtNy03LTd6bTAiIGZpbGw9IiMwMDkxRUEiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgPHBhdGggZD0iTTEyIDExLjVjLTEuMzggMC0yLjUtMS4xMi0yLjUtMi41czEuMTItMi41IDIuNS0yLjUgMi41IDEuMTIgMi41IDIuNS0xLjEyIDIuNS0yLjUgMi41eiIgZmlsbD0id2hpdGUiLz4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz4KPC9zdmc+Cg==\"","import fetch from 'isomorphic-fetch';\n\nexport interface Tile {\n  id: string;\n  x: number;\n  y: number;\n  z: number;\n  tx: number;\n  ty: number;\n  scale: number;\n  translate: [number, number];\n  mag: number;\n}\n\ntype TileUrl = string | undefined;\n\nexport interface TileWithURL extends Tile {\n  url: TileUrl;\n}\n\nexport interface TileTree {\n  [key: string]: {\n    [key: string]: {\n      [key: string]: TileUrl;\n    };\n  };\n}\n\ninterface TileSetOptions {\n  url?: string;\n  maxZoom?: number;\n  minZoom?: number;\n}\n\nclass TileSet {\n  readonly tileTree: TileTree;\n  readonly maxZoom: number;\n  readonly minZoom: number;\n  readonly tileUrl: string;\n  constructor(options: TileSetOptions = {}) {\n    this.tileUrl = options.url || '//cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png';\n    this.maxZoom = options.maxZoom || 20;\n    this.minZoom = options.maxZoom || 2;\n    this.tileTree = {};\n  }\n\n  private treeIncludesTile(tile: Tile): boolean {\n    const { x, y, z } = tile;\n    return (\n      this.tileTree.hasOwnProperty(z.toString()) &&\n      this.tileTree[z.toString()].hasOwnProperty(x.toString()) &&\n      this.tileTree[z.toString()][x.toString()].hasOwnProperty(y.toString())\n    );\n  }\n\n  private tile2tree(tile: TileWithURL) {\n    const { x, y, z, url } = tile;\n    if (!this.tileTree.hasOwnProperty(z.toString())) {\n      this.tileTree[z.toString()] = {\n        [x.toString()]: {\n          [y.toString()]: url\n        }\n      };\n    } else if (!this.tileTree[z.toString()].hasOwnProperty(x.toString())) {\n      this.tileTree[z.toString()][x.toString()] = {\n        [y.toString()]: url\n      };\n    } else {\n      this.tileTree[z.toString()][x.toString()][y.toString()] = url;\n    }\n  }\n  // fetch new tiles\n  private fetchTiles(tiles: Tile[]): Promise<TileWithURL[]> {\n    return new Promise(resolve => {\n      const tasks = tiles.map(tile => this.fetchTile(tile, this.tileUrl));\n      Promise.all(tasks).then((data: TileWithURL[]) => {\n        resolve(data);\n      });\n    });\n  }\n  private fetchTile(tile: Tile, url: string): Promise<TileWithURL> {\n    const { x, y, z } = tile;\n    const fetchUrl = url.replace('{z}/{x}/{y}', `${z}/${x}/${y}`);\n\n    return fetch(fetchUrl)\n      .then(res => {\n        if (!res.ok) throw new Error();\n        return res.blob();\n      })\n      .then(blob => {\n        const tileWithURL: TileWithURL = {\n          ...tile,\n          url: URL.createObjectURL(blob)\n        };\n        this.tile2tree(tileWithURL);\n        return tileWithURL;\n      })\n      .catch(() => {\n        const tileWithURL: TileWithURL = {\n          ...tile,\n          url: undefined\n        };\n        this.tile2tree(tileWithURL);\n        return tileWithURL;\n      });\n  }\n\n  // helpers\n\n  public isRequireFetch(tiles: Tile[]): boolean {\n    return !tiles.every(tile => this.treeIncludesTile(tile));\n  }\n\n  public setTileUrlFromTree(tiles: Tile[]): TileWithURL[] {\n    return tiles\n      .filter(tile => this.treeIncludesTile(tile))\n      .map(tile => ({\n        ...tile,\n        url: this.tileTree[tile.z][tile.x][tile.y]\n      }));\n  }\n\n  public async updateTiles(newTiles: Tile[]) {\n    const tilesInTree = this.setTileUrlFromTree(newTiles.filter(tile => this.treeIncludesTile(tile)));\n\n    const tilesShouldFetch = newTiles.filter(tile => !this.treeIncludesTile(tile));\n\n    const fetchedTiles: TileWithURL[] = await this.fetchTiles(tilesShouldFetch);\n\n    return [...tilesInTree, ...fetchedTiles];\n  }\n}\n\nexport default TileSet;\n","import * as React from 'react';\n/*\nconst filterMatrix = [\n  \"0.3333 0.3333 0.3333 0 0\",\n  \"0.3333 0.3333 0.3333 0 0\",\n  \"0.3333 0.3333 0.3333 0 0\",\n  \"0 0 0 1 0\"\n];\n*/\nconst filterMatrix = ['0.3333 0.3333 0.3333 0 0', '0.3333 0.3333 0.3333 0 0', '0.3333 0.3333 0.3333 0 0', '0 0 0 1 0'];\n\ninterface Props {\n  id: string;\n}\n\nconst GrayScaleFilter: React.FunctionComponent<Props> = (props: Props) => (\n  <filter id={props.id}>\n    <feColorMatrix type=\"matrix\" values={filterMatrix.join(' ')} />\n  </filter>\n);\n\nexport default GrayScaleFilter;\n","import * as React from 'react';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nconst d3tile = require('d3-tile').tile;\n\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport bbox from '@turf/bbox';\nimport { geoMercator, geoPath, GeoProjection, GeoPath } from 'd3-geo';\nimport TileSet, { Tile, TileWithURL } from '../utils/tileTree';\nimport MeshFeature from '../components/MeshFeature';\nimport GrayScaleFilter from '../components/GrayScaleFilter';\nimport { Mesh, Buffer, MapState, radiuses } from '../types';\n\nimport Place from '../image/place.svg';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      fontFamily: theme.typography.fontFamily\n    },\n    buffer: {\n      opacity: 0.2,\n      '&:hover': {\n        opacity: 1\n      }\n    },\n    bufferText: { fontSize: '80%', fontWeight: 'bold' },\n    progress: {\n      position: 'absolute',\n      width: '100%',\n      top: 0,\n      left: 0\n    },\n    points: {\n      '@global': {\n        rect: {\n          mixBlendMode: 'multiply'\n        }\n      }\n    }\n  });\n\ninterface D3TileArray<T> extends Array<T> {\n  scale: number;\n  translate: [number, number];\n}\n\ninterface Props extends WithStyles<typeof styles> {\n  width: number;\n  height: number;\n  mapState: MapState;\n  meshes: Mesh[];\n  buffers: Buffer[];\n}\n\ninterface State {\n  readonly fetchStatus?: 'yet' | 'fetching' | 'fetched';\n}\n\nclass Map extends React.Component<Props, State> {\n  readonly state: State = {\n    fetchStatus: 'yet'\n  };\n  private _tileSet = new TileSet();\n  private _terrain = new TileSet({\n    url: '//cyberjapandata.gsi.go.jp/xyz/slopemap/{z}/{x}/{y}.png'\n  });\n  // Tile Maps\n  // slope: //cyberjapandata.gsi.go.jp/xyz/slopemap/{z}/{x}/{y}.png\n\n  private _getTileCoordinates = (projection: GeoProjection, maxZoom: number = 20): Tile[] => {\n    const { width, height } = this.props;\n    let mag: number = 1.5;\n\n    const zoomer = Math.log2((projection.scale() * 2 * mag * Math.PI) / 256);\n    // required zoom level > maxZoom\n    if (zoomer >= maxZoom + 0.5) {\n      mag = Math.pow(2, maxZoom + 0.5 - zoomer);\n    }\n\n    const tiles: Tile[] = d3tile()\n      .size([width * mag, height * mag])\n      .scale(projection.scale() * 2 * Math.PI * mag)\n      .translate(projection([0, 0]).map(v => v * mag))()\n      .map((tile: { x: number; y: number; z: number }, index: number, array: D3TileArray<Tile>) => ({\n        ...tile,\n        mag,\n        id: `${tile.z}/${tile.x}/${tile.y}`,\n        scale: array.scale,\n        translate: array.translate\n      }));\n\n    return tiles;\n  };\n\n  private _fetchTiles = (tiles: Tile[], tileSet: TileSet) => {\n    return tileSet.updateTiles(tiles);\n  };\n\n  componentDidMount() {}\n\n  public render() {\n    const { classes, buffers, meshes, mapState } = this.props;\n    const { popVisibility, bufferVisibility, zoomLevel, terrain } = mapState;\n    const width = this.props.width || 400;\n    const height = this.props.height || 400;\n    const projection = buffers\n      ? geoMercator().fitExtent([[10, 40], [width - 10, height - 40]], buffers[radiuses.indexOf(zoomLevel)])\n      : geoMercator();\n\n    const path: GeoPath = geoPath(projection);\n    const tileSet = !terrain ? this._tileSet : this._terrain;\n    const tileCoords = !terrain ? this._getTileCoordinates(projection) : this._getTileCoordinates(projection, 15);\n\n    let renderTiles: TileWithURL[] = tileSet.setTileUrlFromTree(tileCoords);\n    let hoge = null;\n    if (tileSet.isRequireFetch(tileCoords)) {\n      hoge = <LinearProgress className={classes.progress} color=\"secondary\" />;\n      this._fetchTiles(tileCoords, tileSet).then(() => {\n        this.setState({ fetchStatus: 'fetched' });\n      });\n    }\n\n    return (\n      <div className={classes.root}>\n        <svg width={width} height={height}>\n          <g>\n            <GrayScaleFilter id=\"grayscale\" />\n            <g filter=\"url(#grayscale)\" className={classes.tiles} style={{ opacity: this.state.fetchStatus !== 'fetching' ? 1 : 0 }}>\n              {renderTiles.map((tile, index) => (\n                <image\n                  key={index}\n                  xlinkHref={tile.url}\n                  x={((tile.x + tile.translate[0]) * tile.scale) / tile.mag}\n                  y={((tile.y + tile.translate[1]) * tile.scale) / tile.mag}\n                  width={tile.scale / tile.mag}\n                  height={tile.scale / tile.mag}\n                  imageRendering=\"optimizeQuality\"\n                />\n              ))}\n            </g>\n          </g>\n          {popVisibility ? (\n            <g className={classes.points} style={{ opacity: this.state.fetchStatus !== 'yet' ? 1 : 0 }}>\n              {meshes.map((feature, index) =>\n                feature.geometry.type === 'Point' ? <MeshFeature key={index} feature={feature} projection={projection} /> : null\n              )}\n            </g>\n          ) : null}\n          {bufferVisibility ? (\n            <g>\n              {buffers\n                ? buffers.map((feature, index) => {\n                    const bb = bbox(feature);\n                    const lb = projection([bb[2] + (bb[0] - bb[2]) / 2, bb[1]]);\n                    return (\n                      <g key={index} className={classes.buffer}>\n                        <path d={path(feature) || undefined} fill=\"none\" stroke=\"rgba(255, 255, 255, 0.2)\" strokeWidth={12} />\n                        <path d={path(feature) || undefined} fill=\"none\" stroke=\"rgb(200, 60, 80)\" strokeWidth={3} />\n                        <text className={classes.bufferText} x={lb[0]} y={lb[1]} dy=\"1em\" textAnchor=\"middle\" fill=\"rgb(200, 60, 80)\">\n                          {feature.properties.radius}\n                        </text>\n                      </g>\n                    );\n                  })\n                : null}\n            </g>\n          ) : null}\n          <g>\n            <image xlinkHref={Place} x={width / 2} y={height / 2} width={28} height={28} transform=\"translate(-14, -26)\" />\n          </g>\n        </svg>\n        {hoge || null}\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(Map);\n","import * as React from 'react';\nimport List from '@material-ui/core/List';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Hidden from '@material-ui/core/Hidden';\nimport Switch from '@material-ui/core/Switch';\nimport { MapState } from '../../utils/types';\n\n// Icons\nimport ZoomIn from '@material-ui/icons/ZoomIn';\nimport ZoomOut from '@material-ui/icons/ZoomOut';\nimport LandScape from '@material-ui/icons/LandScape';\nimport PeopleIcon from '@material-ui/icons/People';\nimport Adjust from '@material-ui/icons/Adjust';\n\ninterface Props {\n  mapState: MapState;\n  handleZoomIn: () => any;\n  handleZoomOut: () => any;\n  handleTerrain: () => any;\n  handlePopVisibility: () => any;\n  handleBufferVisibility: () => any;\n}\n\nconst MapHandler: React.FunctionComponent<Props> = ({\n  mapState,\n  handleZoomIn,\n  handleZoomOut,\n  handleTerrain,\n  handlePopVisibility,\n  handleBufferVisibility\n}: Props) => (\n  <List subheader={<ListSubheader></ListSubheader>}>\n    <Hidden smDown implementation=\"css\">\n      <ListItem button selected={mapState.zoomLevel === 0} onClick={handleZoomIn}>\n        <ListItemIcon>\n          <ZoomIn />\n        </ListItemIcon>\n        <ListItemText></ListItemText>\n      </ListItem>\n      <ListItem button selected={mapState.zoomLevel === 3} onClick={handleZoomOut}>\n        <ListItemIcon>\n          <ZoomOut />\n        </ListItemIcon>\n        <ListItemText primary=\"\" />\n      </ListItem>\n    </Hidden>\n    <ListItem>\n      <ListItemIcon>\n        <LandScape />\n      </ListItemIcon>\n      <ListItemText primary=\"\" />\n      <ListItemSecondaryAction>\n        <Switch onChange={handleTerrain} checked={mapState.terrain} />\n      </ListItemSecondaryAction>\n    </ListItem>\n    <ListItem>\n      <ListItemIcon>\n        <PeopleIcon />\n      </ListItemIcon>\n      <ListItemText primary=\"\" />\n      <ListItemSecondaryAction>\n        <Switch onChange={handlePopVisibility} checked={mapState.popVisibility} />\n      </ListItemSecondaryAction>\n    </ListItem>\n    <ListItem>\n      <ListItemIcon>\n        <Adjust />\n      </ListItemIcon>\n      <ListItemText primary=\"\" />\n      <ListItemSecondaryAction>\n        <Switch onChange={handleBufferVisibility} checked={mapState.bufferVisibility} />\n      </ListItemSecondaryAction>\n    </ListItem>\n  </List>\n);\n\nexport default MapHandler;\n","import * as React from 'react';\nimport Icon from '@material-ui/core/Icon';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTwitter } from '@fortawesome/free-brands-svg-icons/faTwitter';\n\ninterface Props {\n  color?: 'primary' | 'secondary' | 'action' | 'error' | 'disabled';\n}\n\nclass TwitterIcon extends React.PureComponent<Props> {\n  componentWillMount() {\n    library.add(faTwitter);\n  }\n  public render() {\n    const { color } = this.props;\n    return (\n      <Icon color={color}>\n        <FontAwesomeIcon style={{ verticalAlign: '0.125em' }} icon={['fab', 'twitter']} />\n      </Icon>\n    );\n  }\n}\n\nexport default TwitterIcon;\n","import * as React from 'react';\nimport Icon from '@material-ui/core/Icon';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFacebook } from '@fortawesome/free-brands-svg-icons/faFacebook';\n\ninterface Props {\n  color?: 'primary' | 'secondary' | 'action' | 'error' | 'disabled';\n}\n\nclass FacebookIcon extends React.PureComponent<Props> {\n  componentWillMount() {\n    library.add(faFacebook);\n  }\n  public render() {\n    const { color } = this.props;\n    return (\n      <Icon color={color}>\n        <FontAwesomeIcon style={{ verticalAlign: '0.125em' }} icon={['fab', 'facebook']} />\n      </Icon>\n    );\n  }\n}\n\nexport default FacebookIcon;\n","import * as React from 'react';\nimport List from '@material-ui/core/List';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport TwitterIcon from '../fa-buttons/TwitterIcon';\nimport FacebookIcon from '../fa-buttons/FacebookIcon';\nimport { Data } from '../../types';\n\ninterface Props {\n  datum: Data;\n}\n\nconst SharesList: React.FunctionComponent<Props> = ({ datum }: Props) => (\n  <List subheader={<ListSubheader></ListSubheader>}>\n    <ListItem button component=\"a\" href={createTwiterShareUrl(datum)} target=\"_blank\" rel=\"noopener noreferrer\">\n      <ListItemIcon>\n        <TwitterIcon />\n      </ListItemIcon>\n      <ListItemText primary=\"Twitter\" />\n    </ListItem>\n    <ListItem button component=\"a\" href={createFbShareUrl(datum)} target=\"_blank\" rel=\"noopener noreferrer\">\n      <ListItemIcon>\n        <FacebookIcon />\n      </ListItemIcon>\n      <ListItemText primary=\"Facebook\" />\n    </ListItem>\n  </List>\n);\n\nexport default SharesList;\n\n// helpers\nfunction createTwiterShareUrl(datum: Data): string {\n  return (\n    `https://twitter.com/intent/tweet?text=` +\n    encodeURI(`${datum.summary.name}`) +\n    `&url=` +\n    encodeURIComponent(`https://cieloazul310.github.io/gatsby-stadiums-population${datum.fields.slug}`)\n  );\n}\n\nfunction createFbShareUrl(datum: Data): string {\n  return (\n    `https://www.facebook.com/sharer/sharer.php?u=` +\n    encodeURIComponent(`https://cieloazul310.github.io/gatsby-stadiums-population${datum.fields.slug}`)\n  );\n}\n","// FIXME: enum[enum.key] error\n\nimport * as React from 'react';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport List from '@material-ui/core/List';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\n\nimport { navigateWithState, Edge, AppState, TableState, Radiuses, radiusLabels } from '../../types';\n\nconst styles: StyleRules = createStyles({\n  itemTitle: {\n    fontSize: '80%',\n    fontWeight: 'bold'\n  },\n  itemNumber: {\n    textAlign: 'right'\n  }\n});\n\ninterface Props extends WithStyles<typeof styles> {\n  slug: string;\n  edges: Edge[];\n  appState: AppState;\n}\n\nconst DrawerTable: React.FC<Props> = ({ classes, slug, edges, appState }: Props) => (\n  <List subheader={<ListSubheader>{` ${createSortString(appState.tableState)}`}</ListSubheader>}>\n    {edges.map(edge => (\n      <ListItem\n        key={edge.node.summary.slug}\n        button\n        selected={edge.node.summary.slug === slug}\n        onClick={() => {\n          navigateWithState(edge.node.fields.slug, appState);\n        }}\n      >\n        <ListItemText\n          primary={<Typography className={classes.itemTitle}>{edge.node.summary.name}</Typography>}\n          secondary={\n            <Typography component=\"span\" className={classes.itemNumber}>\n              {edge.node.summary[Radiuses[appState.tableState.sortKey]].toLocaleString()}\n            </Typography>\n          }\n        />\n      </ListItem>\n    ))}\n  </List>\n);\n\nexport default withStyles(styles)(DrawerTable);\n\n// helpers\nfunction createSortString({ ascSort, sortKey }: TableState): string {\n  const sortRule = ascSort ? '' : '';\n  const sortLabel = radiusLabels[Radiuses[sortKey]];\n\n  return `${sortLabel} ${sortRule}`;\n}\n","import * as React from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Summary } from '../types';\n\ninterface Props {\n  summary: Summary;\n}\n\nconst ValuesTable: React.FunctionComponent<Props> = (props: Props) => {\n  const { summary } = props;\n  const { radius1000, radius3000, radius5000, radius10000 } = summary;\n\n  return (\n    <div>\n      <Table>\n        <TableBody>\n          <TableRow>\n            <TableCell align=\"right\">1km</TableCell>\n            <TableCell align=\"right\">{radius1000.toLocaleString()}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"right\">3km</TableCell>\n            <TableCell align=\"right\">{radius3000.toLocaleString()}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"right\">5km</TableCell>\n            <TableCell align=\"right\">{radius5000.toLocaleString()}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"right\">10km</TableCell>\n            <TableCell align=\"right\">{radius10000.toLocaleString()}</TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n    </div>\n  );\n};\n\nexport default ValuesTable;\n","import * as React from 'react';\nimport { navigate } from 'gatsby';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport Hidden from '@material-ui/core/Hidden';\n\n// Drawer Components\nimport MapHandler from './drawer/MapHandler';\nimport SharesList from './drawer/SharesList';\nimport DrawerTable from './drawer/DrawerTable';\n\n// Icons\nimport Clear from '@material-ui/icons/Clear';\nimport Reply from '@material-ui/icons/Reply';\n\nimport ValuesTable from '../components/ValuesTable';\nimport { Data, AppState, Edge, Group, navigateWithState } from '../types';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    toolbar: theme.mixins.toolbar\n  });\n\ninterface Props extends WithStyles<typeof styles> {\n  datum: Data;\n  appState: AppState;\n  edges: Edge[];\n  group: Group;\n  handleDrawerToggle: () => any;\n  handleZoomIn: () => any;\n  handleZoomOut: () => any;\n  handleTerrain: () => any;\n  handlePopVisibility: () => any;\n  handleBufferVisibility: () => any;\n}\n\nconst DrawerInner: React.FunctionComponent<Props> = ({\n  classes,\n  group,\n  appState,\n  datum,\n  edges,\n  handleDrawerToggle,\n  ...mapHandler\n}: Props) => {\n  const { mapState } = appState;\n\n  const DrawerToolBar = () => (\n    <div>\n      <List>\n        <Hidden mdUp implementation=\"css\">\n          <ListItem button onClick={handleDrawerToggle}>\n            <ListItemIcon>\n              <Clear />\n            </ListItemIcon>\n            <ListItemText primary=\"\" />\n          </ListItem>\n        </Hidden>\n        <ListItem\n          button\n          onClick={() => {\n            navigateWithState(`/${group}`, appState);\n          }}\n        >\n          <ListItemIcon>\n            <Reply />\n          </ListItemIcon>\n          <ListItemText></ListItemText>\n        </ListItem>\n      </List>\n    </div>\n  );\n\n  return (\n    <div className={classes.root}>\n      <DrawerToolBar />\n      <ValuesTable summary={datum.summary} />\n      <MapHandler mapState={mapState} {...mapHandler} />\n      <Divider />\n      <SharesList datum={datum} />\n      <Divider />\n      <DrawerTable slug={datum.summary.slug} edges={edges} appState={appState} />\n    </div>\n  );\n};\n\nexport default withStyles(styles)(DrawerInner);\n","import * as React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport { sizeScale, colorScale } from './MeshFeature';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    legends: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'flex-end'\n    },\n    legendItem: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      fontSize: '80%',\n      padding: theme.spacing.unit\n    }\n  });\n\ntype Props = WithStyles<typeof styles>;\n\nconst MapLegends: React.FunctionComponent<Props> = (props: Props) => (\n  <div className={props.classes.root}>\n    <div className={props.classes.legends}>\n      {[100, 250, 500, 750, 1000, 1500, 2000].map(val => {\n        const size = sizeScale(val) * 2;\n        const color = colorScale(val);\n        return (\n          <div className={props.classes.legendItem} key={val}>\n            <svg width={30} height={30}>\n              <rect x={15 - size / 2} y={15 - size / 2} width={size} height={size} fill={color} fillOpacity={1} />\n            </svg>\n            <Typography variant=\"caption\">{val}</Typography>\n          </div>\n        );\n      })}\n    </div>\n    <Typography variant=\"caption\">1(250m)</Typography>\n  </div>\n);\n\nexport default withStyles(styles)(MapLegends);\n","import * as React from 'react';\nimport classnames from 'classnames';\n//import { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport withStyles, { WithStyles /*StyleRules*/ } from '@material-ui/core/styles/withStyles';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = createStyles({\n  root: {\n    width: '100%'\n  },\n  ad: {\n    display: 'block'\n  }\n});\n\ntype Props = WithStyles<typeof styles>;\n\nclass AdBox extends React.PureComponent<Props> {\n  componentDidMount() {\n    (window.adsbygoogle = window.adsbygoogle || []).push({});\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.root}>\n        <Typography variant=\"subtitle2\"></Typography>\n        <ins\n          className={classnames('adsbygoogle', classes.ad)}\n          data-ad-client=\"ca-pub-7323207940463794\"\n          data-ad-slot={3901734109}\n          data-ad-format=\"auto\"\n          data-full-width-responsive={true}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(AdBox);\n","import * as React from 'react';\nimport { Link } from 'gatsby';\nimport { Helmet } from 'react-helmet';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport ToolBar from '@material-ui/core/Toolbar';\nimport Drawer from '@material-ui/core/Drawer';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/icons/Menu';\nimport Fab from '@material-ui/core/Fab';\nimport ArrowForward from '@material-ui/icons/ArrowForward';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\n// styles\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\n// icons\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\n\nimport { AutoSizer } from 'react-virtualized';\nimport { feature as topofeature } from 'topojson-client';\n\nimport MapApp from './MapApp';\nimport DrawerInner from './DrawerInner';\nimport MapLegends from './MapLegends';\nimport { sortData } from './RCTable';\n//import DirectionTable from '../components/DirectionTable';\nimport ValuesTable from './ValuesTable';\nimport Pie from './Pie';\nimport Attribution from './Attribution';\nimport Container from './Container';\nimport { DataAttribution, MapAttribution } from './MapAttribution';\nimport AdBox from './AdBox';\nimport Footer from './Footer';\nimport { Directions, directions, Radiuses, radiuses, Data, Edge, MapState, AppState, navigateWithState, BufferProps } from '../types';\n\nconst drawerWidth = 280;\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      display: 'flex'\n    },\n    drawer: {\n      [theme.breakpoints.up('md')]: {\n        width: drawerWidth,\n        flexShrink: 0\n      }\n    },\n    appBar: {\n      marginLeft: drawerWidth,\n      [theme.breakpoints.up('md')]: {\n        width: `calc(100% - ${drawerWidth}px)`\n      }\n    },\n    menuButton: {\n      marginRight: 10,\n      [theme.breakpoints.up('md')]: {\n        display: 'none'\n      }\n    },\n    drawerPaper: {\n      width: drawerWidth\n    },\n    content: {\n      flexGrow: 1,\n      paddingTop: 56,\n      '@media (min-width: 600px)': {\n        paddingTop: 64\n      }\n    },\n    apptitle: {\n      flexGrow: 1,\n      lineHeight: 1.2,\n      [theme.breakpoints.down('sm')]: {\n        fontSize: '90%'\n      }\n    },\n    fullWidthContainer: {\n      width: '100%',\n      margin: 'auto',\n      paddingTop: theme.spacing.unit * 2,\n      paddingBottom: theme.spacing.unit * 2\n    },\n    autoSizerWrapper: {\n      height: 'calc(100vh - 122px)',\n      '@media (min-width: 600px)': {\n        height: 'calc(100vh - 64px)'\n      }\n    },\n    fabZoomIn: {\n      position: 'absolute',\n      bottom: theme.spacing.unit * 10,\n      right: theme.spacing.unit * 2\n    },\n    fabZoomOut: {\n      position: 'absolute',\n      bottom: theme.spacing.unit * 2,\n      right: theme.spacing.unit * 2\n    },\n    description: {\n      maxWidth: 800,\n      margin: 'auto'\n    },\n    descParagraph: {\n      paddingLeft: theme.spacing.unit * 2,\n      paddingRight: theme.spacing.unit * 2\n    }\n  });\n\ninterface Props extends WithStyles<typeof styles> {\n  datum: Data;\n  edges: Edge[];\n  appState: AppState;\n  group: 'venues' | 'arenas';\n}\n\ninterface State extends MapState {\n  readonly drawerOpen: boolean;\n}\n\nclass MapInner extends React.Component<Props, State> {\n  readonly state = {\n    ...this.props.appState.mapState,\n    drawerOpen: false\n  };\n  private handleDrawerToggle = () => {\n    this.setState(prev => ({\n      drawerOpen: !prev.drawerOpen\n    }));\n  };\n  private handlePopVisibility = () => {\n    this.setState(prev => ({\n      popVisibility: !prev.popVisibility\n    }));\n  };\n  private handleBufferVisibility = () => {\n    this.setState(prev => ({\n      bufferVisibility: !prev.bufferVisibility\n    }));\n  };\n  private handleZoomIn = () => {\n    this.setState(prev => ({\n      zoomLevel: prev.zoomLevel !== Radiuses.radius1000 ? radiuses[radiuses.indexOf(prev.zoomLevel) - 1] : prev.zoomLevel\n    }));\n  };\n  private handleZoomOut = () => {\n    this.setState(prev => ({\n      zoomLevel: prev.zoomLevel !== Radiuses.radius10000 ? radiuses[radiuses.indexOf(prev.zoomLevel) + 1] : prev.zoomLevel\n    }));\n  };\n  private handleTerrain = () => {\n    this.setState(prev => ({\n      terrain: !prev.terrain\n    }));\n  };\n\n  public render() {\n    const { classes, datum, edges, appState, group } = this.props;\n    const { popVisibility, bufferVisibility, zoomLevel, terrain } = this.state;\n    const { tableState } = appState;\n    const { summary, topojson } = datum;\n    const meshes = topofeature(topojson, topojson.objects.points).features;\n    const buffers = topofeature(topojson, topojson.objects.buffers).features;\n    const others = sortData(edges, tableState);\n    const { name, club, category, slug } = summary;\n    const newAppState: AppState = {\n      tableState,\n      mapState: { popVisibility, bufferVisibility, zoomLevel, terrain }\n    };\n    const drawer = (\n      <DrawerInner\n        datum={datum}\n        edges={others}\n        group={group}\n        appState={newAppState}\n        handleDrawerToggle={this.handleDrawerToggle}\n        handleZoomIn={this.handleZoomIn}\n        handleZoomOut={this.handleZoomOut}\n        handleBufferVisibility={this.handleBufferVisibility}\n        handlePopVisibility={this.handlePopVisibility}\n        handleTerrain={this.handleTerrain}\n      />\n    );\n\n    return (\n      <div className={classes.root}>\n        <CssBaseline />\n        <Helmet>\n          <html lang=\"ja\" />\n          <title>{name} | </title>\n        </Helmet>\n        <AppBar className={classes.appBar} position=\"fixed\">\n          <ToolBar>\n            <IconButton\n              className={classes.menuButton}\n              role=\"presentation\"\n              aria-owns=\"menu\"\n              aria-haspopup=\"true\"\n              onClick={this.handleDrawerToggle}\n              color=\"inherit\"\n            >\n              <Menu />\n            </IconButton>\n            <Typography color=\"inherit\" className={classes.apptitle} component=\"h1\" variant=\"h6\">\n              {name}\n            </Typography>\n            <IconButton\n              aria-owns=\"next\"\n              role=\"button\"\n              aria-haspopup=\"true\"\n              onClick={() => {\n                const currentIndex = others.map(edge => edge.node.summary.slug).indexOf(slug);\n                const next = currentIndex === others.length - 1 ? others[0] : others[currentIndex + 1];\n                navigateWithState(next.node.fields.slug, newAppState);\n              }}\n              color=\"inherit\"\n            >\n              <ArrowForward />\n            </IconButton>\n          </ToolBar>\n        </AppBar>\n        <nav className={classes.drawer}>\n          <Hidden mdUp implementation=\"css\">\n            <SwipeableDrawer\n              variant=\"temporary\"\n              open={this.state.drawerOpen}\n              onClose={this.handleDrawerToggle}\n              onOpen={this.handleDrawerToggle}\n              classes={{ paper: classes.drawerPaper }}\n            >\n              {drawer}\n            </SwipeableDrawer>\n          </Hidden>\n          <Hidden smDown implementation=\"css\">\n            <Drawer classes={{ paper: classes.drawerPaper }} variant=\"permanent\" open>\n              {drawer}\n            </Drawer>\n          </Hidden>\n        </nav>\n        <div className={classes.content}>\n          <main>\n            <div className={classes.autoSizerWrapper}>\n              <AutoSizer>\n                {({ width, height }) => (\n                  <div>\n                    <MapApp\n                      width={width}\n                      height={height}\n                      meshes={meshes}\n                      buffers={buffers}\n                      mapState={{ popVisibility, bufferVisibility, zoomLevel, terrain }}\n                    />\n                    <Hidden implementation=\"css\" mdUp>\n                      <Fab\n                        className={classes.fabZoomIn}\n                        color=\"primary\"\n                        disabled={zoomLevel === 0}\n                        onClick={this.handleZoomIn}\n                        role=\"button\"\n                      >\n                        <AddIcon />\n                      </Fab>\n                      <Fab\n                        className={classes.fabZoomOut}\n                        color=\"primary\"\n                        disabled={zoomLevel === 3}\n                        onClick={this.handleZoomOut}\n                        role=\"button\"\n                      >\n                        <RemoveIcon />\n                      </Fab>\n                    </Hidden>\n                  </div>\n                )}\n              </AutoSizer>\n            </div>\n            <Container>\n              <MapLegends />\n            </Container>\n            <Container>\n              <AdBox />\n            </Container>\n            <Container>\n              <Typography component=\"h2\" variant=\"h5\" gutterBottom>\n                {name}\n              </Typography>\n              <Typography variant=\"body2\" gutterBottom>\n                : {club.join(', ')}\n                {'  '}\n                : {category.join(', ')}\n              </Typography>\n            </Container>\n            <Container>\n              <Grid container className={classes.grid} direction=\"row-reverse\" alignContent=\"center\">\n                <Grid item xs={12} sm={8}>\n                  <ValuesTable summary={summary} />\n                </Grid>\n                <Grid item xs={12} sm={4}>\n                  <Pie item={topojson.objects.buffers.geometries} />\n                </Grid>\n              </Grid>\n            </Container>\n          </main>\n          <aside>\n            <Container>\n              <Attribution />\n            </Container>\n            <Container>\n              <DataAttribution />\n            </Container>\n            <Container>\n              <MapAttribution />\n              <Link\n                to=\"/\"\n                state={{\n                  appState: newAppState\n                }}\n              >\n                \n              </Link>\n            </Container>\n            <Container>\n              <AdBox />\n            </Container>\n          </aside>\n          <Footer />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(MapInner);\n\n// helper\n\nfunction createDescriptionString(name: string, club: string[]): string {\n  const intro = club[0] !== '' ? `${club.join(',')} ` : '';\n  return `${intro}${name}(27)`;\n}\n\ntype DirectionObj = {\n  [key in keyof typeof Directions]: Array<{\n    radius: keyof typeof Radiuses;\n    population: number;\n    diff: number;\n  }>\n};\n\nfunction getItemsDiff(items: Array<{ properties: BufferProps }>): DirectionObj {\n  const obj: any = {};\n  directions.forEach(direction => {\n    obj[direction] = items.map((item, index, arr) => ({\n      radius: item.properties.radius,\n      population: item.properties[direction],\n      diff: index === 0 ? item.properties[direction] : item.properties[direction] - arr[index - 1].properties[direction]\n    }));\n  });\n  return obj;\n}\n"],"sourceRoot":""}