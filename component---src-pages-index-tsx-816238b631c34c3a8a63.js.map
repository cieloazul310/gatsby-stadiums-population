{"version":3,"sources":["webpack:///./src/components/RCTable.tsx","webpack:///./src/pages/index.tsx","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/utils/types.ts","webpack:///./.cache/public-page-renderer-prod.js"],"names":["RCTable","state","_this","props","appState","Object","assign","tableState","menuOpen","ascSort","sortKey","filterRule","_handleSort","index","setState","prevState","_handleMenuOpen","prev","_handleFilterRule","str","indexOf","filter","concat","render","_this2","this","_this$props","classes","data","width","height","_this$state","items","react","Paper_default","a","className","root","style","header","Toolbar_default","toolbar","Typography_default","title","variant","Tooltip_default","IconButton_default","aria-owns","undefined","aria-haspopup","buttonRef","node","anchorEl","onClick","FilterList_default","Popper_default","filterMenuWrapper","open","transition","disablePortal","placement","_ref","TransitionProps","Grow_default","transformOrigin","ClickAwayListener_default","onClickAway","event","contains","target","MenuList_default","map","MenuItem_default","key","ListItemIcon_default","CheckCircle_default","Remove_default","color","ListItemText_default","inset","primary","thead","row","headerRowHead","name","headerRowBody","val","TableSortLabel_default","active","direction","table","isAsc","prop","length","edge","summary","category","some","sort","b","sortData","rowHead","gatsby_browser_entry","to","slug","mapState","shortname","join","rowBody","radius1000","toLocaleString","radius3000","radius5000","radius10000","React","withStyles","theme","createStyles","fontSize","fontFamily","typography","overflowY","overflowScrolling","WebkitOverflowScrolling","zIndex","backgroundColor","palette","light","position","display","flexDirection","boxShadow","shadows","flex","@media (max-width: 720px)","justifyContent","borderBottom","boxSizing","borderRight","padding","textAlign","fontWeight","IndexPage","Helmet","content","property","es","components_RCTable","allVenuesJson","edges","location","initialAppState","query","margin","maxWidth","__webpack_require__","r","__webpack_exports__","d","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","createContext","createElement","Consumer","staticQueryData","children","Error","propTypes","PropTypes","object","string","isRequired","func","m","module","exports","require","default","navigateWithState","Radiuses","gatsby__WEBPACK_IMPORTED_MODULE_0__","popVisibility","bufferVisibility","zoomLevel","terrain","navigate","ProdPageRenderer","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","json","shape"],"mappings":"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","file":"component---src-pages-index-tsx-816238b631c34c3a8a63.js","sourcesContent":["import * as React from 'react';\nimport { Link } from 'gatsby';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Popper from '@material-ui/core/Popper';\nimport Grow from '@material-ui/core/Grow';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport MenuList from '@material-ui/core/MenuList';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n// Icons\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\n\nimport { VenueEdge, AppState, TableState } from '../utils/types';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      fontSize: '80%',\n      fontFamily: theme.typography.fontFamily\n    },\n    table: {\n      overflowY: 'scroll',\n      overflowScrolling: 'touch',\n      WebkitOverflowScrolling: 'touch',\n      zIndex: 0\n    },\n    header: {\n      backgroundColor: theme.palette.primary.light,\n      position: 'sticky',\n      display: 'flex',\n      flexDirection: 'column',\n      boxShadow: theme.shadows[1]\n    },\n    toolbar: {\n      display: 'flex',\n      flexDirection: 'row',\n      height: 56\n    },\n    title: {\n      flex: 1\n    },\n    filterMenuWrapper: {\n      zIndex: 1\n    },\n    headerRowHead: {\n      flex: 1,\n      display: 'flex',\n      '@media (max-width: 720px)': {\n        display: 'none'\n      }\n    },\n    headerRowBody: {\n      display: 'flex',\n      justifyContent: 'space-evenly'\n    },\n    thead: {},\n    row: {\n      display: 'flex',\n      flexDirection: 'row',\n      '@media (max-width: 720px)': {\n        flexDirection: 'column',\n        borderBottom: '1px solid #ddd'\n      }\n    },\n    rowHead: {\n      flex: 1,\n      display: 'flex',\n      boxSizing: 'border-box',\n      borderRight: '1px solid #eee',\n      '@media (max-width: 720px)': {\n        borderRight: 'none',\n        borderBottom: '1px solid #eee'\n      }\n    },\n    index: {\n      width: '4em',\n      padding: '1rem .5rem',\n      boxSizing: 'border-box',\n      textAlign: 'right'\n    },\n    name: {\n      padding: '1rem',\n      boxSizing: 'border-box',\n      flex: 1,\n      fontWeight: 'bold'\n    },\n    category: {\n      color: '#333',\n      padding: '1rem',\n      boxSizing: 'border-box'\n    },\n    rowBody: {\n      display: 'flex',\n      justifyContent: 'space-evenly'\n    },\n    val: {\n      width: '9em',\n      padding: '1rem',\n      boxSizing: 'border-box',\n      display: 'flex',\n      flexDirection: 'row-reverse'\n    }\n  });\n\ninterface Props extends WithStyles<typeof styles> {\n  data: VenueEdge[];\n  width: number;\n  height: number;\n  appState: AppState;\n}\n\ninterface State extends TableState {\n  readonly menuOpen: boolean;\n  readonly sortKey: number;\n  readonly filterRule: string[];\n}\n\nclass RCTable extends React.Component<Props, State> {\n  readonly state: State = this.props.appState\n    ? {\n        ...this.props.appState.tableState,\n        menuOpen: false\n      }\n    : {\n        ascSort: false,\n        sortKey: 3,\n        filterRule: [],\n        menuOpen: false\n      };\n  private anchorEl: HTMLElement;\n  private _handleSort = (index: number) => {\n    this.setState(prevState => ({\n      ascSort: prevState.sortKey === index ? !prevState.ascSort : false,\n      sortKey: index\n    }));\n  };\n  private _handleMenuOpen = () => {\n    this.setState(prev => ({\n      menuOpen: !prev.menuOpen\n    }));\n  };\n  private _handleFilterRule = (str: string) => {\n    this.setState(prevState => ({\n      filterRule:\n        prevState.filterRule.indexOf(str) >= 0 ? prevState.filterRule.filter(filter => filter !== str) : [...prevState.filterRule, str]\n    }));\n  };\n  public render() {\n    const { classes, data, width, height, appState } = this.props;\n    const { ascSort, sortKey, filterRule, menuOpen } = this.state;\n    const items = data;\n    return (\n      <Paper\n        className={classes.root}\n        style={{\n          width: width,\n          height: height\n        }}\n      >\n        <div className={classes.header}>\n          <Toolbar className={classes.toolbar}>\n            <Typography className={classes.title} variant=\"h6\">\n              スタジアムと距離圏人口\n            </Typography>\n            <Tooltip title=\"フィルター\">\n              <IconButton\n                aria-owns={menuOpen ? 'menu-list' : undefined}\n                aria-haspopup=\"true\"\n                buttonRef={node => {\n                  this.anchorEl = node;\n                }}\n                onClick={this._handleMenuOpen}\n              >\n                <FilterListIcon />\n              </IconButton>\n            </Tooltip>\n            <Popper\n              className={classes.filterMenuWrapper}\n              anchorEl={this.anchorEl}\n              open={menuOpen}\n              transition\n              disablePortal\n              placement=\"bottom-end\"\n            >\n              {({ TransitionProps }) => (\n                <Grow {...TransitionProps} style={{ transformOrigin: 'right top' }}>\n                  <Paper>\n                    <ClickAwayListener\n                      onClickAway={event => {\n                        if (this.anchorEl.contains(event.target)) {\n                          return;\n                        }\n                        this.setState({ menuOpen: false });\n                      }}\n                    >\n                      <MenuList>\n                        {['J1', 'J2', 'J3', 'JFL', '地域', 'その他'].map((str, index) => (\n                          <MenuItem\n                            key={index}\n                            onClick={() => {\n                              this._handleFilterRule(str);\n                            }}\n                          >\n                            <ListItemIcon>\n                              {filterRule.indexOf(str) < 0 ? <CheckCircleIcon /> : <RemoveIcon color=\"disabled\" />}\n                            </ListItemIcon>\n                            <ListItemText inset primary={str} />\n                          </MenuItem>\n                        ))}\n                      </MenuList>\n                    </ClickAwayListener>\n                  </Paper>\n                </Grow>\n              )}\n            </Popper>\n          </Toolbar>\n          <div className={classes.thead}>\n            <div className={classes.row}>\n              <div className={classes.headerRowHead}>\n                <div className={classes.index}>i</div>\n                <div className={classes.name}>name</div>\n              </div>\n              <div className={classes.headerRowBody}>\n                {['1km', '3km', '5km', '10km'].map((str, index) => (\n                  <div key={index} className={classes.val}>\n                    <TableSortLabel active={index === sortKey} direction={ascSort ? 'asc' : 'desc'} onClick={() => this._handleSort(index)}>\n                      {str}\n                    </TableSortLabel>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div\n          className={classes.table}\n          style={{\n            height: height - 140\n          }}\n        >\n          {sortData(items, ascSort, sortKey, filterRule).map((edge, index) => (\n            <div key={index} className={classes.row}>\n              <div className={classes.rowHead}>\n                <div className={classes.index}>{index + 1}</div>\n                <div className={classes.name}>\n                  <Link\n                    to={`/${edge.node.summary.slug}/`}\n                    state={{\n                      mapState: appState.mapState || null,\n                      tableState: {\n                        ascSort,\n                        sortKey,\n                        filterRule\n                      }\n                    }}\n                  >\n                    {edge.node.summary.name}\n                  </Link>\n                </div>\n                <div className={classes.category}>{edge.node.summary.shortname.join(' ')}</div>\n              </div>\n              <div className={classes.rowBody}>\n                <div className={classes.val}>{edge.node.summary.radius1000.toLocaleString()}</div>\n                <div className={classes.val}>{edge.node.summary.radius3000.toLocaleString()}</div>\n                <div className={classes.val}>{edge.node.summary.radius5000.toLocaleString()}</div>\n                <div className={classes.val}>{edge.node.summary.radius10000.toLocaleString()}</div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </Paper>\n    );\n  }\n}\n\nexport default withStyles(styles)(RCTable);\n\n// helpers\nfunction sortData(data: VenueEdge[], ascSort: boolean, sortKey: number, filterRule: string[]): VenueEdge[] {\n  const isAsc = ascSort ? 1 : -1;\n  const prop = sortKey === 0 ? 'radius1000' : sortKey === 1 ? 'radius3000' : sortKey === 2 ? 'radius5000' : 'radius10000';\n\n  return filterRule.length\n    ? data\n        .filter(edge => edge.node.summary.category.some(category => filterRule.indexOf(category) < 0))\n        .sort((a, b) => isAsc * (a.node.summary[prop] - b.node.summary[prop]))\n    : data.sort((a, b) => isAsc * (a.node.summary[prop] - b.node.summary[prop]));\n}\n","import * as React from 'react';\nimport { graphql } from 'gatsby';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport { Helmet } from 'react-helmet';\nimport withRoot from '../utils/withRoot';\nimport RCTable from '../components/RCTable';\nimport { AutoSizer } from 'react-virtualized';\nimport { VenueEdge, LocationWithState, initialAppState } from '../utils/types';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      width: '100%'\n    },\n    content: {\n      margin: 'auto',\n      maxWidth: 1000\n    },\n    table: {\n      width: '100%',\n      height: '100vh'\n    }\n  });\n\ninterface Props extends WithStyles<typeof styles> {\n  data: {\n    allVenuesJson: {\n      edges: Array<VenueEdge>;\n    };\n  };\n  location: LocationWithState;\n}\n\nclass IndexPage extends React.PureComponent<Props> {\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.root}>\n        <Helmet>\n          <title>サッカースタジアムと人口</title>\n          <meta name=\"viewport\" content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui\" />\n          <meta\n            name=\"description\"\n            content=\"日本国内の主要なサッカースタジアムの周辺人口を総務省統計局の地域メッシュ統計から算出し、地図に表示しました。\"\n          />\n          <meta property=\"og:type\" content=\"website\" />\n          <meta property=\"og:title\" content=\"サッカースタジアムと人口\" />\n          <meta property=\"og:url\" content=\"https://cieloazul310.github.io/gatsby-stadiums-population/\" />\n          <meta property=\"og:image\" content=\"https://cieloazul310.github.io/img/ogp2.png\" />\n          <meta property=\"og:site_name\" content=\"水戸地図\" />\n          <meta name=\"twitter:card\" content=\"summary\" />\n          <meta name=\"apple-mobile-web-app-capable\" content=\"yes\" />\n          <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\" />\n        </Helmet>\n        <main>\n          <div className={classes.content}>\n            <div className={classes.table}>\n              <AutoSizer>\n                {({ width, height }) => (\n                  <RCTable\n                    width={width}\n                    height={height}\n                    data={this.props.data.allVenuesJson.edges}\n                    appState={this.props.location.state || initialAppState}\n                  />\n                )}\n              </AutoSizer>\n            </div>\n          </div>\n        </main>\n      </div>\n    );\n  }\n}\n//export default withRoot(withStyles(styles)(IndexPage));\nexport default withStyles(styles)(IndexPage);\n\nexport const query = graphql`\n  {\n    allVenuesJson {\n      edges {\n        node {\n          summary {\n            name\n            club\n            category\n            shortname\n            slug\n            radius1000\n            radius3000\n            radius5000\n            radius10000\n          }\n        }\n      }\n    }\n  }\n`;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import { navigate } from 'gatsby';\nimport { Feature, Polygon } from '@turf/helpers';\nimport { LocationProps } from '@reach/router';\n\nexport const initialAppState: AppState = {\n  tableState: {\n    ascSort: false,\n    sortKey: 3,\n    filterRule: []\n  },\n  mapState: {\n    popVisibility: true,\n    bufferVisibility: true,\n    zoomLevel: 3,\n    terrain: false\n  }\n};\n\n// gatsby navigate with strict type checking\nexport const navigateWithState = (to: string, state: AppState) => {\n  navigate(to, { state });\n};\n\nexport enum Radiuses {\n  radius1000 = '1km',\n  radius3000 = '3km',\n  radius5000 = '5km',\n  radius10000 = '10km'\n}\n\nexport interface TableState {\n  readonly ascSort: boolean;\n  readonly sortKey: number;\n  readonly filterRule: string[];\n}\n\nexport interface MapState {\n  readonly popVisibility: boolean;\n  readonly bufferVisibility: boolean;\n  readonly zoomLevel: number;\n  readonly terrain?: boolean;\n}\n\nexport interface AppState {\n  tableState: TableState;\n  mapState: MapState;\n}\n\nexport interface LocationWithState extends LocationProps {\n  state: AppState | null;\n}\n\nexport interface Summary {\n  name: string;\n  club: string[];\n  category: string[];\n  shortname: string[];\n  slug: string;\n  radius1000: number;\n  radius3000: number;\n  radius5000: number;\n  radius10000: number;\n}\n\nexport interface VenueEdge {\n  node: {\n    summary: Summary;\n  };\n}\n\nexport interface BufferPropertis extends EighthDirections {\n  name: string;\n  radius: number;\n  population: number;\n}\n\nexport type Buffer = Feature<Polygon, BufferPropertis>;\n\nexport interface MeshProperties {\n  id: number;\n  val: number;\n}\n\nexport interface ForthDirections {\n  north: number;\n  east: number;\n  south: number;\n  west: number;\n}\n\nexport interface EighthDirections extends ForthDirections {\n  northeast: number;\n  southeast: number;\n  southwest: number;\n  northwest: number;\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n"],"sourceRoot":""}