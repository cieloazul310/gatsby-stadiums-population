{"version":3,"sources":["webpack:///./src/pages/manholes.tsx","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/utils/types.ts","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/MeshFeature.tsx","webpack:///./src/components/Footer.tsx","webpack:///./src/components/Pie.tsx","webpack:///./node_modules/@material-ui/icons/ArrowBack.js"],"names":["Pies","render","_this$props","this","props","classes","data","state","location","react__WEBPACK_IMPORTED_MODULE_5__","className","root","react_helmet__WEBPACK_IMPORTED_MODULE_7__","lang","name","content","property","_material_ui_core_CssBaseline__WEBPACK_IMPORTED_MODULE_11___default","a","_material_ui_core_AppBar__WEBPACK_IMPORTED_MODULE_12___default","_material_ui_core_Toolbar__WEBPACK_IMPORTED_MODULE_13___default","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_16___default","color","onClick","navigateWithState","initialAppState","_material_ui_icons_ArrowBack__WEBPACK_IMPORTED_MODULE_17___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_10___default","variant","map","str","_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_15___default","key","paper","paperTitle","gutterBottom","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_14___default","container","spacing","allVenuesJson","edges","filter","edge","node","summary","category","includes","sort","b","scorePopulation","index","item","xs","sm","md","lg","_components_Pie__WEBPACK_IMPORTED_MODULE_18__","topojson","objects","buffers","geometries","label","gatsby__WEBPACK_IMPORTED_MODULE_6__","to","slug","_components_Footer__WEBPACK_IMPORTED_MODULE_19__","React","withStyles","theme","_content","createStyles","flex","paddingTop","paddingRight","unit","paddingLeft","@media (max-width: 599px)","breakpoints","down","padding","marginTop","marginBottom","paddingBottom","textAlign","display","justifyContent","query","Scores","reduce","accum","curr","arr","__webpack_require__","r","__webpack_exports__","d","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","createContext","createElement","Consumer","staticQueryData","children","Error","propTypes","PropTypes","object","string","isRequired","func","radiuses","Directions","directions","Radiuses","gatsby__WEBPACK_IMPORTED_MODULE_0__","tableState","ascSort","sortKey","filterRule","mapState","popVisibility","bufferVisibility","zoomLevel","terrain","navigate","radius1000","radius3000","radius5000","radius10000","m","module","exports","require","default","ProdPageRenderer","_ref","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","Object","assign","json","shape","colorScale","sizeScale","d3_scale__WEBPACK_IMPORTED_MODULE_1__","d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_2__","scaleSequential","interpolateSpectral","domain","scalePow","range","exponent","MeshRect","feature","projection","val","properties","center","geometry","coordinates","size","Math","abs","min","max","scale","fill","fillOpacity","x","y","width","height","style","mixBlendMode","_material_ui_core_styles_withStyles__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_styles_withStyles__WEBPACK_IMPORTED_MODULE_1___default","_material_ui_core_styles_createStyles__WEBPACK_IMPORTED_MODULE_2__","_material_ui_core_styles_createStyles__WEBPACK_IMPORTED_MODULE_2___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3__","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3___default","backgroundColor","palette","primary","dark","inner","justifyItems","copy","concat","opacity","scaleLinear","Pie","react__WEBPACK_IMPORTED_MODULE_3__","viewBox","i","transform","direction","angle","density","radius","indexOf","pow","PI","calcDensity","_directionToAngle","keys","length","startAngle","endAngle","arc","d3arc","innerRadius","outerRadius","padAngle","undefined","_interopRequireDefault","defineProperty","value","_react","_default","Fragment"],"mappings":"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","file":"component---src-pages-manholes-tsx-ead06cf27a9f93fa902b.js","sourcesContent":["import * as React from 'react';\nimport { graphql, Link } from 'gatsby';\nimport { Helmet } from 'react-helmet';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport Typography from '@material-ui/core/Typography';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport ArrowBack from '@material-ui/icons/ArrowBack';\nimport Pie from '../components/Pie';\nimport Footer from '../components/Footer';\nimport { LocationWithState, initialAppState, navigateWithState } from '../utils/types';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      flex: 1\n    },\n    content: {\n      paddingTop: 64,\n      paddingRight: theme.spacing.unit * 2,\n      paddingLeft: theme.spacing.unit * 2,\n      '@media (max-width: 599px)': {\n        paddingTop: 56\n      },\n      [theme.breakpoints.down('xs')]: {\n        paddingRight: 0,\n        paddingLeft: 0\n      }\n    },\n    container: {\n      padding: theme.spacing.unit\n    },\n    paper: {\n      marginTop: theme.spacing.unit * 2,\n      marginBottom: theme.spacing.unit * 2,\n      paddingTop: theme.spacing.unit * 2,\n      paddingBottom: theme.spacing.unit * 2\n    },\n    paperTitle: {\n      textAlign: 'center'\n    },\n    edge: {\n      padding: theme.spacing.unit\n    },\n    label: {\n      display: 'flex',\n      justifyContent: 'center'\n    }\n  });\n\ninterface Data {\n  allVenuesJson: {\n    edges: any[];\n  };\n}\n\ninterface Props extends WithStyles<typeof styles> {\n  data: Data;\n  location: LocationWithState;\n}\n\ninterface State {}\n\nclass Pies extends React.Component<Props, State> {\n  public render() {\n    const { classes, data, location } = this.props;\n    const { state } = location;\n    return (\n      <div className={classes.root}>\n        <Helmet>\n          <html lang=\"ja\" />\n          <title>スタジアムと距離圏人口</title>\n          <meta name=\"viewport\" content=\"width=device-width,initial-scale=1,minimum-scale=1,minimal-ui\" />\n          <meta\n            name=\"description\"\n            content=\"日本国内の主要なサッカースタジアムの周辺人口を総務省統計局の地域メッシュ統計から算出し、地図に表示しました。\"\n          />\n          <meta property=\"og:type\" content=\"website\" />\n          <meta property=\"og:title\" content=\"サッカースタジアムと人口\" />\n          <meta property=\"og:url\" content=\"https://cieloazul310.github.io/gatsby-stadiums-population/manholes/\" />\n          <meta property=\"og:image\" content=\"https://cieloazul310.github.io/img/ogp2.png\" />\n          <meta property=\"og:site_name\" content=\"水戸地図\" />\n          <meta name=\"twitter:card\" content=\"summary\" />\n          <meta name=\"apple-mobile-web-app-capable\" content=\"yes\" />\n          <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\" />\n        </Helmet>\n        <CssBaseline />\n        <AppBar>\n          <Toolbar>\n            <IconButton\n              color=\"inherit\"\n              onClick={() => {\n                navigateWithState('./', state || initialAppState);\n              }}\n            >\n              <ArrowBack />\n            </IconButton>\n            <Typography variant=\"h6\" color=\"inherit\">\n              スタジアムと距離圏人口\n            </Typography>\n          </Toolbar>\n        </AppBar>\n        <div className={classes.content}>\n          {['J1', 'J2', 'J3', 'JFL', '地域', 'その他'].map(str => (\n            <Paper key={str} className={classes.paper}>\n              <Typography className={classes.paperTitle} variant=\"h5\" gutterBottom>\n                {str !== '地域' ? str : '地域リーグ'}のスタジアム\n              </Typography>\n              <Grid container className={classes.container} spacing={0}>\n                {data.allVenuesJson.edges\n                  .filter(edge => edge.node.summary.category.includes(str))\n                  .sort((a, b) => scorePopulation(b.node.summary) - scorePopulation(a.node.summary))\n                  .map((edge, index) => (\n                    <Grid key={index} item xs={6} sm={4} md={2} lg={2} className={classes.edge}>\n                      <Pie item={edge.node.topojson.objects.buffers.geometries} />\n                      <div>\n                        <Typography className={classes.label} variant=\"caption\">\n                          <Link to={`/${edge.node.summary.slug}`} state={state || initialAppState}>\n                            {edge.node.summary.name}\n                          </Link>\n                        </Typography>\n                      </div>\n                    </Grid>\n                  ))}\n              </Grid>\n            </Paper>\n          ))}\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(Pies);\n\nexport const query = graphql`\n  {\n    allVenuesJson {\n      edges {\n        node {\n          summary {\n            name\n            shortname\n            category\n            slug\n            radius1000\n            radius3000\n            radius5000\n            radius10000\n          }\n          topojson {\n            objects {\n              buffers {\n                geometries {\n                  properties {\n                    name\n                    radius\n                    population\n                    north\n                    northeast\n                    east\n                    southeast\n                    south\n                    southwest\n                    west\n                    northwest\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\n// helpers\nfunction scorePopulation(summary: any): number {\n  enum Scores {\n    radius1000 = 100,\n    radius3000 = 33,\n    radius5000 = 10,\n    radius10000 = 1\n  }\n\n  const r: Array<keyof typeof Scores> = ['radius1000', 'radius3000', 'radius5000', 'radius10000'];\n\n  return r.reduce((accum, curr, index, arr) => {\n    return index === 0 ? accum + summary[curr] * Scores[curr] : accum + (summary[curr] - summary[arr[index - 1]]) * Scores[curr];\n  }, 0);\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","import { navigate } from 'gatsby';\nimport { Feature, Polygon } from '@turf/helpers';\nimport { LocationProps } from '@reach/router';\n\nexport const initialAppState: AppState = {\n  tableState: {\n    ascSort: false,\n    sortKey: 3,\n    filterRule: []\n  },\n  mapState: {\n    popVisibility: true,\n    bufferVisibility: true,\n    zoomLevel: 3,\n    terrain: false\n  }\n};\n\n// gatsby navigate with strict type checking\nexport const navigateWithState = (to: string, state: AppState) => {\n  navigate(to, { state });\n};\n\nexport interface TableState {\n  readonly ascSort: boolean;\n  readonly sortKey: number;\n  readonly filterRule: string[];\n}\n\nexport interface MapState {\n  readonly popVisibility: boolean;\n  readonly bufferVisibility: boolean;\n  readonly zoomLevel: number;\n  readonly terrain?: boolean;\n}\n\nexport interface AppState {\n  tableState: TableState;\n  mapState: MapState;\n}\n\nexport interface LocationWithState extends LocationProps {\n  state: AppState | null;\n}\n\nexport interface Summary extends RadiusProps {\n  name: string;\n  club: string[];\n  category: string[];\n  shortname: string[];\n  slug: string;\n}\n\nexport interface VenueEdge {\n  node: {\n    summary: Summary;\n  };\n}\n\nexport interface BufferProperties extends DirectionProps {\n  name: string;\n  radius: number;\n  population: number;\n}\n\nexport type Buffer = Feature<Polygon, BufferProperties>;\n\nexport interface MeshProperties {\n  id: number;\n  val: number;\n}\n\nexport enum Radiuses {\n  radius1000 = 1000,\n  radius3000 = 3000,\n  radius5000 = 5000,\n  radius10000 = 10000\n}\n\nexport const radiuses: Radiuses[] = [Radiuses.radius1000, Radiuses.radius3000, Radiuses.radius5000, Radiuses.radius10000];\n\nexport const radiusKeys: Array<keyof typeof Radiuses> = ['radius1000', 'radius3000', 'radius5000', 'radius10000'];\n\nexport type RadiusProps = { [key in keyof typeof Radiuses]: number };\n\nexport enum Directions {\n  north,\n  northeast,\n  east,\n  southeast,\n  south,\n  southwest,\n  west,\n  northwest\n}\n\nexport const directions: Array<keyof typeof Directions> = [\n  'north',\n  'northeast',\n  'east',\n  'southeast',\n  'south',\n  'southwest',\n  'west',\n  'northwest'\n];\n\nexport type DirectionProps = { [key in keyof typeof Directions]: number };\n\nexport function directionToKanji(direction: keyof typeof Directions): string {\n  return direction === 'north'\n    ? '北'\n    : direction === 'northeast'\n    ? '北東'\n    : direction === 'east'\n    ? '東'\n    : direction === 'southeast'\n    ? '南東'\n    : direction === 'south'\n    ? '南'\n    : direction === 'southwest'\n    ? '南西'\n    : direction === 'west'\n    ? '西'\n    : direction === 'northwest'\n    ? '北西'\n    : '';\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import * as React from 'react';\nimport { scaleLinear, scalePow, scaleSequential } from 'd3-scale';\nimport { interpolateSpectral } from 'd3-scale-chromatic';\nimport { Feature, Point } from '@turf/helpers';\nimport { GeoProjection } from 'd3-geo';\n\nimport { MeshProperties } from '../utils/types';\n\ninterface Props {\n  feature: Feature<Point, MeshProperties>;\n  projection: GeoProjection;\n}\n\nexport const colorScale = scaleSequential(interpolateSpectral).domain([1250, 0]);\n\nexport const sizeScale = scalePow()\n  .domain([0, 1000])\n  .range([0, 8])\n  .exponent(0.5);\n\nconst MeshRect: React.FunctionComponent<Props> = (props: Props) => {\n  const { feature, projection } = props;\n  const { val } = feature.properties;\n  const center = projection(feature.geometry.coordinates);\n  const size = Math.abs(sizeScale(val) * Math.min(Math.max(1, projection.scale() / 125000), 2.5));\n\n  return (\n    <rect\n      fill={colorScale(val)}\n      fillOpacity={0.6}\n      x={center[0] - size / 2}\n      y={center[1] - size / 2}\n      width={size}\n      height={size}\n      style={{ mixBlendMode: 'multiply' }}\n    />\n  );\n};\n\nexport default MeshRect;\n","import * as React from 'react';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      backgroundColor: theme.palette.primary.dark,\n      color: 'white'\n    },\n    inner: {\n      display: 'flex',\n      padding: `${theme.spacing.unit * 4}px ${theme.spacing.unit * 1}px`,\n      justifyContent: 'center',\n      justifyItems: 'center'\n    }\n  });\n\ntype Props = WithStyles<typeof styles>;\n\nconst Footer: React.FC<Props> = ({ classes }: Props) => (\n  <div className={classes.root}>\n    <footer>\n      <div className={classes.inner}>\n        <Typography variant=\"body2\" color=\"inherit\">\n          Copyright © 2019 cieloazul310 All rights reserved.\n        </Typography>\n      </div>\n    </footer>\n  </div>\n);\n\nexport default withStyles(styles)(Footer);\n","import * as React from 'react';\nimport { scaleLinear } from 'd3-scale';\nimport { arc as d3arc } from 'd3-shape';\nimport { colorScale } from './MeshFeature';\nimport { Directions, directions, Radiuses, radiuses, BufferProperties } from '../utils/types';\n\ninterface Props {\n  item: Array<{ properties: BufferProperties }>;\n}\n\nconst color = colorScale.copy();\ncolor.domain([...colorScale.domain()].map(d => d * 8));\nconst opacity = scaleLinear()\n  .domain([250, 0])\n  .range([1, 0]);\n\nconst Pie: React.FC<Props> = ({ item }: Props) => {\n  const size = 300;\n\n  return (\n    <svg viewBox={`0 0 ${size} ${size}`}>\n      {item.map((d, i, arr) => (\n        <g key={i} transform={`translate(${size / 2}, ${size / 2})`}>\n          {directions.map(key => {\n            const val = i === 0 ? d.properties[key] : d.properties[key] - arr[i - 1].properties[key];\n            const density = calcDensity(val, d.properties.radius);\n            const { startAngle, endAngle } = directionToAngle(Directions[key]);\n            const arc = d3arc()({\n              startAngle,\n              endAngle,\n              innerRadius: ((size - 8) * (i + 1)) / 10 + 2,\n              outerRadius: ((size - 8) * (i + 2)) / 10,\n              padAngle: 0.05\n            });\n            return (\n              <g key={key}>\n                <path key={key} d={arc || undefined} fill={color(density)} fillOpacity={opacity(density)} />\n              </g>\n            );\n          })}\n        </g>\n      ))}\n    </svg>\n  );\n};\n\nexport default Pie;\n\n// utils\nfunction directionToAngle(direction: Directions) {\n  const angle = (Math.PI * 2) / (Object.keys(Directions).length / 2);\n  return {\n    startAngle: direction * angle - angle / 2,\n    endAngle: direction * angle + angle / 2\n  };\n}\n\nfunction calcDensity(val: number, radius: Radiuses) {\n  const index = radiuses.indexOf(radius);\n  return index === 0\n    ? (val * 8) / (Math.pow(radiuses[index] / 1000, 2) * Math.PI)\n    : (val * 8) / (Math.pow(radiuses[index] / 1000, 2) * Math.PI - Math.pow(radiuses[index - 1] / 1000, 2) * Math.PI);\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n}), _react.default.createElement(\"path\", {\n  d: \"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"\n})), 'ArrowBack');\n\nexports.default = _default;"],"sourceRoot":""}