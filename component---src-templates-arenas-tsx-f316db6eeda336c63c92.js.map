{"version":3,"sources":["webpack:///./src/templates/arenas.tsx","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/utils/types.ts","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/Footer.tsx","webpack:///./src/components/MeshFeature.tsx","webpack:///./src/components/RCTable.tsx","webpack:///./src/components/Attribution.tsx","webpack:///./src/components/Container.tsx","webpack:///./src/components/MapAttribution.tsx","webpack:///./src/components/ValuesTable.tsx","webpack:///./src/components/Pie.tsx","webpack:///./src/image/place.svg","webpack:///./src/components/MapLegends.tsx","webpack:///./src/components/AdBox.tsx","webpack:///./src/components/drawer/MapHandler.tsx","webpack:///./src/components/fa-buttons/TwitterIcon.tsx","webpack:///./src/components/fa-buttons/FacebookIcon.tsx","webpack:///./src/components/drawer/SharesList.tsx","webpack:///./src/components/drawer/DrawerTable.tsx","webpack:///./src/components/DrawerInner.tsx","webpack:///./src/utils/tileTree.ts","webpack:///./src/components/GrayScaleFilter.tsx","webpack:///./src/components/MapApp.tsx"],"names":["MapPage","state","_this","props","location","Object","assign","mapState","drawerOpen","initialAppState","handleDrawerToggle","setState","prev","handlePopVisibility","popVisibility","handleBufferVisibility","bufferVisibility","handleZoomIn","zoomLevel","handleZoomOut","handleTerrain","terrain","render","_this2","this","_this$props","classes","data","_this$state","tableState","edges","allArenasJson","_data$arenasJson","arenasJson","summary","topojson","geojson","topofeature","objects","points","buffers","features","others","sortData","ascSort","sortKey","filterRule","name","club","category","slug","drawer","react__WEBPACK_IMPORTED_MODULE_4__","_components_DrawerInner__WEBPACK_IMPORTED_MODULE_26__","appState","className","root","_material_ui_core_CssBaseline__WEBPACK_IMPORTED_MODULE_7___default","a","react_helmet__WEBPACK_IMPORTED_MODULE_6___default","lang","content","createDescriptionString","property","_material_ui_core_AppBar__WEBPACK_IMPORTED_MODULE_8___default","appBar","position","_material_ui_core_Toolbar__WEBPACK_IMPORTED_MODULE_9___default","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_13___default","menuButton","role","aria-owns","aria-haspopup","onClick","color","_material_ui_icons_Menu__WEBPACK_IMPORTED_MODULE_14___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_17___default","apptitle","component","variant","currentIndex","map","edge","node","indexOf","next","length","navigateWithState","_material_ui_icons_ArrowForward__WEBPACK_IMPORTED_MODULE_16___default","_material_ui_core_Hidden__WEBPACK_IMPORTED_MODULE_12___default","mdUp","implementation","_material_ui_core_SwipeableDrawer__WEBPACK_IMPORTED_MODULE_11___default","open","onClose","onOpen","paper","drawerPaper","smDown","_material_ui_core_Drawer__WEBPACK_IMPORTED_MODULE_10___default","autoSizerWrapper","react_virtualized__WEBPACK_IMPORTED_MODULE_23__","_ref","width","height","_components_MapApp__WEBPACK_IMPORTED_MODULE_25__","_material_ui_core_Fab__WEBPACK_IMPORTED_MODULE_15___default","fabZoomIn","disabled","_material_ui_icons_Add__WEBPACK_IMPORTED_MODULE_21___default","fabZoomOut","_material_ui_icons_Remove__WEBPACK_IMPORTED_MODULE_22___default","_components_Container__WEBPACK_IMPORTED_MODULE_32__","_components_MapLegends__WEBPACK_IMPORTED_MODULE_27__","_components_AdBox__WEBPACK_IMPORTED_MODULE_34__","gutterBottom","join","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_18___default","container","grid","direction","alignContent","item","xs","sm","_components_ValuesTable__WEBPACK_IMPORTED_MODULE_29__","_components_Pie__WEBPACK_IMPORTED_MODULE_30__","geometries","_components_Attribution__WEBPACK_IMPORTED_MODULE_31__","_components_MapAttribution__WEBPACK_IMPORTED_MODULE_33__","gatsby__WEBPACK_IMPORTED_MODULE_5__","to","_components_Footer__WEBPACK_IMPORTED_MODULE_35__","React","withStyles","theme","_drawer","_appBar","_menuButton","_apptitle","createStyles","display","breakpoints","up","flexShrink","marginLeft","marginRight","flexGrow","paddingTop","@media (min-width: 600px)","lineHeight","down","fontSize","fullWidthContainer","margin","spacing","unit","paddingBottom","bottom","right","description","maxWidth","descParagraph","paddingLeft","paddingRight","query","__webpack_require__","r","__webpack_exports__","d","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","createContext","createElement","Consumer","staticQueryData","children","Error","propTypes","PropTypes","object","string","isRequired","func","createInitialState","radiuses","Directions","directions","Radiuses","gatsby__WEBPACK_IMPORTED_MODULE_0__","navigate","hasOwnProperty","radius1000","radius3000","radius5000","radius10000","m","module","exports","require","default","ProdPageRenderer","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","json","shape","_material_ui_core_styles_withStyles__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_styles_withStyles__WEBPACK_IMPORTED_MODULE_1___default","_material_ui_core_styles_createStyles__WEBPACK_IMPORTED_MODULE_2__","_material_ui_core_styles_createStyles__WEBPACK_IMPORTED_MODULE_2___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3__","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3___default","backgroundColor","palette","primary","dark","inner","padding","justifyContent","justifyItems","colorScale","sizeScale","d3_scale__WEBPACK_IMPORTED_MODULE_1__","d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_2__","scaleSequential","interpolateSpectral","domain","scalePow","range","exponent","MeshRect","feature","projection","val","properties","center","geometry","coordinates","size","Math","abs","min","max","scale","fill","fillOpacity","x","y","style","mixBlendMode","RCTable","menuOpen","anchorEl","_handleSort","index","prevState","_handleMenuOpen","_handleFilterRule","str","filter","concat","items","react__WEBPACK_IMPORTED_MODULE_5__","_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_10___default","header","_material_ui_core_Toolbar__WEBPACK_IMPORTED_MODULE_12___default","toolbar","_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_13___default","title","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_14___default","undefined","buttonRef","_material_ui_icons_FilterList__WEBPACK_IMPORTED_MODULE_25___default","_material_ui_core_Popper__WEBPACK_IMPORTED_MODULE_15___default","filterMenuWrapper","transition","disablePortal","placement","TransitionProps","_material_ui_core_Grow__WEBPACK_IMPORTED_MODULE_16___default","transformOrigin","_material_ui_core_ClickAwayListener__WEBPACK_IMPORTED_MODULE_17___default","onClickAway","event","contains","target","_material_ui_core_MenuList__WEBPACK_IMPORTED_MODULE_18___default","_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_19___default","key","_material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_20___default","_material_ui_icons_CheckCircle__WEBPACK_IMPORTED_MODULE_23___default","_material_ui_icons_Remove__WEBPACK_IMPORTED_MODULE_24___default","_material_ui_core_ListItemText__WEBPACK_IMPORTED_MODULE_21___default","inset","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_11___default","_material_ui_icons_ArrowForward__WEBPACK_IMPORTED_MODULE_27___default","thead","row","headerRowHead","headerRowBody","_classNames","classNames","labelCell","labelCellActive","_material_ui_core_TableSortLabel__WEBPACK_IMPORTED_MODULE_26___default","labelRoot","active","labelActive","table","rowHead","gatsby__WEBPACK_IMPORTED_MODULE_6__","fields","link","shortname","rowBody","toLocaleString","isAsc","prop","some","sort","b","fontFamily","typography","overflowY","overflowScrolling","WebkitOverflowScrolling","zIndex","main","contrastText","flexDirection","boxShadow","shadows","flex","@media (max-width: 720px)","borderBottom","&:hover","&:focus","boxSizing","borderRight","textAlign","fontWeight","&:visited","lightBlue","Attribution","react__WEBPACK_IMPORTED_MODULE_1__","gatsby__WEBPACK_IMPORTED_MODULE_2__","site","siteMetadata","paragraph","href","rel","author","url","siteName","twitter","_public_static_d_2933318586_json__WEBPACK_IMPORTED_MODULE_0__","@global","blockquote","borderLeft","borderRadius","DataAttribution","MapAttribution","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_1___default","_material_ui_core_Table__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_Table__WEBPACK_IMPORTED_MODULE_1___default","_material_ui_core_TableBody__WEBPACK_IMPORTED_MODULE_2__","_material_ui_core_TableBody__WEBPACK_IMPORTED_MODULE_2___default","_material_ui_core_TableCell__WEBPACK_IMPORTED_MODULE_3__","_material_ui_core_TableCell__WEBPACK_IMPORTED_MODULE_3___default","_material_ui_core_TableRow__WEBPACK_IMPORTED_MODULE_4__","_material_ui_core_TableRow__WEBPACK_IMPORTED_MODULE_4___default","ValuesTable","align","copy","newDomain","opacity","scaleLinear","Pie","react__WEBPACK_IMPORTED_MODULE_3__","viewBox","i","arr","transform","angle","density","radius","pow","PI","calcDensity","_directionToAngle","keys","startAngle","endAngle","arc","d3arc","innerRadius","outerRadius","padAngle","_material_ui_core_styles_withStyles__WEBPACK_IMPORTED_MODULE_2__","_material_ui_core_styles_withStyles__WEBPACK_IMPORTED_MODULE_2___default","_material_ui_core_styles_createStyles__WEBPACK_IMPORTED_MODULE_3__","_material_ui_core_styles_createStyles__WEBPACK_IMPORTED_MODULE_3___default","_MeshFeature__WEBPACK_IMPORTED_MODULE_4__","alignItems","legends","legendItem","styles","ad","AdBox","componentDidMount","window","adsbygoogle","push","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_5___default","classnames","data-ad-client","data-ad-slot","data-ad-format","data-full-width-responsive","MapHandler","react","List_default","subheader","ListSubheader_default","Hidden_default","ListItem_default","button","selected","ListItemIcon_default","ZoomIn_default","ListItemText_default","ZoomOut_default","LandScape_default","ListItemSecondaryAction_default","Switch_default","onChange","checked","People_default","Adjust_default","TwitterIcon","componentWillMount","library","add","faTwitter","Icon_default","react_fontawesome_index_es","verticalAlign","icon","FacebookIcon","faFacebook","SharesList","createTwiterShareUrl","fa_buttons_TwitterIcon","createFbShareUrl","fa_buttons_FacebookIcon","encodeURI","encodeURIComponent","itemTitle","itemNumber","sortRule","sortLabel","Typography_default","secondary","mixins","mapHandler","objectWithoutPropertiesLoose_default","Clear_default","Reply_default","drawer_MapHandler","Divider_default","drawer_SharesList","drawer_DrawerTable","TileSet","options","tileUrl","maxZoom","minZoom","tileTree","treeIncludesTile","tile","z","toString","tile2tree","_x$toString","_this$tileTree$z$toSt","_this$tileTree$z$toSt2","fetchTiles","tiles","Promise","resolve","tasks","fetchTile","all","then","fetchUrl","replace","fetch","res","ok","blob","tileWithURL","URL","createObjectURL","catch","isRequireFetch","_this3","every","setTileUrlFromTree","_this4","updateTiles","_callee","newTiles","tilesInTree","tilesShouldFetch","fetchedTiles","_this5","regenerator_default","wrap","_context","sent","abrupt","stop","filterMatrix","GrayScaleFilter","id","type","values","d3tile","Map","fetchStatus","_tileSet","_terrain","_getTileCoordinates","mag","zoomer","log2","translate","v","array","_fetchTiles","tileSet","_this$props2","geoMercator","fitExtent","path","geoPath","tileCoords","renderTiles","hoge","LinearProgress_default","progress","components_GrayScaleFilter","xlinkHref","imageRendering","MeshFeature","bb","bbox","lb","buffer","stroke","strokeWidth","bufferText","dy","textAnchor","Place","top","left"],"mappings":"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","file":"component---src-templates-arenas-tsx-f316db6eeda336c63c92.js","sourcesContent":["import * as React from 'react';\nimport { graphql, Link } from 'gatsby';\nimport Helmet from 'react-helmet';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport ToolBar from '@material-ui/core/Toolbar';\nimport Drawer from '@material-ui/core/Drawer';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/icons/Menu';\nimport Fab from '@material-ui/core/Fab';\nimport ArrowForward from '@material-ui/icons/ArrowForward';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\n// styles\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\n// icons\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\n\nimport { AutoSizer } from 'react-virtualized';\nimport { feature as topofeature } from 'topojson-client';\nimport { Topology } from 'topojson-specification';\n\nimport MapApp from '../components/MapApp';\nimport DrawerInner from '../components/DrawerInner';\nimport MapLegends from '../components/MapLegends';\nimport { sortData } from '../components/RCTable';\n//import DirectionTable from '../components/DirectionTable';\nimport ValuesTable from '../components/ValuesTable';\nimport Pie from '../components/Pie';\nimport Attribution from '../components/Attribution';\nimport Container from '../components/Container';\nimport { DataAttribution, MapAttribution } from '../components/MapAttribution';\nimport AdBox from '../components/AdBox';\nimport Footer from '../components/Footer';\nimport {\n  Summary,\n  LocationWithState,\n  VenueEdge,\n  MapState,\n  initialAppState,\n  appHasState,\n  navigateWithState,\n  Directions,\n  directions,\n  Radiuses,\n  BufferProperties\n} from '../utils/types';\n\nconst drawerWidth = 280;\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      display: 'flex'\n    },\n    drawer: {\n      [theme.breakpoints.up('md')]: {\n        width: drawerWidth,\n        flexShrink: 0\n      }\n    },\n    appBar: {\n      marginLeft: drawerWidth,\n      [theme.breakpoints.up('md')]: {\n        width: `calc(100% - ${drawerWidth}px)`\n      }\n    },\n    menuButton: {\n      marginRight: 10,\n      [theme.breakpoints.up('md')]: {\n        display: 'none'\n      }\n    },\n    drawerPaper: {\n      width: drawerWidth\n    },\n    content: {\n      flexGrow: 1,\n      paddingTop: 56,\n      '@media (min-width: 600px)': {\n        paddingTop: 64\n      }\n    },\n    apptitle: {\n      flexGrow: 1,\n      lineHeight: 1.2,\n      [theme.breakpoints.down('sm')]: {\n        fontSize: '90%'\n      }\n    },\n    fullWidthContainer: {\n      width: '100%',\n      margin: 'auto',\n      paddingTop: theme.spacing.unit * 2,\n      paddingBottom: theme.spacing.unit * 2\n    },\n    autoSizerWrapper: {\n      height: 'calc(100vh - 122px)',\n      '@media (min-width: 600px)': {\n        height: 'calc(100vh - 64px)'\n      }\n    },\n    fabZoomIn: {\n      position: 'absolute',\n      bottom: theme.spacing.unit * 10,\n      right: theme.spacing.unit * 2\n    },\n    fabZoomOut: {\n      position: 'absolute',\n      bottom: theme.spacing.unit * 2,\n      right: theme.spacing.unit * 2\n    },\n    description: {\n      maxWidth: 800,\n      margin: 'auto'\n    },\n    descParagraph: {\n      paddingLeft: theme.spacing.unit * 2,\n      paddingRight: theme.spacing.unit * 2\n    }\n  });\n\ninterface Props extends WithStyles<typeof styles> {\n  data: {\n    allArenasJson: {\n      edges: Array<VenueEdge>;\n    };\n    arenasJson: {\n      fields: {\n        slug: string;\n      };\n      summary: Summary;\n      topojson: Topology;\n    };\n  };\n  location: LocationWithState;\n}\n\ninterface State extends MapState {\n  readonly drawerOpen: boolean;\n}\n\nclass MapPage extends React.Component<Props, State> {\n  readonly state = this.props.location.state\n    ? {\n        ...this.props.location.state.mapState,\n        drawerOpen: false\n      }\n    : {\n        ...initialAppState.mapState,\n        drawerOpen: false\n      };\n  private handleDrawerToggle = () => {\n    this.setState(prev => ({\n      drawerOpen: !prev.drawerOpen\n    }));\n  };\n  private handlePopVisibility = () => {\n    this.setState(prev => ({\n      popVisibility: !prev.popVisibility\n    }));\n  };\n  private handleBufferVisibility = () => {\n    this.setState(prev => ({\n      bufferVisibility: !prev.bufferVisibility\n    }));\n  };\n  private handleZoomIn = () => {\n    this.setState(prev => ({ zoomLevel: prev.zoomLevel !== 0 ? prev.zoomLevel - 1 : prev.zoomLevel }));\n  };\n  private handleZoomOut = () => {\n    this.setState(prev => ({ zoomLevel: prev.zoomLevel !== 3 ? prev.zoomLevel + 1 : prev.zoomLevel }));\n  };\n  private handleTerrain = () => {\n    this.setState(prev => ({\n      terrain: !prev.terrain\n    }));\n  };\n\n  public render() {\n    const { classes, data, location } = this.props;\n    const { popVisibility, bufferVisibility, zoomLevel, terrain } = this.state;\n    const tableState = location.state ? location.state.tableState : initialAppState.tableState;\n    const { edges } = data.allArenasJson;\n    const { summary, topojson } = data.arenasJson;\n    const geojson = topofeature(topojson, topojson.objects.points);\n    const bufferGeoJSON = topofeature(topojson, topojson.objects.buffers);\n    const buffers = bufferGeoJSON.features;\n    const others = sortData(edges, tableState.ascSort, tableState.sortKey, tableState.filterRule);\n    const { name, club, category, slug } = summary;\n    const drawer = (\n      <DrawerInner\n        summary={summary}\n        edges={others}\n        appState={{ tableState, mapState: { popVisibility, bufferVisibility, zoomLevel, terrain } }}\n        handleDrawerToggle={this.handleDrawerToggle}\n        handleZoomIn={this.handleZoomIn}\n        handleZoomOut={this.handleZoomOut}\n        handleBufferVisibility={this.handleBufferVisibility}\n        handlePopVisibility={this.handlePopVisibility}\n        handleTerrain={this.handleTerrain}\n      />\n    );\n\n    return (\n      <div className={classes.root}>\n        <CssBaseline />\n        <Helmet>\n          <html lang=\"ja\" />\n          <title>{name}周辺の人口 | サッカースタジアムと人口</title>\n          <meta name=\"viewport\" content=\"width=device-width,initial-scale=1,minimum-scale=1,minimal-ui\" />\n          <meta name=\"description\" content={createDescriptionString(name, club)} />\n          <meta property=\"og:type\" content=\"article\" />\n          <meta property=\"og:title\" content={`${name}周辺の人口`} />\n          <meta property=\"og:image\" content=\"https://cieloazul310.github.io/img/ogp2.png\" />\n          <meta property=\"og:url\" content={`https://cieloazul310.github.io/gatsby-stadiums-population/${slug}/`} />\n          <meta property=\"og:site_name\" content=\"水戸地図\" />\n          <meta name=\"twitter:card\" content=\"summary\" />\n          <meta name=\"twitter:description\" content={createDescriptionString(name, club)} />\n          <meta name=\"apple-mobile-web-app-capable\" content=\"yes\" />\n          <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\" />\n        </Helmet>\n        <AppBar className={classes.appBar} position=\"fixed\">\n          <ToolBar>\n            <IconButton\n              className={classes.menuButton}\n              role=\"presentation\"\n              aria-owns=\"menu\"\n              aria-haspopup=\"true\"\n              onClick={this.handleDrawerToggle}\n              color=\"inherit\"\n            >\n              <Menu />\n            </IconButton>\n            <Typography color=\"inherit\" className={classes.apptitle} component=\"h1\" variant=\"h6\">\n              {name}\n            </Typography>\n            <IconButton\n              aria-owns=\"next\"\n              role=\"button\"\n              aria-haspopup=\"true\"\n              onClick={() => {\n                const currentIndex = others.map(edge => edge.node.summary.slug).indexOf(slug);\n                const next = currentIndex === others.length - 1 ? others[0] : others[currentIndex + 1];\n                navigateWithState(`/${next.node.summary.slug}/`, {\n                  tableState,\n                  mapState: { popVisibility, bufferVisibility, zoomLevel, terrain }\n                });\n              }}\n              color=\"inherit\"\n            >\n              <ArrowForward />\n            </IconButton>\n          </ToolBar>\n        </AppBar>\n        <nav className={classes.drawer}>\n          <Hidden mdUp implementation=\"css\">\n            <SwipeableDrawer\n              variant=\"temporary\"\n              open={this.state.drawerOpen}\n              onClose={this.handleDrawerToggle}\n              onOpen={this.handleDrawerToggle}\n              classes={{ paper: classes.drawerPaper }}\n            >\n              {drawer}\n            </SwipeableDrawer>\n          </Hidden>\n          <Hidden smDown implementation=\"css\">\n            <Drawer classes={{ paper: classes.drawerPaper }} variant=\"permanent\" open>\n              {drawer}\n            </Drawer>\n          </Hidden>\n        </nav>\n        <div className={classes.content}>\n          <main>\n            <div className={classes.autoSizerWrapper}>\n              <AutoSizer>\n                {({ width, height }) => (\n                  <div>\n                    <MapApp\n                      width={width}\n                      height={height}\n                      geojson={geojson}\n                      buffers={buffers}\n                      mapState={{ popVisibility, bufferVisibility, zoomLevel, terrain }}\n                    />\n                    <Hidden implementation=\"css\" mdUp>\n                      <Fab\n                        className={classes.fabZoomIn}\n                        color=\"primary\"\n                        disabled={zoomLevel === 0}\n                        onClick={this.handleZoomIn}\n                        role=\"button\"\n                      >\n                        <AddIcon />\n                      </Fab>\n                      <Fab\n                        className={classes.fabZoomOut}\n                        color=\"primary\"\n                        disabled={zoomLevel === 3}\n                        onClick={this.handleZoomOut}\n                        role=\"button\"\n                      >\n                        <RemoveIcon />\n                      </Fab>\n                    </Hidden>\n                  </div>\n                )}\n              </AutoSizer>\n            </div>\n            <Container>\n              <MapLegends />\n            </Container>\n            <Container>\n              <AdBox />\n            </Container>\n            <Container>\n              <Typography component=\"h2\" variant=\"h5\" gutterBottom>\n                {name}\n              </Typography>\n              <Typography variant=\"body2\" gutterBottom>\n                クラブ: {club.join(', ')}\n                {'  '}\n                カテゴリー: {category.join(', ')}\n              </Typography>\n            </Container>\n            <Container>\n              <Grid container className={classes.grid} direction=\"row-reverse\" alignContent=\"center\">\n                <Grid item xs={12} sm={8}>\n                  <ValuesTable summary={summary} />\n                </Grid>\n                <Grid item xs={12} sm={4}>\n                  <Pie item={data.arenasJson.topojson.objects.buffers.geometries} />\n                </Grid>\n              </Grid>\n              {/*<Grid item xs={12} sm={12}>\n              <DirectionTable directionObject={getItemsDiff(data.venuesJson.topojson.objects.buffers.geometries)} />\n              </Grid>*/}\n            </Container>\n          </main>\n          <aside>\n            <Container>\n              <Attribution />\n            </Container>\n            <Container>\n              <DataAttribution />\n            </Container>\n            <Container>\n              <MapAttribution />\n              <Link to=\"/\" state={{ tableState, mapState: { popVisibility, bufferVisibility, zoomLevel } }}>\n                トップに戻る\n              </Link>\n            </Container>\n            <Container>\n              <AdBox />\n            </Container>\n          </aside>\n          <Footer />\n        </div>\n      </div>\n    );\n  }\n}\n\n//export default withRoot(withStyles(styles)(MapPage));\nexport default withStyles(styles)(MapPage);\n\n// helper\n\nfunction createDescriptionString(name: string, club: string[]): string {\n  const intro = club[0] !== 'その他' ? `${club.join(',')} のホームスタジアム・` : '';\n  return `${intro}${name}周辺の人口を総務省統計局の国勢調査に関する地域メッシュ統計(平成27年度)から算出し、地図に表示しました。`;\n}\n\ntype DirectionObj = {\n  [key in keyof typeof Directions]: Array<{\n    radius: keyof typeof Radiuses;\n    population: number;\n    diff: number;\n  }>\n};\n\nfunction getItemsDiff(items: Array<{ properties: BufferProperties }>): DirectionObj {\n  const obj: any = {};\n  directions.forEach(direction => {\n    obj[direction] = items.map((item, index, arr) => ({\n      radius: item.properties.radius,\n      population: item.properties[direction],\n      diff: index === 0 ? item.properties[direction] : item.properties[direction] - arr[index - 1].properties[direction]\n    }));\n  });\n  return obj;\n}\n\nexport const query = graphql`\n  query($slug: String!) {\n    allArenasJson {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          summary {\n            slug\n            name\n            club\n            shortname\n            category\n            radius1000\n            radius3000\n            radius5000\n            radius10000\n          }\n        }\n      }\n    }\n    arenasJson(fields: { slug: { eq: $slug } }) {\n      fields {\n        slug\n      }\n      summary {\n        name\n        club\n        shortname\n        category\n        radius1000\n        radius3000\n        radius5000\n        radius10000\n        slug\n      }\n      topojson {\n        type\n        transform {\n          scale\n          translate\n        }\n        objects {\n          points {\n            type\n            geometries {\n              type\n              coordinates\n              properties {\n                id\n                val\n              }\n            }\n          }\n          buffers {\n            type\n            geometries {\n              type\n              arcs\n              properties {\n                radius\n                population\n                north\n                northeast\n                east\n                southeast\n                south\n                southwest\n                west\n                northwest\n              }\n            }\n          }\n        }\n        arcs\n      }\n    }\n  }\n`;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","import { navigate } from 'gatsby';\nimport { Feature, Polygon, FeatureCollection, Point } from '@turf/helpers';\nimport { LocationProps } from '@reach/router';\n\nexport const initialAppState: AppState = {\n  tableState: {\n    ascSort: false,\n    sortKey: 3,\n    filterRule: []\n  },\n  mapState: {\n    popVisibility: true,\n    bufferVisibility: true,\n    zoomLevel: 3,\n    terrain: false\n  }\n};\n\n// gatsby navigate with strict type checking\nexport const navigateWithState = (to: string, state: AppState) => {\n  navigate(to, { state });\n};\n\nexport interface TableState {\n  readonly ascSort: boolean;\n  readonly sortKey: number;\n  readonly filterRule: string[];\n}\n\nexport interface MapState {\n  readonly popVisibility: boolean;\n  readonly bufferVisibility: boolean;\n  readonly zoomLevel: number;\n  readonly terrain?: boolean;\n}\n\nexport const appHasState = (state: AppState): boolean => state.hasOwnProperty('tableState') && state.hasOwnProperty('mapState');\n\nexport const createInitialState = (location: LocationWithState): AppState => {\n  return location.state !== null && appHasState(location.state) ? location.state : initialAppState;\n};\n\nexport interface AppState {\n  tableState: TableState | null;\n  mapState: MapState | null;\n  key?: string;\n}\n\nexport interface LocationWithState extends LocationProps {\n  state: AppState | null;\n}\n\nexport interface Summary extends RadiusProps {\n  name: string;\n  club: string[];\n  category: string[];\n  shortname: string[];\n  slug: string;\n}\n\nexport interface VenueEdge {\n  node: {\n    fields: {\n      slug: string;\n    };\n    summary: Summary;\n  };\n}\n\nexport type MeshFeatureCollection = FeatureCollection<Point, MeshProperties>;\n\nexport const isMeshFeatureCollection = (item: any): item is MeshFeatureCollection =>\n  item.type === 'FeatureCollection' && item.features !== undefined && item.features[0].geometry.type === 'Point';\n\nexport interface BufferProperties extends DirectionProps {\n  name: string;\n  radius: number;\n  population: number;\n}\n\nexport type Buffer = Feature<Polygon, BufferProperties>;\n\nexport interface MeshProperties {\n  id: number;\n  val: number;\n}\n\nexport enum Radiuses {\n  radius1000 = 1000,\n  radius3000 = 3000,\n  radius5000 = 5000,\n  radius10000 = 10000\n}\n\nexport const radiuses: Radiuses[] = [Radiuses.radius1000, Radiuses.radius3000, Radiuses.radius5000, Radiuses.radius10000];\n\nexport const radiusKeys: Array<keyof typeof Radiuses> = ['radius1000', 'radius3000', 'radius5000', 'radius10000'];\n\nexport type RadiusProps = { [key in keyof typeof Radiuses]: number };\n\nexport enum Directions {\n  north,\n  northeast,\n  east,\n  southeast,\n  south,\n  southwest,\n  west,\n  northwest\n}\n\nexport const directions: Array<keyof typeof Directions> = [\n  'north',\n  'northeast',\n  'east',\n  'southeast',\n  'south',\n  'southwest',\n  'west',\n  'northwest'\n];\n\nexport type DirectionProps = { [key in keyof typeof Directions]: number };\n\nexport function directionToKanji(direction: keyof typeof Directions): string {\n  return direction === 'north'\n    ? '北'\n    : direction === 'northeast'\n    ? '北東'\n    : direction === 'east'\n    ? '東'\n    : direction === 'southeast'\n    ? '南東'\n    : direction === 'south'\n    ? '南'\n    : direction === 'southwest'\n    ? '南西'\n    : direction === 'west'\n    ? '西'\n    : direction === 'northwest'\n    ? '北西'\n    : '';\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import * as React from 'react';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      backgroundColor: theme.palette.primary.dark,\n      color: 'white'\n    },\n    inner: {\n      display: 'flex',\n      padding: `${theme.spacing.unit * 4}px ${theme.spacing.unit * 1}px`,\n      justifyContent: 'center',\n      justifyItems: 'center'\n    }\n  });\n\ntype Props = WithStyles<typeof styles>;\n\nconst Footer: React.FC<Props> = ({ classes }: Props) => (\n  <div className={classes.root}>\n    <footer>\n      <div className={classes.inner}>\n        <Typography variant=\"body2\" color=\"inherit\">\n          Copyright © 2019 cieloazul310 All rights reserved.\n        </Typography>\n      </div>\n    </footer>\n  </div>\n);\n\nexport default withStyles(styles)(Footer);\n","import * as React from 'react';\nimport { scaleLinear, scalePow, scaleSequential } from 'd3-scale';\nimport { interpolateSpectral } from 'd3-scale-chromatic';\nimport { Feature, Point } from '@turf/helpers';\nimport { GeoProjection } from 'd3-geo';\n\nimport { MeshProperties } from '../utils/types';\n\ninterface Props {\n  feature: Feature<Point, MeshProperties>;\n  projection: GeoProjection;\n}\n\nexport const colorScale = scaleSequential(interpolateSpectral).domain([1250, 0]);\n\nexport const sizeScale = scalePow()\n  .domain([0, 1000])\n  .range([0, 8])\n  .exponent(0.5);\n\nconst MeshRect: React.FunctionComponent<Props> = (props: Props) => {\n  const { feature, projection } = props;\n  const { val } = feature.properties;\n  const center = projection(feature.geometry.coordinates);\n  const size = Math.abs(sizeScale(val) * Math.min(Math.max(1, projection.scale() / 125000), 2.5));\n\n  return (\n    <rect\n      fill={colorScale(val)}\n      fillOpacity={0.6}\n      x={center[0] - size / 2}\n      y={center[1] - size / 2}\n      width={size}\n      height={size}\n      style={{ mixBlendMode: 'multiply' }}\n    />\n  );\n};\n\nexport default MeshRect;\n","import * as React from 'react';\nimport { Link } from 'gatsby';\nimport classNames from 'classnames';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Popper from '@material-ui/core/Popper';\nimport Grow from '@material-ui/core/Grow';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport MenuList from '@material-ui/core/MenuList';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport lightBlue from '@material-ui/core/colors/lightBlue';\n// Icons\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport ArrowForward from '@material-ui/icons/ArrowForward';\n\nimport { VenueEdge, AppState, TableState, navigateWithState } from '../utils/types';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      fontSize: '80%',\n      fontFamily: theme.typography.fontFamily\n    },\n    table: {\n      overflowY: 'scroll',\n      overflowScrolling: 'touch',\n      WebkitOverflowScrolling: 'touch',\n      zIndex: 0\n    },\n    header: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText,\n      position: 'sticky',\n      display: 'flex',\n      flexDirection: 'column',\n      boxShadow: theme.shadows[1],\n      zIndex: 99\n    },\n    toolbar: {\n      display: 'flex',\n      flexDirection: 'row',\n      height: 56\n    },\n    title: {\n      flex: 1\n    },\n    filterMenuWrapper: {\n      zIndex: 100\n    },\n    headerRowHead: {\n      flex: 1,\n      display: 'flex',\n      '@media (max-width: 720px)': {\n        display: 'none'\n      }\n    },\n    headerRowBody: {\n      display: 'flex',\n      justifyContent: 'space-evenly'\n    },\n    labelCell: {\n      borderBottom: '2px solid rgba(255, 255, 255, 0)',\n      transition: 'border .25s',\n      '&:hover': {\n        borderBottom: '2px solid white'\n      }\n    },\n    labelCellActive: {\n      borderBottom: '2px solid white'\n    },\n    labelRoot: {\n      color: '#ddd',\n      '&:hover': {\n        color: theme.palette.primary.contrastText\n      },\n      '&:focus': {\n        color: theme.palette.primary.contrastText\n      }\n    },\n    labelActive: {\n      color: theme.palette.primary.contrastText,\n      '&:hover': {\n        color: theme.palette.primary.contrastText\n      },\n      '&:focus': {\n        color: theme.palette.primary.contrastText\n      }\n    },\n    thead: {},\n    row: {\n      display: 'flex',\n      flexDirection: 'row',\n      '@media (max-width: 720px)': {\n        flexDirection: 'column',\n        borderBottom: '1px solid #ddd'\n      }\n    },\n    rowHead: {\n      flex: 1,\n      display: 'flex',\n      boxSizing: 'border-box',\n      borderRight: '1px solid #eee',\n      '@media (max-width: 720px)': {\n        borderRight: 'none',\n        borderBottom: '1px solid #eee'\n      }\n    },\n    index: {\n      width: '4em',\n      padding: '1rem .5rem',\n      boxSizing: 'border-box',\n      textAlign: 'right'\n    },\n    name: {\n      padding: '1rem',\n      boxSizing: 'border-box',\n      flex: 1,\n      fontWeight: 'bold'\n    },\n    category: {\n      color: '#333',\n      padding: '1rem',\n      boxSizing: 'border-box'\n    },\n    rowBody: {\n      display: 'flex',\n      justifyContent: 'space-evenly'\n    },\n    val: {\n      width: '9em',\n      padding: '1rem',\n      boxSizing: 'border-box',\n      display: 'flex',\n      flexDirection: 'row-reverse'\n    },\n    link: {\n      color: theme.palette.primary.main,\n      '&:visited': {\n        color: lightBlue[900]\n      },\n      '&:hover': {\n        color: lightBlue[500]\n      }\n    }\n  });\n\ninterface Props extends WithStyles<typeof styles> {\n  data: VenueEdge[];\n  width: number;\n  height: number;\n  appState: AppState;\n}\n\ninterface State extends TableState {\n  readonly menuOpen: boolean;\n  readonly sortKey: number;\n  readonly filterRule: string[];\n}\n\nclass RCTable extends React.Component<Props, State> {\n  readonly state: State = this.props.appState\n    ? {\n        ...this.props.appState.tableState,\n        menuOpen: false\n      }\n    : {\n        ascSort: false,\n        sortKey: 3,\n        filterRule: [],\n        menuOpen: false\n      };\n  private anchorEl: HTMLElement | null = null;\n  private _handleSort = (index: number) => {\n    this.setState(prevState => ({\n      ascSort: prevState.sortKey === index ? !prevState.ascSort : false,\n      sortKey: index\n    }));\n  };\n  private _handleMenuOpen = () => {\n    this.setState(prev => ({\n      menuOpen: !prev.menuOpen\n    }));\n  };\n  private _handleFilterRule = (str: string) => {\n    this.setState(prevState => ({\n      filterRule:\n        prevState.filterRule.indexOf(str) >= 0 ? prevState.filterRule.filter(filter => filter !== str) : [...prevState.filterRule, str]\n    }));\n  };\n  public render() {\n    const { classes, data, width, height, appState } = this.props;\n    const { ascSort, sortKey, filterRule, menuOpen } = this.state;\n    const items = data;\n    return (\n      <Paper\n        className={classes.root}\n        style={{\n          width: width,\n          height: height\n        }}\n      >\n        <div className={classes.header}>\n          <Toolbar className={classes.toolbar}>\n            {' '}\n            <Tooltip title=\"フィルター\">\n              <IconButton\n                color=\"inherit\"\n                aria-owns={menuOpen ? 'menu-list' : undefined}\n                aria-haspopup=\"true\"\n                buttonRef={node => {\n                  this.anchorEl = node;\n                }}\n                onClick={this._handleMenuOpen}\n              >\n                <FilterListIcon />\n              </IconButton>\n            </Tooltip>\n            <Popper\n              className={classes.filterMenuWrapper}\n              anchorEl={this.anchorEl}\n              open={menuOpen}\n              transition\n              disablePortal\n              placement=\"bottom-start\"\n            >\n              {({ TransitionProps }) => (\n                <Grow {...TransitionProps} style={{ transformOrigin: 'left top' }}>\n                  <Paper>\n                    <ClickAwayListener\n                      onClickAway={event => {\n                        if (this.anchorEl === null || this.anchorEl.contains(event.target)) {\n                          return;\n                        }\n                        this.setState({ menuOpen: false });\n                      }}\n                    >\n                      <MenuList>\n                        {['J1', 'J2', 'J3', 'JFL', '地域', 'その他'].map((str, index) => (\n                          <MenuItem\n                            key={index}\n                            onClick={() => {\n                              this._handleFilterRule(str);\n                            }}\n                          >\n                            <ListItemIcon>\n                              {filterRule.indexOf(str) < 0 ? <CheckCircleIcon /> : <RemoveIcon color=\"disabled\" />}\n                            </ListItemIcon>\n                            <ListItemText inset primary={str} />\n                          </MenuItem>\n                        ))}\n                      </MenuList>\n                    </ClickAwayListener>\n                  </Paper>\n                </Grow>\n              )}\n            </Popper>\n            <Typography className={classes.title} variant=\"h6\" color=\"inherit\">\n              スタジアムと距離圏人口\n            </Typography>\n            <Tooltip title=\"ダイジェスト\">\n              <IconButton\n                aria-owns=\"next\"\n                role=\"button\"\n                aria-haspopup=\"true\"\n                color=\"inherit\"\n                onClick={() => {\n                  navigateWithState('manholes', {\n                    mapState: appState.mapState,\n                    tableState: {\n                      ascSort,\n                      sortKey,\n                      filterRule\n                    }\n                  });\n                }}\n              >\n                <ArrowForward />\n              </IconButton>\n            </Tooltip>\n          </Toolbar>\n          <div className={classes.thead}>\n            <div className={classes.row}>\n              <div className={classes.headerRowHead}>\n                <div className={classes.index}>i</div>\n                <div className={classes.name}>name</div>\n              </div>\n              <div className={classes.headerRowBody}>\n                {['1km', '3km', '5km', '10km'].map((str, index) => (\n                  <div\n                    key={index}\n                    role=\"button\"\n                    className={classNames(classes.val, classes.labelCell, { [`${classes.labelCellActive}`]: index === sortKey })}\n                  >\n                    <TableSortLabel\n                      classes={{\n                        root: classes.labelRoot,\n                        active: classes.labelActive\n                      }}\n                      active={index === sortKey}\n                      direction={ascSort ? 'asc' : 'desc'}\n                      onClick={() => this._handleSort(index)}\n                    >\n                      {str}\n                    </TableSortLabel>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div\n          className={classes.table}\n          style={{\n            height: height - 140\n          }}\n        >\n          {sortData(items, ascSort, sortKey, filterRule).map((edge, index) => (\n            <div key={index} className={classes.row}>\n              <div className={classes.rowHead}>\n                <div className={classes.index}>{index + 1}</div>\n                <div className={classes.name}>\n                  <Link\n                    to={edge.node.fields.slug}\n                    className={classes.link}\n                    state={{\n                      mapState: appState.mapState,\n                      tableState: {\n                        ascSort,\n                        sortKey,\n                        filterRule\n                      }\n                    }}\n                  >\n                    {edge.node.summary.name}\n                  </Link>\n                </div>\n                <div className={classes.category}>{edge.node.summary.shortname.join(' ')}</div>\n              </div>\n              <div className={classes.rowBody}>\n                <div className={classes.val}>{edge.node.summary.radius1000.toLocaleString()}</div>\n                <div className={classes.val}>{edge.node.summary.radius3000.toLocaleString()}</div>\n                <div className={classes.val}>{edge.node.summary.radius5000.toLocaleString()}</div>\n                <div className={classes.val}>{edge.node.summary.radius10000.toLocaleString()}</div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </Paper>\n    );\n  }\n}\n\nexport default withStyles(styles)(RCTable);\n\n// helpers\nexport function sortData(data: VenueEdge[], ascSort: boolean, sortKey: number, filterRule: string[]): VenueEdge[] {\n  const isAsc = ascSort ? 1 : -1;\n  const prop = sortKey === 0 ? 'radius1000' : sortKey === 1 ? 'radius3000' : sortKey === 2 ? 'radius5000' : 'radius10000';\n\n  return filterRule.length\n    ? data\n        .filter(edge => edge.node.summary.category.some(category => filterRule.indexOf(category) < 0))\n        .sort((a, b) => isAsc * (a.node.summary[prop] - b.node.summary[prop]))\n    : data.sort((a, b) => isAsc * (a.node.summary[prop] - b.node.summary[prop]));\n}\n","import * as React from 'react';\nimport { StaticQuery, graphql } from 'gatsby';\nimport Typography from '@material-ui/core/Typography';\n\ninterface Query {\n  site: {\n    siteMetadata: {\n      title: string;\n      siteUrl: string;\n      description: string;\n      author: {\n        name: string;\n        url: string;\n        siteName: string;\n        twitter: string;\n        github: string;\n      };\n    };\n  };\n}\n\nconst Attribution: React.FunctionComponent<{}> = () => (\n  <StaticQuery\n    query={graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            siteUrl\n            description\n            author {\n              name\n              url\n              siteName\n              twitter\n              github\n            }\n          }\n        }\n      }\n    `}\n    render={(data: Query) => (\n      <section>\n        <Typography variant=\"h5\" gutterBottom>\n          {data.site.siteMetadata.title}\n        </Typography>\n        <Typography variant=\"body1\" paragraph>\n          {data.site.siteMetadata.description}\n        </Typography>\n        <Typography variant=\"body1\">\n          {`人口データ: `}\n          <a\n            href=\"https://www.e-stat.go.jp/gis/statmap-search?page=1&type=1&toukeiCode=00200521&toukeiYear=2015&aggregateUnit=Q&serveyId=Q002005112015&statsId=T000876\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            国勢調査 2015年 5次メッシュ(250mメッシュ)\n          </a>\n        </Typography>\n        <Typography variant=\"body1\">\n          {`演算: `}\n          <a href=\"http://turfjs.org\" target=\"_blank\" rel=\"noopener noreferrer\">\n            Turf.js\n          </a>\n        </Typography>\n        <Typography variant=\"body1\">\n          {`地図: `}\n          <a href=\"https://maps.gsi.go.jp/development/ichiran.html\" target=\"_blank\" rel=\"noopener noreferrer\">\n            地理院タイル\n          </a>\n        </Typography>\n        <Typography variant=\"body1\">\n          {`制作: `}\n          <a href={data.site.siteMetadata.author.url} target=\"_blank\" rel=\"noopener noreferrer\">\n            {data.site.siteMetadata.author.siteName}\n          </a>\n        </Typography>\n        <Typography variant=\"body1\">\n          {`Twitter: `}\n          <a href={`https://twitter.com/${data.site.siteMetadata.author.twitter}`} target=\"_blank\" rel=\"noopener noreferrer\">{`@${\n            data.site.siteMetadata.author.twitter\n          }`}</a>\n        </Typography>\n        <Typography variant=\"body1\" paragraph />\n        <Typography variant=\"h6\" gutterBottom>\n          データの利用について\n        </Typography>\n        <Typography variant=\"body1\" paragraph>\n          本サイトに掲載しているデータは「URL または\n          サイト名」及び「データの出典元（地域メッシュ統計）」を明記した上で、自由に利用可能です。地図を利用する際には、\n          <a href=\"http://www.gsi.go.jp/kikakuchousei/kikakuchousei40182.html\" target=\"_blank\" rel=\"noopener noreferrer\">\n            国土地理院コンテンツ利用規約\n          </a>\n          を参照ください。\n        </Typography>\n        <Typography variant=\"body2\" paragraph>\n          記載例: 「出典: 水戸地図、2015年度国勢調査250mメッシュ人口」\n        </Typography>\n      </section>\n    )}\n  />\n);\n\nexport default Attribution;\n","import * as React from 'react';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      fontFamily: theme.typography.fontFamily,\n      width: '100%',\n      maxWidth: 800,\n      margin: 'auto',\n      padding: theme.spacing.unit * 2,\n      '@global': {\n        blockquote: {\n          backgroundColor: '#f3f3f3',\n          margin: `${theme.spacing.unit * 2}px auto`,\n          padding: theme.spacing.unit * 2,\n          borderLeft: 'solid 4px #ddd',\n          borderRadius: '8px'\n        }\n      }\n    }\n  });\n\ninterface Props extends WithStyles<typeof styles> {\n  children: JSX.Element[] | JSX.Element;\n}\n\nconst Container: React.FC<Props> = (props: Props) => <div className={props.classes.root}>{props.children}</div>;\n\nexport default withStyles(styles)(Container);\n","import * as React from 'react';\nimport Typography from '@material-ui/core/Typography';\n\nconst DataAttribution: React.FC<{}> = () => (\n  <section>\n    <Typography variant=\"h5\" gutterBottom>\n      人口データについて\n    </Typography>\n    <Typography variant=\"body1\" paragraph>\n      人口データは総務省統計局の地域メッシュ統計を点データに変換したものを用いています。\n    </Typography>\n    <Typography variant=\"body1\" paragraph>\n      {'データ: '}\n      <a\n        href=\"https://www.e-stat.go.jp/gis/statmap-search?page=1&type=1&toukeiCode=00200521&toukeiYear=2015&aggregateUnit=Q&serveyId=Q002005112015&statsId=T000876\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        {'国勢調査 2015年 5次メッシュ(250mメッシュ) その1 人口等基本集計に関する事項'}\n      </a>\n      <br />\n      公開日: 2018年1月4日\n      <br />\n      データ取得日: 2018年4月10日\n    </Typography>\n    <blockquote>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        地域メッシュ統計とは\n      </Typography>\n      <Typography variant=\"body1\" paragraph>\n        {\n          '地域メッシュ統計とは，緯度・経度に基づき地域を隙間なく網の目（メッシュ）の区域に分けて，それぞれの区域に関する統計データを編成したものです。'\n        }\n      </Typography>\n      <Typography variant=\"body2\">\n        引用元:{' '}\n        <a href=\"https://www.stat.go.jp/data/mesh/m_tuite.html\" target=\"_blank\" rel=\"noopener noreferrer\">\n          総務省統計局\n        </a>\n      </Typography>\n    </blockquote>\n    <Typography variant=\"h5\" gutterBottom>\n      距離円と人口データの演算\n    </Typography>\n    <Typography variant=\"body1\" paragraph>\n      距離円および距離円に含まれる人口データは JavaScript ライブラリである{' '}\n      <a href=\"https://turfjs.org\" target=\"_blank\" rel=\"noopener noreferrer\">\n        Turf.js\n      </a>{' '}\n      で算出しました。\n    </Typography>\n    <Typography variant=\"body1\">\n      人口の算出方法は、\n      <a\n        href=\"https://midoriit.com/2014/08/qgis%E3%81%AB%E3%82%88%E3%82%8B%E7%B5%B1%E8%A8%88%E8%A7%A3%E6%9E%904.html\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        QGISによるデータ分析(4) 合同会社 緑IT事務所\n      </a>\n      を参考にしています。\n    </Typography>\n  </section>\n);\n\nconst MapAttribution: React.FC<{}> = () => (\n  <section>\n    <Typography variant=\"h5\" gutterBottom>\n      地図について\n    </Typography>\n    <Typography variant=\"body1\" paragraph>\n      背景地図には国土地理院の\n      <a href=\"https://maps.gsi.go.jp/development/ichiran.html\" target=\"_blank\" rel=\"noopener noreferrer\">\n        地理院タイル\n      </a>\n      を使用しています。標準モードでは電子国土基本図、地形モードでは傾斜量図を表示しています。\n    </Typography>\n    <blockquote>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        電子国土基本図\n      </Typography>\n      <Typography variant=\"body1\" paragraph>\n        {\n          '電子国土基本図（地図情報）とは、道路、建物などの電子地図上の位置の基準である項目（基盤地図情報の取得項目）と、植生、崖、岩、構造物などの土地の状況を表す項目とを一つにまとめたデータです。電子国土基本図（地図情報）は、縮尺レベル25000の精度に限定することなく、より精度の高いものを含んだ我が国全域を覆うベクトル形式の基盤データで、これまでの2万5千分1地形図に替わる新たな基本図と位置づけられるものです。'\n        }\n      </Typography>\n      <Typography variant=\"body2\">\n        引用元: <a href=\"http://www.gsi.go.jp/kibanjoho/mapinfo_what.html\">国土地理院</a>\n      </Typography>\n    </blockquote>\n    <blockquote>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        傾斜量図\n      </Typography>\n      <Typography variant=\"body1\" paragraph>\n        {\n          '地表面の傾きの量を算出し、その大きさを白黒の濃淡で表現したものです。白いほど傾斜が緩やか、黒いほど急峻であることを意味します。台地、段丘、山地、火山地形、地すべり、断層などの地形判読などにご活用いただけます。'\n        }\n      </Typography>\n      <Typography variant=\"body2\">\n        引用元: <a href=\"http://www.gsi.go.jp/bousaichiri/slopemap.html\">国土地理院</a>\n      </Typography>\n    </blockquote>\n  </section>\n);\n\nexport { DataAttribution, MapAttribution };\n","import * as React from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Summary } from '../utils/types';\n\ninterface Props {\n  summary: Summary;\n}\n\nconst ValuesTable: React.FunctionComponent<Props> = (props: Props) => {\n  const { summary } = props;\n  const { radius1000, radius3000, radius5000, radius10000 } = summary;\n\n  return (\n    <div>\n      <Table>\n        <TableBody>\n          <TableRow>\n            <TableCell align=\"right\">1km圏</TableCell>\n            <TableCell align=\"right\">{radius1000.toLocaleString()}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"right\">3km圏</TableCell>\n            <TableCell align=\"right\">{radius3000.toLocaleString()}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"right\">5km圏</TableCell>\n            <TableCell align=\"right\">{radius5000.toLocaleString()}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"right\">10km圏</TableCell>\n            <TableCell align=\"right\">{radius10000.toLocaleString()}</TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n    </div>\n  );\n};\n\nexport default ValuesTable;\n","import * as React from 'react';\nimport { scaleLinear } from 'd3-scale';\nimport { arc as d3arc } from 'd3-shape';\nimport { colorScale } from './MeshFeature';\nimport { Directions, directions, Radiuses, radiuses, BufferProperties } from '../utils/types';\n\ninterface Props {\n  item: Array<{ properties: BufferProperties }>;\n}\n\nconst color = colorScale.copy();\nconst newDomain: [number, number] = [colorScale.domain()[0] * 8, 0];\ncolor.domain(newDomain);\nconst opacity = scaleLinear()\n  .domain([250, 0])\n  .range([1, 0]);\n\nconst Pie: React.FC<Props> = ({ item }: Props) => {\n  const size = 300;\n\n  return (\n    <svg viewBox={`0 0 ${size} ${size}`}>\n      {item.map((d, i, arr) => (\n        <g key={i} transform={`translate(${size / 2}, ${size / 2})`}>\n          {directions.map(key => {\n            const val = i === 0 ? d.properties[key] : d.properties[key] - arr[i - 1].properties[key];\n            const density = calcDensity(val, d.properties.radius);\n            const { startAngle, endAngle } = directionToAngle(Directions[key]);\n            const arc = d3arc()({\n              startAngle,\n              endAngle,\n              innerRadius: ((size - 8) * (i + 1)) / 10 + 2,\n              outerRadius: ((size - 8) * (i + 2)) / 10,\n              padAngle: 0.05\n            });\n            return (\n              <g key={key}>\n                <path key={key} d={arc || undefined} fill={color(density)} fillOpacity={opacity(density)} />\n              </g>\n            );\n          })}\n        </g>\n      ))}\n    </svg>\n  );\n};\n\nexport default Pie;\n\n// utils\nfunction directionToAngle(direction: Directions) {\n  const angle = (Math.PI * 2) / (Object.keys(Directions).length / 2);\n  return {\n    startAngle: direction * angle - angle / 2,\n    endAngle: direction * angle + angle / 2\n  };\n}\n\nfunction calcDensity(val: number, radius: Radiuses) {\n  const index = radiuses.indexOf(radius);\n  return index === 0\n    ? (val * 8) / (Math.pow(radiuses[index] / 1000, 2) * Math.PI)\n    : (val * 8) / (Math.pow(radiuses[index] / 1000, 2) * Math.PI - Math.pow(radiuses[index - 1] / 1000, 2) * Math.PI);\n}\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0xMiAyQzguMTMgMiA1IDUuMTMgNSA5YzAgNS4yNSA3IDEzIDcgMTNzNy03Ljc1IDctMTNjMC0zLjg3LTMuMTMtNy03LTd6bTAiIGZpbGw9IiMwMDkxRUEiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgPHBhdGggZD0iTTEyIDExLjVjLTEuMzggMC0yLjUtMS4xMi0yLjUtMi41czEuMTItMi41IDIuNS0yLjUgMi41IDEuMTIgMi41IDIuNS0xLjEyIDIuNS0yLjUgMi41eiIgZmlsbD0id2hpdGUiLz4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz4KPC9zdmc+Cg==\"","import * as React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport { sizeScale, colorScale } from './MeshFeature';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    legends: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'flex-end'\n    },\n    legendItem: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      fontSize: '80%',\n      padding: theme.spacing.unit\n    }\n  });\n\ntype Props = WithStyles<typeof styles>;\n\nconst MapLegends: React.FunctionComponent<Props> = (props: Props) => (\n  <div className={props.classes.root}>\n    <div className={props.classes.legends}>\n      {[100, 250, 500, 750, 1000, 1500, 2000].map(val => {\n        const size = sizeScale(val) * 2;\n        const color = colorScale(val);\n        return (\n          <div className={props.classes.legendItem} key={val}>\n            <svg width={30} height={30}>\n              <rect x={15 - size / 2} y={15 - size / 2} width={size} height={size} fill={color} fillOpacity={1} />\n            </svg>\n            <Typography variant=\"caption\">{val}</Typography>\n          </div>\n        );\n      })}\n    </div>\n    <Typography variant=\"caption\">1メッシュ(約250m四方)に含まれる人口</Typography>\n  </div>\n);\n\nexport default withStyles(styles)(MapLegends);\n","import * as React from 'react';\nimport classnames from 'classnames';\n//import { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport withStyles, { WithStyles /*StyleRules*/ } from '@material-ui/core/styles/withStyles';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = createStyles({\n  root: {\n    width: '100%'\n  },\n  ad: {\n    display: 'block'\n  }\n});\n\ntype Props = WithStyles<typeof styles>;\n\nclass AdBox extends React.PureComponent<Props> {\n  componentDidMount() {\n    (window.adsbygoogle = window.adsbygoogle || []).push({});\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.root}>\n        <Typography variant=\"subtitle2\">広告</Typography>\n        <ins\n          className={classnames('adsbygoogle', classes.ad)}\n          data-ad-client=\"ca-pub-7323207940463794\"\n          data-ad-slot={3901734109}\n          data-ad-format=\"auto\"\n          data-full-width-responsive={true}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(AdBox);\n","import * as React from 'react';\nimport List from '@material-ui/core/List';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Hidden from '@material-ui/core/Hidden';\nimport Switch from '@material-ui/core/Switch';\nimport { MapState } from '../../utils/types';\n\n// Icons\nimport ZoomIn from '@material-ui/icons/ZoomIn';\nimport ZoomOut from '@material-ui/icons/ZoomOut';\nimport LandScape from '@material-ui/icons/LandScape';\nimport PeopleIcon from '@material-ui/icons/People';\nimport Adjust from '@material-ui/icons/Adjust';\n\ninterface Props {\n  mapState: MapState;\n  handleZoomIn: () => any;\n  handleZoomOut: () => any;\n  handleTerrain: () => any;\n  handlePopVisibility: () => any;\n  handleBufferVisibility: () => any;\n}\n\nconst MapHandler: React.FunctionComponent<Props> = ({\n  mapState,\n  handleZoomIn,\n  handleZoomOut,\n  handleTerrain,\n  handlePopVisibility,\n  handleBufferVisibility\n}: Props) => (\n  <List subheader={<ListSubheader>地図</ListSubheader>}>\n    <Hidden smDown implementation=\"css\">\n      <ListItem button selected={mapState.zoomLevel === 0} onClick={handleZoomIn}>\n        <ListItemIcon>\n          <ZoomIn />\n        </ListItemIcon>\n        <ListItemText>地図を拡大</ListItemText>\n      </ListItem>\n      <ListItem button selected={mapState.zoomLevel === 3} onClick={handleZoomOut}>\n        <ListItemIcon>\n          <ZoomOut />\n        </ListItemIcon>\n        <ListItemText primary=\"地図を縮小\" />\n      </ListItem>\n    </Hidden>\n    <ListItem>\n      <ListItemIcon>\n        <LandScape />\n      </ListItemIcon>\n      <ListItemText primary=\"地形モード\" />\n      <ListItemSecondaryAction>\n        <Switch onChange={handleTerrain} checked={mapState.terrain} />\n      </ListItemSecondaryAction>\n    </ListItem>\n    <ListItem>\n      <ListItemIcon>\n        <PeopleIcon />\n      </ListItemIcon>\n      <ListItemText primary=\"人口\" />\n      <ListItemSecondaryAction>\n        <Switch onChange={handlePopVisibility} checked={mapState.popVisibility} />\n      </ListItemSecondaryAction>\n    </ListItem>\n    <ListItem>\n      <ListItemIcon>\n        <Adjust />\n      </ListItemIcon>\n      <ListItemText primary=\"距離円\" />\n      <ListItemSecondaryAction>\n        <Switch onChange={handleBufferVisibility} checked={mapState.bufferVisibility} />\n      </ListItemSecondaryAction>\n    </ListItem>\n  </List>\n);\n\nexport default MapHandler;\n","import * as React from 'react';\nimport Icon from '@material-ui/core/Icon';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTwitter } from '@fortawesome/free-brands-svg-icons/faTwitter';\n\ninterface Props {\n  color?: 'primary' | 'secondary' | 'action' | 'error' | 'disabled';\n}\n\nclass TwitterIcon extends React.PureComponent<Props> {\n  componentWillMount() {\n    library.add(faTwitter);\n  }\n  public render() {\n    const { color } = this.props;\n    return (\n      <Icon color={color}>\n        <FontAwesomeIcon style={{ verticalAlign: '0.125em' }} icon={['fab', 'twitter']} />\n      </Icon>\n    );\n  }\n}\n\nexport default TwitterIcon;\n","import * as React from 'react';\nimport Icon from '@material-ui/core/Icon';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFacebook } from '@fortawesome/free-brands-svg-icons/faFacebook';\n\ninterface Props {\n  color?: 'primary' | 'secondary' | 'action' | 'error' | 'disabled';\n}\n\nclass FacebookIcon extends React.PureComponent<Props> {\n  componentWillMount() {\n    library.add(faFacebook);\n  }\n  public render() {\n    const { color } = this.props;\n    return (\n      <Icon color={color}>\n        <FontAwesomeIcon style={{ verticalAlign: '0.125em' }} icon={['fab', 'facebook']} />\n      </Icon>\n    );\n  }\n}\n\nexport default FacebookIcon;\n","import * as React from 'react';\nimport List from '@material-ui/core/List';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport TwitterIcon from '../fa-buttons/TwitterIcon';\nimport FacebookIcon from '../fa-buttons/FacebookIcon';\nimport { Summary } from '../../utils/types';\n\ninterface Props {\n  summary: Summary;\n}\n\nconst SharesList: React.FunctionComponent<Props> = ({ summary }: Props) => (\n  <List subheader={<ListSubheader>シェア</ListSubheader>}>\n    <ListItem button component=\"a\" href={createTwiterShareUrl(summary)} target=\"_blank\" rel=\"noopener noreferrer\">\n      <ListItemIcon>\n        <TwitterIcon />\n      </ListItemIcon>\n      <ListItemText primary=\"Twitterで共有\" />\n    </ListItem>\n    <ListItem button component=\"a\" href={createFbShareUrl(summary)} target=\"_blank\" rel=\"noopener noreferrer\">\n      <ListItemIcon>\n        <FacebookIcon />\n      </ListItemIcon>\n      <ListItemText primary=\"Facebookで共有\" />\n    </ListItem>\n  </List>\n);\n\nexport default SharesList;\n\n// helpers\nfunction createTwiterShareUrl(summary: Summary): string {\n  return (\n    `https://twitter.com/intent/tweet?text=` +\n    encodeURI(`${summary.name}周辺の人口`) +\n    `&url=` +\n    encodeURIComponent(`https://cieloazul310.github.io/gatsby-stadiums-population/${summary.slug}/`)\n  );\n}\n\nfunction createFbShareUrl(summary: Summary): string {\n  return (\n    `https://www.facebook.com/sharer/sharer.php?u=` +\n    encodeURIComponent(`https://cieloazul310.github.io/gatsby-stadiums-population/${summary.slug}/`)\n  );\n}\n","import * as React from 'react';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport List from '@material-ui/core/List';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\n\nimport { navigateWithState, VenueEdge, AppState, TableState } from '../../utils/types';\n\nconst styles: StyleRules = createStyles({\n  root: {},\n  itemTitle: {\n    fontSize: '80%',\n    fontWeight: 'bold'\n  },\n  itemNumber: {\n    textAlign: 'right'\n  }\n});\n\ninterface Props extends WithStyles<typeof styles> {\n  slug: string;\n  edges: VenueEdge[];\n  appState: AppState;\n}\n\nconst DrawerTable: React.FC<Props> = ({ classes, slug, edges, appState }: Props) => (\n  <List className={classes.root} subheader={<ListSubheader>{`一覧 ${createSortString(appState.tableState)}`}</ListSubheader>}>\n    {edges.map(edge => (\n      <ListItem\n        key={edge.node.summary.slug}\n        button\n        selected={edge.node.summary.slug === slug}\n        onClick={() => {\n          navigateWithState(edge.node.fields.slug, appState);\n        }}\n      >\n        <ListItemText\n          primary={<Typography className={classes.itemTitle}>{edge.node.summary.name}</Typography>}\n          secondary={\n            <Typography component=\"span\" className={classes.itemNumber}>\n              {edge.node.summary[sortKeyToProps(appState.tableState)].toLocaleString()}\n            </Typography>\n          }\n        />\n      </ListItem>\n    ))}\n  </List>\n);\n\nexport default withStyles(styles)(DrawerTable);\n\n// helpers\nfunction sortKeyToProps(tableState: TableState) {\n  return tableState.sortKey === 0\n    ? 'radius1000'\n    : tableState.sortKey === 1\n    ? 'radius3000'\n    : tableState.sortKey === 2\n    ? 'radius5000'\n    : 'radius10000';\n}\n\nfunction createSortString(tableState: TableState): string {\n  const { ascSort, sortKey } = tableState;\n  const sortRule = ascSort ? '昇順' : '降順';\n  const sortLabel = ['1km', '3km', '5km', '10km'][sortKey];\n\n  return `${sortLabel}圏人口 ${sortRule}`;\n}\n","import * as React from 'react';\nimport { navigate } from 'gatsby';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport Hidden from '@material-ui/core/Hidden';\n\n// Drawer Components\nimport MapHandler from './drawer/MapHandler';\nimport SharesList from './drawer/SharesList';\nimport DrawerTable from './drawer/DrawerTable';\n\n// Icons\nimport Clear from '@material-ui/icons/Clear';\nimport Reply from '@material-ui/icons/Reply';\n\nimport ValuesTable from '../components/ValuesTable';\nimport { Summary, AppState, VenueEdge } from '../utils/types';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {},\n    toolbar: theme.mixins.toolbar\n  });\n\ninterface Props extends WithStyles<typeof styles> {\n  summary: Summary;\n  appState: AppState;\n  edges: VenueEdge[];\n  handleDrawerToggle: () => any;\n  handleZoomIn: () => any;\n  handleZoomOut: () => any;\n  handleTerrain: () => any;\n  handlePopVisibility: () => any;\n  handleBufferVisibility: () => any;\n}\n\nconst DrawerInner: React.FunctionComponent<Props> = ({ classes, summary, appState, edges, handleDrawerToggle, ...mapHandler }: Props) => {\n  const { mapState } = appState;\n\n  const DrawerToolBar = () => (\n    <div className={classes.toolbar}>\n      <List>\n        <Hidden mdUp implementation=\"css\">\n          <ListItem button onClick={handleDrawerToggle}>\n            <ListItemIcon>\n              <Clear />\n            </ListItemIcon>\n            <ListItemText primary=\"閉じる\" />\n          </ListItem>\n        </Hidden>\n        <ListItem\n          button\n          onClick={() => {\n            navigate('/', { state: appState });\n          }}\n        >\n          <ListItemIcon>\n            <Reply />\n          </ListItemIcon>\n          <ListItemText>表に戻る</ListItemText>\n        </ListItem>\n      </List>\n    </div>\n  );\n\n  return (\n    <div className={classes.root}>\n      <DrawerToolBar />\n      <ValuesTable summary={summary} />\n      <MapHandler mapState={mapState} {...mapHandler} />\n      <Divider />\n      <SharesList summary={summary} />\n      <Divider />\n      <DrawerTable slug={summary.slug} edges={edges} appState={appState} />\n    </div>\n  );\n};\n\nexport default withStyles(styles)(DrawerInner);\n","import fetch from 'isomorphic-fetch';\n\nexport interface Tile {\n  id: string;\n  x: number;\n  y: number;\n  z: number;\n  tx: number;\n  ty: number;\n  scale: number;\n  translate: [number, number];\n  mag: number;\n}\n\ntype TileUrl = string | undefined;\n\nexport interface TileWithURL extends Tile {\n  url: TileUrl;\n}\n\nexport interface TileTree {\n  [key: string]: {\n    [key: string]: {\n      [key: string]: TileUrl;\n    };\n  };\n}\n\ninterface TileSetOptions {\n  url?: string;\n  maxZoom?: number;\n  minZoom?: number;\n}\n\nclass TileSet {\n  readonly tileTree: TileTree;\n  readonly maxZoom: number;\n  readonly minZoom: number;\n  readonly tileUrl: string;\n  constructor(options: TileSetOptions = {}) {\n    this.tileUrl = options.url || '//cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png';\n    this.maxZoom = options.maxZoom || 20;\n    this.minZoom = options.maxZoom || 2;\n    this.tileTree = {};\n  }\n\n  private treeIncludesTile(tile: Tile): boolean {\n    const { x, y, z } = tile;\n    return (\n      this.tileTree.hasOwnProperty(z.toString()) &&\n      this.tileTree[z.toString()].hasOwnProperty(x.toString()) &&\n      this.tileTree[z.toString()][x.toString()].hasOwnProperty(y.toString())\n    );\n  }\n\n  private tile2tree(tile: TileWithURL) {\n    const { x, y, z, url } = tile;\n    if (!this.tileTree.hasOwnProperty(z.toString())) {\n      this.tileTree[z.toString()] = {\n        [x.toString()]: {\n          [y.toString()]: url\n        }\n      };\n    } else if (!this.tileTree[z.toString()].hasOwnProperty(x.toString())) {\n      this.tileTree[z.toString()][x.toString()] = {\n        [y.toString()]: url\n      };\n    } else {\n      this.tileTree[z.toString()][x.toString()][y.toString()] = url;\n    }\n  }\n  // fetch new tiles\n  private fetchTiles(tiles: Tile[]): Promise<TileWithURL[]> {\n    return new Promise(resolve => {\n      const tasks = tiles.map(tile => this.fetchTile(tile, this.tileUrl));\n      Promise.all(tasks).then((data: TileWithURL[]) => {\n        resolve(data);\n      });\n    });\n  }\n  private fetchTile(tile: Tile, url: string): Promise<TileWithURL> {\n    const { x, y, z } = tile;\n    const fetchUrl = url.replace('{z}/{x}/{y}', `${z}/${x}/${y}`);\n\n    return fetch(fetchUrl)\n      .then(res => {\n        if (!res.ok) throw new Error();\n        return res.blob();\n      })\n      .then(blob => {\n        const tileWithURL: TileWithURL = {\n          ...tile,\n          url: URL.createObjectURL(blob)\n        };\n        this.tile2tree(tileWithURL);\n        return tileWithURL;\n      })\n      .catch(() => {\n        const tileWithURL: TileWithURL = {\n          ...tile,\n          url: undefined\n        };\n        this.tile2tree(tileWithURL);\n        return tileWithURL;\n      });\n  }\n\n  // helpers\n\n  public isRequireFetch(tiles: Tile[]): boolean {\n    return !tiles.every(tile => this.treeIncludesTile(tile));\n  }\n\n  public setTileUrlFromTree(tiles: Tile[]): TileWithURL[] {\n    return tiles\n      .filter(tile => this.treeIncludesTile(tile))\n      .map(tile => ({\n        ...tile,\n        url: this.tileTree[tile.z][tile.x][tile.y]\n      }));\n  }\n\n  public async updateTiles(newTiles: Tile[]) {\n    const tilesInTree = this.setTileUrlFromTree(newTiles.filter(tile => this.treeIncludesTile(tile)));\n\n    const tilesShouldFetch = newTiles.filter(tile => !this.treeIncludesTile(tile));\n\n    const fetchedTiles: TileWithURL[] = await this.fetchTiles(tilesShouldFetch);\n\n    return [...tilesInTree, ...fetchedTiles];\n  }\n}\n\nexport default TileSet;\n","import * as React from 'react';\n/*\nconst filterMatrix = [\n  \"0.3333 0.3333 0.3333 0 0\",\n  \"0.3333 0.3333 0.3333 0 0\",\n  \"0.3333 0.3333 0.3333 0 0\",\n  \"0 0 0 1 0\"\n];\n*/\nconst filterMatrix = ['0.3333 0.3333 0.3333 0 0', '0.3333 0.3333 0.3333 0 0', '0.3333 0.3333 0.3333 0 0', '0 0 0 1 0'];\n\ninterface Props {\n  id: string;\n}\n\nconst GrayScaleFilter: React.FunctionComponent<Props> = (props: Props) => (\n  <filter id={props.id}>\n    <feColorMatrix type=\"matrix\" values={filterMatrix.join(' ')} />\n  </filter>\n);\n\nexport default GrayScaleFilter;\n","import * as React from 'react';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nconst d3tile = require('d3-tile').tile;\n\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport bbox from '@turf/bbox';\nimport { geoMercator, geoPath, GeoProjection, GeoPath } from 'd3-geo';\nimport TileSet, { Tile, TileWithURL } from '../utils/tileTree';\nimport MeshFeature from '../components/MeshFeature';\nimport GrayScaleFilter from '../components/GrayScaleFilter';\nimport { Buffer, MapState, MeshFeatureCollection } from '../utils/types';\n\nimport Place from '../image/place.svg';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      fontFamily: theme.typography.fontFamily\n    },\n    buffer: {\n      opacity: 0.2,\n      '&:hover': {\n        opacity: 1\n      }\n    },\n    bufferText: { fontSize: '80%', fontWeight: 'bold' },\n    progress: {\n      position: 'absolute',\n      width: '100%',\n      top: 0,\n      left: 0\n    },\n    points: {\n      mixBlendMode: 'multiply'\n    }\n  });\n\ninterface D3TileArray<T> extends Array<T> {\n  scale: number;\n  translate: [number, number];\n}\n\ninterface Props extends WithStyles<typeof styles> {\n  width: number;\n  height: number;\n  mapState: MapState;\n  geojson: MeshFeatureCollection;\n  buffers: Buffer[];\n}\n\ninterface State {\n  readonly fetchStatus?: 'yet' | 'fetching' | 'fetched';\n}\n\nclass Map extends React.Component<Props, State> {\n  readonly state: State = {\n    fetchStatus: 'yet'\n  };\n  private _tileSet = new TileSet();\n  private _terrain = new TileSet({\n    url: '//cyberjapandata.gsi.go.jp/xyz/slopemap/{z}/{x}/{y}.png'\n  });\n  // Tile Maps\n  // slope: //cyberjapandata.gsi.go.jp/xyz/slopemap/{z}/{x}/{y}.png\n\n  private _getTileCoordinates = (projection: GeoProjection, maxZoom: number = 20): Tile[] => {\n    const { width, height } = this.props;\n    let mag: number = 1.5;\n\n    const zoomer = Math.log2((projection.scale() * 2 * mag * Math.PI) / 256);\n    // required zoom level > maxZoom\n    if (zoomer >= maxZoom + 0.5) {\n      mag = Math.pow(2, maxZoom + 0.5 - zoomer);\n    }\n\n    const tiles: Tile[] = d3tile()\n      .size([width * mag, height * mag])\n      .scale(projection.scale() * 2 * Math.PI * mag)\n      .translate(projection([0, 0]).map(v => v * mag))()\n      .map((tile: { x: number; y: number; z: number }, index: number, array: D3TileArray<Tile>) => ({\n        ...tile,\n        mag,\n        id: `${tile.z}/${tile.x}/${tile.y}`,\n        scale: array.scale,\n        translate: array.translate\n      }));\n\n    return tiles;\n  };\n\n  private _fetchTiles = (tiles: Tile[], tileSet: TileSet) => {\n    return tileSet.updateTiles(tiles);\n  };\n\n  componentDidMount() {}\n\n  public render() {\n    const { classes, buffers, geojson, mapState } = this.props;\n    const { popVisibility, bufferVisibility, zoomLevel, terrain } = mapState;\n    const width = this.props.width || 400;\n    const height = this.props.height || 400;\n    const projection = buffers ? geoMercator().fitExtent([[10, 40], [width - 10, height - 40]], buffers[zoomLevel]) : geoMercator();\n\n    const path: GeoPath = geoPath(projection);\n    const tileSet = !terrain ? this._tileSet : this._terrain;\n    const tileCoords = !terrain ? this._getTileCoordinates(projection) : this._getTileCoordinates(projection, 15);\n\n    let renderTiles: TileWithURL[] = tileSet.setTileUrlFromTree(tileCoords);\n    let hoge = null;\n    if (tileSet.isRequireFetch(tileCoords)) {\n      hoge = <LinearProgress className={classes.progress} color=\"secondary\" />;\n      this._fetchTiles(tileCoords, tileSet).then(() => {\n        this.setState({ fetchStatus: 'fetched' });\n      });\n    }\n\n    return (\n      <div className={classes.root}>\n        <svg width={width} height={height}>\n          <g>\n            <GrayScaleFilter id=\"grayscale\" />\n            <g filter=\"url(#grayscale)\" className={classes.tiles} style={{ opacity: this.state.fetchStatus !== 'fetching' ? 1 : 0 }}>\n              {renderTiles.map((tile, index) => (\n                <image\n                  key={index}\n                  xlinkHref={tile.url}\n                  x={((tile.x + tile.translate[0]) * tile.scale) / tile.mag}\n                  y={((tile.y + tile.translate[1]) * tile.scale) / tile.mag}\n                  width={tile.scale / tile.mag}\n                  height={tile.scale / tile.mag}\n                  imageRendering=\"optimizeQuality\"\n                />\n              ))}\n            </g>\n          </g>\n          {popVisibility ? (\n            <g className={classes.points} style={{ opacity: this.state.fetchStatus !== 'yet' ? 1 : 0 }}>\n              {geojson\n                ? geojson.features.map((feature, index) =>\n                    feature.geometry.type === 'Point' ? <MeshFeature key={index} feature={feature} projection={projection} /> : null\n                  )\n                : null}\n            </g>\n          ) : null}\n          {bufferVisibility ? (\n            <g>\n              {buffers\n                ? buffers.map((feature, index) => {\n                    const bb = bbox(feature);\n                    const lb = projection([bb[2] + (bb[0] - bb[2]) / 2, bb[1]]);\n                    return (\n                      <g key={index} className={classes.buffer}>\n                        <path d={path(feature) || undefined} fill=\"none\" stroke=\"rgba(255, 255, 255, 0.2)\" strokeWidth={12} />\n                        <path d={path(feature) || undefined} fill=\"none\" stroke=\"rgb(200, 60, 80)\" strokeWidth={3} />\n                        <text className={classes.bufferText} x={lb[0]} y={lb[1]} dy=\"1em\" textAnchor=\"middle\" fill=\"rgb(200, 60, 80)\">\n                          {feature.properties.radius}\n                        </text>\n                      </g>\n                    );\n                  })\n                : null}\n            </g>\n          ) : null}\n          <g>\n            <image xlinkHref={Place} x={width / 2} y={height / 2} width={28} height={28} transform=\"translate(-14, -26)\" />\n          </g>\n        </svg>\n        {hoge || null}\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(Map);\n"],"sourceRoot":""}