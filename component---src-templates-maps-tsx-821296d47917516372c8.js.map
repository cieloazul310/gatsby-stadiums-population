{"version":3,"sources":["webpack:///./src/utils/tileTree.ts","webpack:///./src/components/GrayScaleFilter.tsx","webpack:///./src/components/MapApp.tsx","webpack:///./src/components/drawer/MapHandler.tsx","webpack:///./src/components/fa-buttons/TwitterIcon.tsx","webpack:///./src/components/fa-buttons/FacebookIcon.tsx","webpack:///./src/components/drawer/SharesList.tsx","webpack:///./src/components/drawer/DrawerTable.tsx","webpack:///./src/components/ValuesTable.tsx","webpack:///./src/components/DrawerInner.tsx","webpack:///./src/components/MapLegends.tsx","webpack:///./src/components/TableApp.tsx","webpack:///./src/components/AdBox.tsx","webpack:///./src/templates/maps.tsx","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/utils/types.ts","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/MeshFeature.tsx","webpack:///./src/components/Pie.tsx","webpack:///./src/components/Attribution.tsx","webpack:///./src/components/Container.tsx","webpack:///./src/components/MapAttribution.tsx","webpack:///./src/image/place.svg"],"names":["TileSet","options","this","tileUrl","url","maxZoom","minZoom","tileTree","treeIncludesTile","tile","x","y","z","hasOwnProperty","toString","tile2tree","_x$toString","_this$tileTree$z$toSt","_this$tileTree$z$toSt2","fetchTiles","tiles","_this","Promise","resolve","tasks","map","fetchTile","all","then","data","_this2","fetchUrl","replace","fetch","res","ok","Error","blob","tileWithURL","Object","assign","URL","createObjectURL","catch","undefined","isRequireFetch","_this3","every","setTileUrlFromTree","_this4","filter","updateTiles","_callee","newTiles","tilesInTree","tilesShouldFetch","fetchedTiles","_this5","regenerator_default","a","wrap","_context","prev","next","sent","abrupt","concat","stop","filterMatrix","GrayScaleFilter","props","react","id","type","values","join","d3tile","require","Map","state","fetchStatus","_tileSet","_terrain","_getTileCoordinates","projection","_this$props","width","height","mag","zoomer","Math","log2","scale","PI","pow","size","translate","v","index","array","_fetchTiles","tileSet","componentDidMount","render","_this$props2","classes","buffers","geojson","mapState","popVisibility","bufferVisibility","zoomLevel","terrain","geoMercator","fitExtent","path","geoPath","tileCoords","renderTiles","hoge","LinearProgress_default","className","progress","color","setState","root","components_GrayScaleFilter","style","opacity","key","xlinkHref","imageRendering","points","features","feature","geometry","MeshFeature","bb","bbox","lb","buffer","d","fill","stroke","strokeWidth","bufferText","dy","textAnchor","properties","radius","Place","transform","React","withStyles","theme","createStyles","fontFamily","typography","&:hover","fontSize","fontWeight","position","top","left","mixBlendMode","MapHandler","_ref","handleZoomIn","handleZoomOut","handleTerrain","handlePopVisibility","handleBufferVisibility","List_default","subheader","ListSubheader_default","Hidden_default","smDown","implementation","ListItem_default","button","selected","onClick","ListItemIcon_default","ZoomIn_default","ListItemText_default","ZoomOut_default","primary","LandScape_default","ListItemSecondaryAction_default","Switch_default","onChange","checked","People_default","Adjust_default","TwitterIcon","componentWillMount","library","add","faTwitter","Icon_default","react_fontawesome_index_es","icon","FacebookIcon","faFacebook","SharesList","summary","component","href","createTwiterShareUrl","target","rel","fa_buttons_TwitterIcon","createFbShareUrl","fa_buttons_FacebookIcon","encodeURI","name","encodeURIComponent","slug","styles","itemTitle","itemNumber","textAlign","tableState","ascSort","sortKey","sortRule","sortLabel","edges","appState","edge","node","navigateWithState","Typography_default","secondary","toLocaleString","thead","padding","spacing","unit","club","category","radius1000","radius3000","radius5000","radius10000","variant","Table_default","TableBody_default","TableRow_default","TableCell_default","align","toolbar","mixins","handleDrawerToggle","mapHandler","objectWithoutPropertiesLoose_default","mdUp","Clear_default","navigate","Reply_default","components_ValuesTable","drawer_MapHandler","Divider_default","drawer_SharesList","drawer_DrawerTable","display","flexDirection","alignItems","legends","justifyContent","legendItem","val","sizeScale","colorScale","fillOpacity","TableApp","anchorEl","menuOpen","filterRule","_handleSort","prevState","_handleFilterRule","str","indexOf","title","_this$state","Paper_default","Toolbar_default","flex","Tooltip_default","IconButton_default","aria-owns","aria-haspopup","buttonRef","FilterList_default","Popper_default","filterMenuWrapper","open","transition","disablePortal","placement","TransitionProps","Grow_default","transformOrigin","ClickAwayListener_default","onClickAway","event","contains","MenuList_default","MenuItem_default","CheckCircle_default","Remove_default","inset","tableWrapper","table","TableHead_default","indexCell","nameCell","TableSortLabel_default","active","direction","sortData","datum","scope","gatsby_browser_entry","to","marginTop","minWidth","overflowX","zIndex","isAsc","sortProperty","length","some","sort","b","ad","AdBox","window","adsbygoogle","push","classnames","data-ad-client","data-ad-slot","data-ad-format","data-full-width-responsive","MapPage","location","drawerOpen","initialAppState","allVenuesJson","_data$venuesJson","venuesJson","topojson","topofeature","objects","others","drawer","components_DrawerInner","CssBaseline_default","Helmet_default","lang","content","createDescriptionString","property","AppBar_default","appBar","menuButton","role","Menu_default","apptitle","currentIndex","ArrowForward_default","SwipeableDrawer_default","onClose","onOpen","paper","drawerPaper","Drawer_default","autoSizerWrapper","es","MapApp","Fab_default","fabZoomIn","disabled","Add_default","fabZoomOut","Container","components_MapLegends","components_AdBox","gutterBottom","Grid_default","container","grid","item","xs","sm","disableHeight","_ref2","Pie","geometries","Attribution","MapAttribution","_drawer","_appBar","_menuButton","_apptitle","breakpoints","up","flexShrink","marginLeft","marginRight","flexGrow","paddingTop","@media (min-width: 600px)","lineHeight","down","fullWidthContainer","margin","paddingBottom","bottom","right","description","maxWidth","descParagraph","paddingLeft","paddingRight","overflow","query","__webpack_require__","r","__webpack_exports__","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","createContext","createElement","Consumer","staticQueryData","children","propTypes","PropTypes","object","string","isRequired","func","m","module","exports","default","radiuses","Directions","directions","Radiuses","gatsby__WEBPACK_IMPORTED_MODULE_0__","ProdPageRenderer","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","json","shape","d3_scale__WEBPACK_IMPORTED_MODULE_1__","d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_2__","scaleSequential","interpolateSpectral","domain","scalePow","range","exponent","MeshRect","center","coordinates","abs","min","max","copy","scaleLinear","react__WEBPACK_IMPORTED_MODULE_3__","i","arr","angle","density","calcDensity","_directionToAngle","keys","startAngle","endAngle","arc","d3arc","innerRadius","outerRadius","padAngle","react__WEBPACK_IMPORTED_MODULE_1__","gatsby__WEBPACK_IMPORTED_MODULE_2__","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3___default","site","siteMetadata","paragraph","author","twitter","siteName","_public_static_d_2933318586_json__WEBPACK_IMPORTED_MODULE_0__","_material_ui_core_styles_withStyles__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_styles_withStyles__WEBPACK_IMPORTED_MODULE_1___default","_material_ui_core_styles_createStyles__WEBPACK_IMPORTED_MODULE_2__","_material_ui_core_styles_createStyles__WEBPACK_IMPORTED_MODULE_2___default","@global","blockquote","backgroundColor","borderLeft","borderRadius","DataAttribution","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_1___default","overflowWrap"],"mappings":"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","file":"component---src-templates-maps-tsx-821296d47917516372c8.js","sourcesContent":["import fetch from 'isomorphic-fetch';\n\nexport interface Tile {\n  id: string;\n  x: number;\n  y: number;\n  z: number;\n  tx: number;\n  ty: number;\n  scale: number;\n  translate: [number, number];\n  mag: number;\n}\n\ntype TileUrl = string | undefined;\n\nexport interface TileWithURL extends Tile {\n  url: TileUrl;\n}\n\nexport interface TileTree {\n  [key: string]: {\n    [key: string]: {\n      [key: string]: TileUrl;\n    };\n  };\n}\n\ninterface TileSetOptions {\n  url?: string;\n  maxZoom?: number;\n  minZoom?: number;\n}\n\nclass TileSet {\n  readonly tileTree: TileTree;\n  readonly maxZoom: number;\n  readonly minZoom: number;\n  readonly tileUrl: string;\n  constructor(options: TileSetOptions = {}) {\n    this.tileUrl = options.url || '//cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png';\n    this.maxZoom = options.maxZoom || 20;\n    this.minZoom = options.maxZoom || 2;\n    this.tileTree = {};\n  }\n\n  private treeIncludesTile(tile: Tile): boolean {\n    const { x, y, z } = tile;\n    return (\n      this.tileTree.hasOwnProperty(z.toString()) &&\n      this.tileTree[z.toString()].hasOwnProperty(x.toString()) &&\n      this.tileTree[z.toString()][x.toString()].hasOwnProperty(y.toString())\n    );\n  }\n\n  private tile2tree(tile: TileWithURL) {\n    const { x, y, z, url } = tile;\n    if (!this.tileTree.hasOwnProperty(z.toString())) {\n      this.tileTree[z.toString()] = {\n        [x.toString()]: {\n          [y.toString()]: url\n        }\n      };\n    } else if (!this.tileTree[z.toString()].hasOwnProperty(x.toString())) {\n      this.tileTree[z.toString()][x.toString()] = {\n        [y.toString()]: url\n      };\n    } else {\n      this.tileTree[z.toString()][x.toString()][y.toString()] = url;\n    }\n  }\n  // fetch new tiles\n  private fetchTiles(tiles: Tile[]): Promise<TileWithURL[]> {\n    return new Promise(resolve => {\n      const tasks = tiles.map(tile => this.fetchTile(tile, this.tileUrl));\n      Promise.all(tasks).then((data: TileWithURL[]) => {\n        resolve(data);\n      });\n    });\n  }\n  private fetchTile(tile: Tile, url: string): Promise<TileWithURL> {\n    const { x, y, z } = tile;\n    const fetchUrl = url.replace('{z}/{x}/{y}', `${z}/${x}/${y}`);\n\n    return fetch(fetchUrl)\n      .then(res => {\n        if (!res.ok) throw new Error();\n        return res.blob();\n      })\n      .then(blob => {\n        const tileWithURL: TileWithURL = {\n          ...tile,\n          url: URL.createObjectURL(blob)\n        };\n        this.tile2tree(tileWithURL);\n        return tileWithURL;\n      })\n      .catch(() => {\n        const tileWithURL: TileWithURL = {\n          ...tile,\n          url: undefined\n        };\n        this.tile2tree(tileWithURL);\n        return tileWithURL;\n      });\n  }\n\n  // helpers\n\n  public isRequireFetch(tiles: Tile[]): boolean {\n    return !tiles.every(tile => this.treeIncludesTile(tile));\n  }\n\n  public setTileUrlFromTree(tiles: Tile[]): TileWithURL[] {\n    return tiles\n      .filter(tile => this.treeIncludesTile(tile))\n      .map(tile => ({\n        ...tile,\n        url: this.tileTree[tile.z][tile.x][tile.y]\n      }));\n  }\n\n  public async updateTiles(newTiles: Tile[]) {\n    const tilesInTree = this.setTileUrlFromTree(newTiles.filter(tile => this.treeIncludesTile(tile)));\n\n    const tilesShouldFetch = newTiles.filter(tile => !this.treeIncludesTile(tile));\n\n    const fetchedTiles: TileWithURL[] = await this.fetchTiles(tilesShouldFetch);\n\n    return [...tilesInTree, ...fetchedTiles];\n  }\n}\n\nexport default TileSet;\n","import * as React from 'react';\n/*\nconst filterMatrix = [\n  \"0.3333 0.3333 0.3333 0 0\",\n  \"0.3333 0.3333 0.3333 0 0\",\n  \"0.3333 0.3333 0.3333 0 0\",\n  \"0 0 0 1 0\"\n];\n*/\nconst filterMatrix = ['0.3333 0.3333 0.3333 0 0', '0.3333 0.3333 0.3333 0 0', '0.3333 0.3333 0.3333 0 0', '0 0 0 1 0'];\n\ninterface Props {\n  id: string;\n}\n\nconst GrayScaleFilter: React.FunctionComponent<Props> = (props: Props) => (\n  <filter id={props.id}>\n    <feColorMatrix type=\"matrix\" values={filterMatrix.join(' ')} />\n  </filter>\n);\n\nexport default GrayScaleFilter;\n","import * as React from 'react';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nconst d3tile = require('d3-tile').tile;\n\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport bbox from '@turf/bbox';\nimport { geoMercator, geoPath, GeoProjection, GeoPath } from 'd3-geo';\nimport TileSet, { Tile, TileWithURL } from '../utils/tileTree';\nimport MeshFeature from '../components/MeshFeature';\nimport GrayScaleFilter from '../components/GrayScaleFilter';\nimport { Feature, Point } from '@turf/helpers';\nimport { Buffer, MeshProperties, MapState } from '../utils/types';\n\nimport Place from '../image/place.svg';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      fontFamily: theme.typography.fontFamily\n    },\n    buffer: {\n      opacity: 0.2,\n      '&:hover': {\n        opacity: 1\n      }\n    },\n    bufferText: { fontSize: '80%', fontWeight: 'bold' },\n    progress: {\n      position: 'absolute',\n      width: '100%',\n      top: 0,\n      left: 0\n    },\n    points: {\n      mixBlendMode: 'multiply'\n    }\n  });\n\ninterface D3TileArray<T> extends Array<T> {\n  scale: number;\n  translate: [number, number];\n}\n\ninterface Props extends WithStyles<typeof styles> {\n  width: number;\n  height: number;\n  mapState: MapState;\n  geojson: {\n    type: 'FeatureCollection';\n    features: Feature<Point, MeshProperties>[];\n  };\n  buffers: Buffer[];\n}\n\ninterface State {\n  readonly fetchStatus?: 'yet' | 'fetching' | 'fetched';\n}\n\nclass Map extends React.Component<Props, State> {\n  readonly state: State = {\n    fetchStatus: 'yet'\n  };\n  private _tileSet = new TileSet();\n  private _terrain = new TileSet({\n    url: '//cyberjapandata.gsi.go.jp/xyz/slopemap/{z}/{x}/{y}.png'\n  });\n  // Tile Maps\n  // slope: //cyberjapandata.gsi.go.jp/xyz/slopemap/{z}/{x}/{y}.png\n\n  private _getTileCoordinates = (projection: GeoProjection, maxZoom: number = 20): Tile[] => {\n    const { width, height } = this.props;\n    let mag: number = 1.5;\n\n    const zoomer = Math.log2((projection.scale() * 2 * mag * Math.PI) / 256);\n    // required zoom level > maxZoom\n    if (zoomer >= maxZoom + 0.5) {\n      mag = Math.pow(2, maxZoom + 0.5 - zoomer);\n    }\n\n    const tiles: Tile[] = d3tile()\n      .size([width * mag, height * mag])\n      .scale(projection.scale() * 2 * Math.PI * mag)\n      .translate(projection([0, 0]).map(v => v * mag))()\n      .map((tile: { x: number; y: number; z: number }, index: number, array: D3TileArray<Tile>) => ({\n        ...tile,\n        mag,\n        id: `${tile.z}/${tile.x}/${tile.y}`,\n        scale: array.scale,\n        translate: array.translate\n      }));\n\n    return tiles;\n  };\n\n  private _fetchTiles = (tiles: Tile[], tileSet: TileSet) => {\n    return tileSet.updateTiles(tiles);\n  };\n\n  componentDidMount() {}\n\n  public render() {\n    const { classes, buffers, geojson, mapState } = this.props;\n    const { popVisibility, bufferVisibility, zoomLevel, terrain } = mapState;\n    const width = this.props.width || 400;\n    const height = this.props.height || 400;\n    const projection = buffers ? geoMercator().fitExtent([[10, 40], [width - 10, height - 40]], buffers[zoomLevel]) : geoMercator();\n\n    const path: GeoPath = geoPath(projection);\n    const tileSet = !terrain ? this._tileSet : this._terrain;\n    const tileCoords = !terrain ? this._getTileCoordinates(projection) : this._getTileCoordinates(projection, 15);\n\n    let renderTiles: TileWithURL[] = tileSet.setTileUrlFromTree(tileCoords);\n    let hoge = null;\n    if (tileSet.isRequireFetch(tileCoords)) {\n      hoge = <LinearProgress className={classes.progress} color=\"secondary\" />;\n      this._fetchTiles(tileCoords, tileSet).then(() => {\n        this.setState({ fetchStatus: 'fetched' });\n      });\n    }\n\n    return (\n      <div className={classes.root}>\n        <svg width={width} height={height}>\n          <g>\n            <GrayScaleFilter id=\"grayscale\" />\n            <g filter=\"url(#grayscale)\" className={classes.tiles} style={{ opacity: this.state.fetchStatus !== 'fetching' ? 1 : 0 }}>\n              {renderTiles.map((tile, index) => (\n                <image\n                  key={index}\n                  xlinkHref={tile.url}\n                  x={((tile.x + tile.translate[0]) * tile.scale) / tile.mag}\n                  y={((tile.y + tile.translate[1]) * tile.scale) / tile.mag}\n                  width={tile.scale / tile.mag}\n                  height={tile.scale / tile.mag}\n                  imageRendering=\"optimizeQuality\"\n                />\n              ))}\n            </g>\n          </g>\n          {popVisibility ? (\n            <g className={classes.points} style={{ opacity: this.state.fetchStatus !== 'yet' ? 1 : 0 }}>\n              {geojson\n                ? geojson.features.map((feature, index) =>\n                    feature.geometry.type === 'Point' ? <MeshFeature key={index} feature={feature} projection={projection} /> : null\n                  )\n                : null}\n            </g>\n          ) : null}\n          {bufferVisibility ? (\n            <g>\n              {buffers\n                ? buffers.map((feature, index) => {\n                    const bb = bbox(feature);\n                    const lb = projection([bb[2] + (bb[0] - bb[2]) / 2, bb[1]]);\n                    return (\n                      <g key={index} className={classes.buffer}>\n                        <path d={path(feature) || undefined} fill=\"none\" stroke=\"rgba(255, 255, 255, 0.2)\" strokeWidth={12} />\n                        <path d={path(feature) || undefined} fill=\"none\" stroke=\"rgb(200, 60, 80)\" strokeWidth={3} />\n                        <text className={classes.bufferText} x={lb[0]} y={lb[1]} dy=\"1em\" textAnchor=\"middle\" fill=\"rgb(200, 60, 80)\">\n                          {feature.properties.radius}\n                        </text>\n                      </g>\n                    );\n                  })\n                : null}\n            </g>\n          ) : null}\n          <g>\n            <image xlinkHref={Place} x={width / 2} y={height / 2} width={28} height={28} transform=\"translate(-14, -26)\" />\n          </g>\n        </svg>\n        {hoge || null}\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(Map);\n","import * as React from 'react';\nimport List from '@material-ui/core/List';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Hidden from '@material-ui/core/Hidden';\nimport Switch from '@material-ui/core/Switch';\nimport { MapState } from '../../utils/types';\n\n// Icons\nimport ZoomIn from '@material-ui/icons/ZoomIn';\nimport ZoomOut from '@material-ui/icons/ZoomOut';\nimport LandScape from '@material-ui/icons/LandScape';\nimport PeopleIcon from '@material-ui/icons/People';\nimport Adjust from '@material-ui/icons/Adjust';\n\ninterface Props {\n  mapState: MapState;\n  handleZoomIn: () => any;\n  handleZoomOut: () => any;\n  handleTerrain: () => any;\n  handlePopVisibility: () => any;\n  handleBufferVisibility: () => any;\n}\n\nconst MapHandler: React.FunctionComponent<Props> = ({\n  mapState,\n  handleZoomIn,\n  handleZoomOut,\n  handleTerrain,\n  handlePopVisibility,\n  handleBufferVisibility\n}: Props) => (\n  <List subheader={<ListSubheader>地図</ListSubheader>}>\n    <Hidden smDown implementation=\"css\">\n      <ListItem button selected={mapState.zoomLevel === 0} onClick={handleZoomIn}>\n        <ListItemIcon>\n          <ZoomIn />\n        </ListItemIcon>\n        <ListItemText>地図を拡大</ListItemText>\n      </ListItem>\n      <ListItem button selected={mapState.zoomLevel === 3} onClick={handleZoomOut}>\n        <ListItemIcon>\n          <ZoomOut />\n        </ListItemIcon>\n        <ListItemText primary=\"地図を縮小\" />\n      </ListItem>\n    </Hidden>\n    <ListItem button>\n      <ListItemIcon>\n        <LandScape />\n      </ListItemIcon>\n      <ListItemText primary=\"地形モード\" />\n      <ListItemSecondaryAction>\n        <Switch onChange={handleTerrain} checked={mapState.terrain} />\n      </ListItemSecondaryAction>\n    </ListItem>\n    <ListItem>\n      <ListItemIcon>\n        <PeopleIcon />\n      </ListItemIcon>\n      <ListItemText primary=\"人口\" />\n      <ListItemSecondaryAction>\n        <Switch onChange={handlePopVisibility} checked={mapState.popVisibility} />\n      </ListItemSecondaryAction>\n    </ListItem>\n    <ListItem>\n      <ListItemIcon>\n        <Adjust />\n      </ListItemIcon>\n      <ListItemText primary=\"距離円\" />\n      <ListItemSecondaryAction>\n        <Switch onChange={handleBufferVisibility} checked={mapState.bufferVisibility} />\n      </ListItemSecondaryAction>\n    </ListItem>\n  </List>\n);\n\nexport default MapHandler;\n","import * as React from 'react';\nimport Icon from '@material-ui/core/Icon';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTwitter } from '@fortawesome/free-brands-svg-icons/faTwitter';\n\ninterface Props {\n  color?: 'primary' | 'secondary' | 'action' | 'error' | 'disabled';\n}\n\nclass TwitterIcon extends React.PureComponent<Props> {\n  componentWillMount() {\n    library.add(faTwitter);\n  }\n  public render() {\n    const { color } = this.props;\n    return (\n      <Icon color={color}>\n        <FontAwesomeIcon icon={['fab', 'twitter']} />\n      </Icon>\n    );\n  }\n}\n\nexport default TwitterIcon;\n","import * as React from 'react';\nimport Icon from '@material-ui/core/Icon';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFacebook } from '@fortawesome/free-brands-svg-icons/faFacebook';\n\ninterface Props {\n  color?: 'primary' | 'secondary' | 'action' | 'error' | 'disabled';\n}\n\nclass FacebookIcon extends React.PureComponent<Props> {\n  componentWillMount() {\n    library.add(faFacebook);\n  }\n  public render() {\n    const { color } = this.props;\n    return (\n      <Icon color={color}>\n        <FontAwesomeIcon icon={['fab', 'facebook']} />\n      </Icon>\n    );\n  }\n}\n\nexport default FacebookIcon;\n","import * as React from 'react';\nimport List from '@material-ui/core/List';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport TwitterIcon from '../fa-buttons/TwitterIcon';\nimport FacebookIcon from '../fa-buttons/FacebookIcon';\nimport { Summary } from '../../utils/types';\n\ninterface Props {\n  summary: Summary;\n}\n\nconst SharesList: React.FunctionComponent<Props> = ({ summary }: Props) => (\n  <List subheader={<ListSubheader>シェア</ListSubheader>}>\n    <ListItem button component=\"a\" href={createTwiterShareUrl(summary)} target=\"_blank\" rel=\"noopener noreferrer\">\n      <ListItemIcon>\n        <TwitterIcon />\n      </ListItemIcon>\n      <ListItemText primary=\"Twitterで共有\" />\n    </ListItem>\n    <ListItem button component=\"a\" href={createFbShareUrl(summary)} target=\"_blank\" rel=\"noopener noreferrer\">\n      <ListItemIcon>\n        <FacebookIcon />\n      </ListItemIcon>\n      <ListItemText primary=\"Facebookで共有\" />\n    </ListItem>\n  </List>\n);\n\nexport default SharesList;\n\n// helpers\nfunction createTwiterShareUrl(summary: Summary): string {\n  return (\n    `https://twitter.com/intent/tweet?text=` +\n    encodeURI(`${summary.name}周辺の人口`) +\n    `&url=` +\n    encodeURIComponent(`https://cieloazul310.github.io/gatsby-stadiums-population/${summary.slug}/`)\n  );\n}\n\nfunction createFbShareUrl(summary: Summary): string {\n  return (\n    `https://www.facebook.com/sharer/sharer.php?u=` +\n    encodeURIComponent(`https://cieloazul310.github.io/gatsby-stadiums-population/${summary.slug}/`)\n  );\n}\n","import * as React from 'react';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport List from '@material-ui/core/List';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\n\nimport { navigateWithState, VenueEdge, AppState, TableState } from '../../utils/types';\n\nconst styles: StyleRules = createStyles({\n  root: {},\n  itemTitle: {\n    fontSize: '80%',\n    fontWeight: 'bold'\n  },\n  itemNumber: {\n    textAlign: 'right'\n  }\n});\n\ninterface Props extends WithStyles<typeof styles> {\n  slug: string;\n  edges: VenueEdge[];\n  appState: AppState;\n}\n\nconst DrawerTable: React.FC<Props> = ({ classes, slug, edges, appState }: Props) => (\n  <List className={classes.root} subheader={<ListSubheader>{`一覧 ${createSortString(appState.tableState)}`}</ListSubheader>}>\n    {edges.map(edge => (\n      <ListItem\n        key={edge.node.summary.slug}\n        button\n        selected={edge.node.summary.slug === slug}\n        onClick={() => {\n          navigateWithState(`/${edge.node.summary.slug}/`, appState);\n        }}\n      >\n        <ListItemText\n          primary={<Typography className={classes.itemTitle}>{edge.node.summary.name}</Typography>}\n          secondary={\n            <Typography component=\"span\" className={classes.itemNumber}>\n              {edge.node.summary[sortKeyToProps(appState.tableState)].toLocaleString()}\n            </Typography>\n          }\n        />\n      </ListItem>\n    ))}\n  </List>\n);\n\nexport default withStyles(styles)(DrawerTable);\n\n// helpers\nfunction sortKeyToProps(tableState: TableState) {\n  return tableState.sortKey === 0\n    ? 'radius1000'\n    : tableState.sortKey === 1\n    ? 'radius3000'\n    : tableState.sortKey === 2\n    ? 'radius5000'\n    : 'radius10000';\n}\n\nfunction createSortString(tableState: TableState): string {\n  const { ascSort, sortKey } = tableState;\n  const sortRule = ascSort ? '昇順' : '降順';\n  const sortLabel = ['1km', '3km', '5km', '10km'][sortKey];\n\n  return `${sortLabel}圏人口 ${sortRule}`;\n}\n","import * as React from 'react';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport Typography from '@material-ui/core/Typography';\nimport { Summary } from '../utils/types';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {},\n    thead: {\n      padding: theme.spacing.unit * 2\n    }\n  });\n\ninterface Props extends WithStyles<typeof styles> {\n  summary: Summary;\n}\n\nconst ValuesTable: React.FunctionComponent<Props> = (props: Props) => {\n  const { classes, summary } = props;\n  const { club, category, radius1000, radius3000, radius5000, radius10000 } = summary;\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.thead}>\n        <Typography variant=\"caption\">クラブ: {club.join(', ')}</Typography>\n        <Typography variant=\"caption\">カテゴリー: {category.join(', ')}</Typography>\n      </div>\n      <Table>\n        <TableBody>\n          <TableRow>\n            <TableCell align=\"right\">1km圏</TableCell>\n            <TableCell align=\"right\">{radius1000.toLocaleString()}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"right\">3km圏</TableCell>\n            <TableCell align=\"right\">{radius3000.toLocaleString()}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"right\">5km圏</TableCell>\n            <TableCell align=\"right\">{radius5000.toLocaleString()}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"right\">10km圏</TableCell>\n            <TableCell align=\"right\">{radius10000.toLocaleString()}</TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n    </div>\n  );\n};\n\nexport default withStyles(styles)(ValuesTable);\n","import * as React from 'react';\nimport { navigate } from 'gatsby';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport Hidden from '@material-ui/core/Hidden';\n\n// Drawer Components\nimport MapHandler from './drawer/MapHandler';\nimport SharesList from './drawer/SharesList';\nimport DrawerTable from './drawer/DrawerTable';\n\n// Icons\nimport Clear from '@material-ui/icons/Clear';\nimport Reply from '@material-ui/icons/Reply';\n\nimport ValuesTable from '../components/ValuesTable';\nimport { Summary, AppState, VenueEdge } from '../utils/types';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {},\n    toolbar: theme.mixins.toolbar\n  });\n\ninterface Props extends WithStyles<typeof styles> {\n  summary: Summary;\n  appState: AppState;\n  edges: VenueEdge[];\n  handleDrawerToggle: () => any;\n  handleZoomIn: () => any;\n  handleZoomOut: () => any;\n  handleTerrain: () => any;\n  handlePopVisibility: () => any;\n  handleBufferVisibility: () => any;\n}\n\nconst DrawerInner: React.FunctionComponent<Props> = ({ classes, summary, appState, edges, handleDrawerToggle, ...mapHandler }: Props) => {\n  const { mapState } = appState;\n\n  const DrawerToolBar = () => (\n    <div className={classes.toolbar}>\n      <List>\n        <Hidden mdUp implementation=\"css\">\n          <ListItem button onClick={handleDrawerToggle}>\n            <ListItemIcon>\n              <Clear />\n            </ListItemIcon>\n            <ListItemText primary=\"閉じる\" />\n          </ListItem>\n        </Hidden>\n        <ListItem\n          button\n          onClick={() => {\n            navigate('/', { state: appState });\n          }}\n        >\n          <ListItemIcon>\n            <Reply />\n          </ListItemIcon>\n          <ListItemText>表に戻る</ListItemText>\n        </ListItem>\n      </List>\n    </div>\n  );\n\n  return (\n    <div className={classes.root}>\n      <DrawerToolBar />\n      <ValuesTable summary={summary} />\n      <MapHandler mapState={mapState} {...mapHandler} />\n      <Divider />\n      <SharesList summary={summary} />\n      <Divider />\n      <DrawerTable slug={summary.slug} edges={edges} appState={appState} />\n    </div>\n  );\n};\n\nexport default withStyles(styles)(DrawerInner);\n","import * as React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport { sizeScale, colorScale } from './MeshFeature';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    legends: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'flex-end'\n    },\n    legendItem: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      fontSize: '80%',\n      padding: theme.spacing.unit\n    }\n  });\n\ntype Props = WithStyles<typeof styles>;\n\nconst MapLegends: React.FunctionComponent<Props> = (props: Props) => (\n  <div className={props.classes.root}>\n    <div className={props.classes.legends}>\n      {[100, 250, 500, 750, 1000, 1500, 2000].map(val => {\n        const size = sizeScale(val) * 2;\n        const color = colorScale(val);\n        return (\n          <div className={props.classes.legendItem} key={val}>\n            <svg width={30} height={30}>\n              <rect x={15 - size / 2} y={15 - size / 2} width={size} height={size} fill={color} fillOpacity={1} />\n            </svg>\n            <Typography variant=\"caption\">{val}</Typography>\n          </div>\n        );\n      })}\n    </div>\n    <Typography variant=\"caption\">1メッシュ(約250m四方)に含まれる人口</Typography>\n  </div>\n);\n\nexport default withStyles(styles)(MapLegends);\n","import * as React from 'react';\nimport { Link } from 'gatsby';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Paper from '@material-ui/core/Paper';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport Popper from '@material-ui/core/Popper';\nimport Grow from '@material-ui/core/Grow';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport MenuList from '@material-ui/core/MenuList';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport { Summary, VenueEdge, AppState, TableState } from '../utils/types';\n\nconst tableStyles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      width: '100%',\n      marginTop: theme.spacing.unit * 3\n    },\n    table: {\n      minWidth: 760\n    },\n    tableWrapper: {\n      overflowX: 'auto'\n    },\n    indexCell: {\n      width: '2em',\n      padding: '4px 8px 4px 8px'\n    },\n    nameCell: {\n      width: '16em',\n      padding: '4px 16px 4px 24px'\n    },\n    filterMenuWrapper: {\n      zIndex: 1\n    }\n  });\n\ninterface Props extends WithStyles<typeof tableStyles> {\n  title: string;\n  data: Array<VenueEdge>;\n  appState: AppState | null;\n}\n\ninterface State extends TableState {\n  readonly menuOpen: boolean;\n}\n\nclass TableApp extends React.Component<Props, State> {\n  private anchorEl: HTMLElement = undefined;\n  readonly state: State = this.props.appState\n    ? {\n        ...this.props.appState.tableState,\n        menuOpen: false\n      }\n    : {\n        ascSort: false,\n        sortKey: 3,\n        filterRule: [],\n        menuOpen: false\n      };\n\n  private _handleSort = (index: number) => {\n    this.setState(prevState => ({\n      ascSort: prevState.sortKey === index ? !prevState.ascSort : false,\n      sortKey: index\n    }));\n  };\n\n  private _handleFilterRule = (str: string) => {\n    this.setState(prevState => ({\n      filterRule:\n        prevState.filterRule.indexOf(str) >= 0 ? prevState.filterRule.filter(filter => filter !== str) : [...prevState.filterRule, str]\n    }));\n  };\n\n  public render() {\n    const { classes, title, data, appState } = this.props;\n    const { ascSort, sortKey, filterRule, menuOpen } = this.state;\n    return (\n      <Paper className={classes.root}>\n        <Toolbar>\n          <div style={{ flex: '0 0 auto' }}>\n            <Typography variant=\"h6\">{title}</Typography>\n          </div>\n          <div style={{ flex: '1 1 100%' }} />\n          <div>\n            <div>\n              <Tooltip title=\"Filter\">\n                <IconButton\n                  aria-owns={menuOpen ? 'menu-list' : undefined}\n                  aria-haspopup=\"true\"\n                  buttonRef={node => {\n                    this.anchorEl = node;\n                  }}\n                  onClick={() => {\n                    this.setState(prev => ({ menuOpen: !prev.menuOpen }));\n                  }}\n                >\n                  <FilterListIcon />\n                </IconButton>\n              </Tooltip>\n              <Popper\n                className={classes.filterMenuWrapper}\n                anchorEl={this.anchorEl}\n                open={menuOpen}\n                transition\n                disablePortal\n                placement=\"bottom-end\"\n              >\n                {({ TransitionProps }) => (\n                  <Grow id=\"menu-list\" {...TransitionProps} style={{ transformOrigin: 'right top' }}>\n                    <Paper>\n                      <ClickAwayListener\n                        onClickAway={event => {\n                          if (this.anchorEl.contains(event.target)) {\n                            return;\n                          }\n                          this.setState({ menuOpen: false });\n                        }}\n                      >\n                        <MenuList>\n                          {['J1', 'J2', 'J3', 'JFL', '地域', 'その他'].map((str, index) => (\n                            <MenuItem\n                              key={index}\n                              onClick={() => {\n                                this._handleFilterRule(str);\n                              }}\n                            >\n                              <ListItemIcon>{filterRule.indexOf(str) < 0 ? <CheckCircleIcon /> : <RemoveIcon />}</ListItemIcon>\n                              <ListItemText inset primary={str} />\n                            </MenuItem>\n                          ))}\n                        </MenuList>\n                      </ClickAwayListener>\n                    </Paper>\n                  </Grow>\n                )}\n              </Popper>\n            </div>\n          </div>\n        </Toolbar>\n        <div className={classes.tableWrapper}>\n          <Table className={classes.table}>\n            <TableHead>\n              <TableRow>\n                <TableCell className={classes.indexCell} align=\"right\">\n                  i\n                </TableCell>\n                <TableCell className={classes.nameCell}>name</TableCell>\n                {['1km', '3km', '5km', '10km'].map((str, index) => (\n                  <TableCell key={index} align=\"right\">\n                    <TableSortLabel active={index === sortKey} direction={ascSort ? 'asc' : 'desc'} onClick={() => this._handleSort(index)}>\n                      {str}\n                    </TableSortLabel>\n                  </TableCell>\n                ))}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {sortData(data, ascSort, sortKey, filterRule).map((datum, index) => (\n                <TableRow key={index}>\n                  <TableCell className={classes.indexCell} component=\"th\" scope=\"row\" align=\"right\">\n                    {index + 1}\n                  </TableCell>\n                  <TableCell className={classes.nameCell} component=\"th\" scope=\"row\">\n                    <Link\n                      to={`/${datum.node.summary.slug}/`}\n                      state={{\n                        mapState: appState.mapState || null,\n                        tableState: {\n                          ascSort,\n                          sortKey,\n                          filterRule\n                        }\n                      }}\n                    >\n                      {datum.node.summary.name}\n                    </Link>\n                  </TableCell>\n                  <TableCell align=\"right\">{datum.node.summary.radius1000.toLocaleString()}</TableCell>\n                  <TableCell align=\"right\">{datum.node.summary.radius3000.toLocaleString()}</TableCell>\n                  <TableCell align=\"right\">{datum.node.summary.radius5000.toLocaleString()}</TableCell>\n                  <TableCell align=\"right\">{datum.node.summary.radius10000.toLocaleString()}</TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </div>\n      </Paper>\n    );\n  }\n}\n\nexport default withStyles(tableStyles)(TableApp);\n\n// utils\n\nexport function sortData(data: VenueEdge[], ascSort: boolean, sortKey: number, filterRule: string[] = []): VenueEdge[] {\n  const isAsc = ascSort ? 1 : -1;\n  const sortProperty = sortKey === 0 ? 'radius1000' : sortKey === 1 ? 'radius3000' : sortKey === 2 ? 'radius5000' : 'radius10000';\n\n  return filterRule.length\n    ? data\n        .filter(datum => datum.node.summary.category.some(category => filterRule.indexOf(category) < 0))\n        .sort((a, b) => isAsc * (a.node.summary[sortProperty] - b.node.summary[sortProperty]))\n    : data.sort((a, b) => isAsc * (a.node.summary[sortProperty] - b.node.summary[sortProperty]));\n}\n\nfunction filterIncludesEdge(filterRule: string[], edge: VenueEdge): boolean {\n  const categories = edge.node.summary.category;\n\n  return categories.some(category => filterRule.indexOf(category) < 0);\n}\n","import * as React from 'react';\nimport classnames from 'classnames';\n//import { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport withStyles, { WithStyles /*StyleRules*/ } from '@material-ui/core/styles/withStyles';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = createStyles({\n  root: {\n    width: '100%'\n  },\n  ad: {\n    display: 'block'\n  }\n});\n\ntype Props = WithStyles<typeof styles>;\n\nclass AdBox extends React.PureComponent<Props> {\n  componentDidMount() {\n    (window.adsbygoogle = window.adsbygoogle || []).push({});\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.root}>\n        <Typography variant=\"subtitle2\">広告</Typography>\n        <ins\n          className={classnames('adsbygoogle', classes.ad)}\n          data-ad-client=\"ca-pub-7323207940463794\"\n          data-ad-slot={3901734109}\n          data-ad-format=\"auto\"\n          data-full-width-responsive={true}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(AdBox);\n","import * as React from 'react';\nimport { graphql, Link } from 'gatsby';\nimport Helmet from 'react-helmet';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport ToolBar from '@material-ui/core/Toolbar';\nimport Drawer from '@material-ui/core/Drawer';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/icons/Menu';\nimport Fab from '@material-ui/core/Fab';\nimport ArrowForward from '@material-ui/icons/ArrowForward';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\n// styles\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\n// icons\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\n\nimport { AutoSizer } from 'react-virtualized';\nimport { feature as topofeature } from 'topojson-client';\nimport { Topology } from 'topojson-specification';\n\nimport MapApp from '../components/MapApp';\nimport DrawerInner from '../components/DrawerInner';\nimport MapLegends from '../components/MapLegends';\nimport { sortData } from '../components/TableApp';\nimport DirectionTable from '../components/DirectionTable';\nimport ValuesTable from '../components/ValuesTable';\nimport Pie from '../components/Pie';\nimport DirectionApp from '../components/DirectionApp';\nimport Attribution from '../components/Attribution';\nimport Container from '../components/Container';\nimport { DataAttribution, MapAttribution } from '../components/MapAttribution';\nimport AdBox from '../components/AdBox';\nimport {\n  Summary,\n  LocationWithState,\n  VenueEdge,\n  MapState,\n  initialAppState,\n  navigateWithState,\n  Directions,\n  directions,\n  Radiuses,\n  BufferProperties\n} from '../utils/types';\n\nconst drawerWidth = 280;\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      display: 'flex'\n    },\n    drawer: {\n      [theme.breakpoints.up('md')]: {\n        width: drawerWidth,\n        flexShrink: 0\n      }\n    },\n    appBar: {\n      marginLeft: drawerWidth,\n      [theme.breakpoints.up('md')]: {\n        width: `calc(100% - ${drawerWidth}px)`\n      }\n    },\n    menuButton: {\n      marginRight: 10,\n      [theme.breakpoints.up('md')]: {\n        display: 'none'\n      }\n    },\n    drawerPaper: {\n      width: drawerWidth\n    },\n    content: {\n      flexGrow: 1,\n      paddingTop: 56,\n      '@media (min-width: 600px)': {\n        paddingTop: 64\n      }\n    },\n    apptitle: {\n      flexGrow: 1,\n      lineHeight: 1.2,\n      [theme.breakpoints.down('sm')]: {\n        fontSize: '90%'\n      }\n    },\n    fullWidthContainer: {\n      width: '100%',\n      margin: 'auto',\n      paddingTop: theme.spacing.unit * 2,\n      paddingBottom: theme.spacing.unit * 2\n    },\n    autoSizerWrapper: {\n      height: 'calc(100vh - 56px)',\n      '@media (min-width: 600px)': {\n        height: 'calc(100vh - 64px)'\n      }\n    },\n    fabZoomIn: {\n      position: 'absolute',\n      bottom: theme.spacing.unit * 10,\n      right: theme.spacing.unit * 2\n    },\n    fabZoomOut: {\n      position: 'absolute',\n      bottom: theme.spacing.unit * 2,\n      right: theme.spacing.unit * 2\n    },\n    description: {\n      maxWidth: 800,\n      margin: 'auto'\n    },\n    descParagraph: {\n      paddingLeft: theme.spacing.unit * 2,\n      paddingRight: theme.spacing.unit * 2\n    },\n    grid: {\n      overflow: 'hidden'\n    }\n  });\n\ninterface Props extends WithStyles<typeof styles> {\n  data: {\n    allVenuesJson: {\n      edges: Array<VenueEdge>;\n    };\n    venuesJson: {\n      fields: {\n        slug: string;\n      };\n      summary: Summary;\n      topojson: Topology;\n    };\n  };\n  location: LocationWithState;\n}\n\ninterface State extends MapState {\n  readonly drawerOpen: boolean;\n}\n\nclass MapPage extends React.Component<Props, State> {\n  readonly state = this.props.location.state\n    ? {\n        ...this.props.location.state.mapState,\n        drawerOpen: false\n      }\n    : {\n        ...initialAppState.mapState,\n        drawerOpen: false\n      };\n  private handleDrawerToggle = () => {\n    this.setState(prev => ({\n      drawerOpen: !prev.drawerOpen\n    }));\n  };\n  private handlePopVisibility = () => {\n    this.setState(prev => ({\n      popVisibility: !prev.popVisibility\n    }));\n  };\n  private handleBufferVisibility = () => {\n    this.setState(prev => ({\n      bufferVisibility: !prev.bufferVisibility\n    }));\n  };\n  private handleZoomIn = () => {\n    this.setState(prev => ({ zoomLevel: prev.zoomLevel !== 0 ? prev.zoomLevel - 1 : prev.zoomLevel }));\n  };\n  private handleZoomOut = () => {\n    this.setState(prev => ({ zoomLevel: prev.zoomLevel !== 3 ? prev.zoomLevel + 1 : prev.zoomLevel }));\n  };\n  private handleTerrain = () => {\n    this.setState(prev => ({\n      terrain: !prev.terrain\n    }));\n  };\n\n  public render() {\n    const { classes, data, location } = this.props;\n    const { popVisibility, bufferVisibility, zoomLevel, terrain } = this.state;\n    const tableState = location.state ? location.state.tableState : initialAppState.tableState;\n    const { edges } = data.allVenuesJson;\n    const { summary, topojson } = data.venuesJson;\n    const geojson = topofeature(topojson, topojson.objects.points);\n    const buffers = topofeature(topojson, topojson.objects.buffers).features;\n    const others = sortData(edges, tableState.ascSort, tableState.sortKey, tableState.filterRule);\n    const { name, club, slug } = summary;\n    const drawer = (\n      <DrawerInner\n        summary={summary}\n        edges={others}\n        appState={{ tableState, mapState: { popVisibility, bufferVisibility, zoomLevel, terrain } }}\n        handleDrawerToggle={this.handleDrawerToggle}\n        handleZoomIn={this.handleZoomIn}\n        handleZoomOut={this.handleZoomOut}\n        handleBufferVisibility={this.handleBufferVisibility}\n        handlePopVisibility={this.handlePopVisibility}\n        handleTerrain={this.handleTerrain}\n      />\n    );\n\n    return (\n      <div className={classes.root}>\n        <CssBaseline />\n        <Helmet>\n          <html lang=\"ja\" />\n          <title>{name}周辺の人口 | サッカースタジアムと人口</title>\n          <meta name=\"viewport\" content=\"width=device-width,initial-scale=1,minimum-scale=1,minimal-ui\" />\n          <meta name=\"description\" content={createDescriptionString(name, club)} />\n          <meta property=\"og:type\" content=\"article\" />\n          <meta property=\"og:title\" content={`${name}周辺の人口`} />\n          <meta property=\"og:image\" content=\"https://cieloazul310.github.io/img/ogp2.png\" />\n          <meta property=\"og:url\" content={`https://cieloazul310.github.io/gatsby-stadiums-population/${slug}/`} />\n          <meta property=\"og:site_name\" content=\"水戸地図\" />\n          <meta name=\"twitter:card\" content=\"summary\" />\n          <meta name=\"twitter:description\" content={createDescriptionString(name, club)} />\n          <meta name=\"apple-mobile-web-app-capable\" content=\"yes\" />\n          <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\" />\n        </Helmet>\n        <AppBar className={classes.appBar} position=\"fixed\">\n          <ToolBar>\n            <IconButton\n              className={classes.menuButton}\n              role=\"presentation\"\n              aria-owns=\"menu\"\n              aria-haspopup=\"true\"\n              onClick={this.handleDrawerToggle}\n              color=\"inherit\"\n            >\n              <Menu />\n            </IconButton>\n            <Typography color=\"inherit\" className={classes.apptitle} component=\"h1\" variant=\"h6\">\n              {name}\n            </Typography>\n            <IconButton\n              aria-owns=\"next\"\n              role=\"button\"\n              aria-haspopup=\"true\"\n              onClick={() => {\n                const currentIndex = others.map(edge => edge.node.summary.slug).indexOf(slug);\n                const next = currentIndex === others.length - 1 ? others[0] : others[currentIndex + 1];\n                navigateWithState(`/${next.node.summary.slug}/`, {\n                  tableState,\n                  mapState: { popVisibility, bufferVisibility, zoomLevel, terrain }\n                });\n              }}\n              color=\"inherit\"\n            >\n              <ArrowForward />\n            </IconButton>\n          </ToolBar>\n        </AppBar>\n        <nav className={classes.drawer}>\n          <Hidden mdUp implementation=\"css\">\n            <SwipeableDrawer\n              variant=\"temporary\"\n              open={this.state.drawerOpen}\n              onClose={this.handleDrawerToggle}\n              onOpen={this.handleDrawerToggle}\n              classes={{ paper: classes.drawerPaper }}\n            >\n              {drawer}\n            </SwipeableDrawer>\n          </Hidden>\n          <Hidden smDown implementation=\"css\">\n            <Drawer classes={{ paper: classes.drawerPaper }} variant=\"permanent\" open>\n              {drawer}\n            </Drawer>\n          </Hidden>\n        </nav>\n        <div className={classes.content}>\n          <div className={classes.autoSizerWrapper}>\n            <AutoSizer>\n              {({ width, height }) => (\n                <div>\n                  <MapApp\n                    width={width}\n                    height={height}\n                    geojson={geojson}\n                    buffers={buffers}\n                    mapState={{ popVisibility, bufferVisibility, zoomLevel, terrain }}\n                  />\n                  <Hidden implementation=\"css\" mdUp>\n                    <Fab className={classes.fabZoomIn} color=\"primary\" disabled={zoomLevel === 0} onClick={this.handleZoomIn} role=\"button\">\n                      <AddIcon />\n                    </Fab>\n                    <Fab\n                      className={classes.fabZoomOut}\n                      color=\"primary\"\n                      disabled={zoomLevel === 3}\n                      onClick={this.handleZoomOut}\n                      role=\"button\"\n                    >\n                      <RemoveIcon />\n                    </Fab>\n                  </Hidden>\n                </div>\n              )}\n            </AutoSizer>\n          </div>\n          <Container>\n            <MapLegends />\n          </Container>\n          <Container>\n            <AdBox />\n          </Container>\n          <Container>\n            <Typography component=\"h2\" variant=\"h5\" gutterBottom>\n              {name}\n            </Typography>\n          </Container>\n          <Container>\n            <Grid container className={classes.grid}>\n              <Grid item xs={12} sm={7}>\n                <ValuesTable summary={summary} />\n              </Grid>\n              <Grid item xs={12} sm={5}>\n                <AutoSizer disableHeight>\n                  {({ width }) => <Pie item={data.venuesJson.topojson.objects.buffers.geometries} width={width} />}\n                </AutoSizer>\n              </Grid>\n            </Grid>\n            {/*<Grid item xs={12} sm={12}>\n              <DirectionTable directionObject={getItemsDiff(data.venuesJson.topojson.objects.buffers.geometries)} />\n              </Grid>*/}\n          </Container>\n          {/*          <Container>\n            <ValuesTable summary={summary} />\n          </Container>\n          <div className={classes.fullWidthContainer}>\n            <DirectionApp data={data.venuesJson.topojson.objects.buffers.geometries} />\n</div>*/}\n          <Container>\n            <Attribution />\n          </Container>\n          <Container>\n            <DataAttribution />\n          </Container>\n          <Container>\n            <MapAttribution />\n            <Link to=\"/\" state={{ tableState, mapState: { popVisibility, bufferVisibility, zoomLevel } }}>\n              トップに戻る\n            </Link>\n          </Container>\n          <Container>\n            <AdBox />\n          </Container>\n        </div>\n      </div>\n    );\n  }\n}\n\n//export default withRoot(withStyles(styles)(MapPage));\nexport default withStyles(styles)(MapPage);\n\n// helper\n\nfunction createDescriptionString(name: string, club: string[]): string {\n  const intro = club[0] !== 'その他' ? `${club.join(',')} のホームスタジアム・` : '';\n  return `${intro}${name}周辺の人口を総務省統計局の国勢調査に関する地域メッシュ統計(平成27年度)から算出し、地図に表示しました。`;\n}\n\ntype DirectionObj = {\n  [key in keyof typeof Directions]: Array<{\n    radius: keyof typeof Radiuses;\n    population: number;\n    diff: number;\n  }>\n};\n\nfunction getItemsDiff(items: Array<{ properties: BufferProperties }>): DirectionObj {\n  const obj: any = {};\n  directions.forEach(direction => {\n    obj[direction] = items.map((item, index, arr) => ({\n      radius: item.properties.radius,\n      population: item.properties[direction],\n      diff: index === 0 ? item.properties[direction] : item.properties[direction] - arr[index - 1].properties[direction]\n    }));\n  });\n  return obj;\n}\n\nexport const query = graphql`\n  query($slug: String!) {\n    allVenuesJson {\n      edges {\n        node {\n          summary {\n            slug\n            name\n            club\n            shortname\n            category\n            radius1000\n            radius3000\n            radius5000\n            radius10000\n          }\n        }\n      }\n    }\n    venuesJson(fields: { slug: { eq: $slug } }) {\n      fields {\n        slug\n      }\n      summary {\n        name\n        club\n        shortname\n        category\n        radius1000\n        radius3000\n        radius5000\n        radius10000\n        slug\n      }\n      topojson {\n        type\n        transform {\n          scale\n          translate\n        }\n        objects {\n          points {\n            type\n            geometries {\n              type\n              coordinates\n              properties {\n                id\n                val\n              }\n            }\n          }\n          buffers {\n            type\n            geometries {\n              type\n              arcs\n              properties {\n                radius\n                population\n                north\n                northeast\n                east\n                southeast\n                south\n                southwest\n                west\n                northwest\n              }\n            }\n          }\n        }\n        arcs\n      }\n    }\n  }\n`;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import { navigate } from 'gatsby';\nimport { Feature, Polygon } from '@turf/helpers';\nimport { LocationProps } from '@reach/router';\n\nexport const initialAppState: AppState = {\n  tableState: {\n    ascSort: false,\n    sortKey: 3,\n    filterRule: []\n  },\n  mapState: {\n    popVisibility: true,\n    bufferVisibility: true,\n    zoomLevel: 3,\n    terrain: false\n  }\n};\n\n// gatsby navigate with strict type checking\nexport const navigateWithState = (to: string, state: AppState) => {\n  navigate(to, { state });\n};\n\nexport interface TableState {\n  readonly ascSort: boolean;\n  readonly sortKey: number;\n  readonly filterRule: string[];\n}\n\nexport interface MapState {\n  readonly popVisibility: boolean;\n  readonly bufferVisibility: boolean;\n  readonly zoomLevel: number;\n  readonly terrain?: boolean;\n}\n\nexport interface AppState {\n  tableState: TableState;\n  mapState: MapState;\n}\n\nexport interface LocationWithState extends LocationProps {\n  state: AppState | null;\n}\n\nexport interface Summary extends RadiusProps {\n  name: string;\n  club: string[];\n  category: string[];\n  shortname: string[];\n  slug: string;\n}\n\nexport interface VenueEdge {\n  node: {\n    summary: Summary;\n  };\n}\n\nexport interface BufferProperties extends DirectionProps {\n  name: string;\n  radius: number;\n  population: number;\n}\n\nexport type Buffer = Feature<Polygon, BufferProperties>;\n\nexport interface MeshProperties {\n  id: number;\n  val: number;\n}\n\nexport enum Radiuses {\n  radius1000 = 1000,\n  radius3000 = 3000,\n  radius5000 = 5000,\n  radius10000 = 10000\n}\n\nexport const radiuses: Radiuses[] = [Radiuses.radius1000, Radiuses.radius3000, Radiuses.radius5000, Radiuses.radius10000];\n\nexport const radiusKeys: Array<keyof typeof Radiuses> = ['radius1000', 'radius3000', 'radius5000', 'radius10000'];\n\nexport type RadiusProps = { [key in keyof typeof Radiuses]: number };\n\nexport enum Directions {\n  north,\n  northeast,\n  east,\n  southeast,\n  south,\n  southwest,\n  west,\n  northwest\n}\n\nexport const directions: Array<keyof typeof Directions> = [\n  'north',\n  'northeast',\n  'east',\n  'southeast',\n  'south',\n  'southwest',\n  'west',\n  'northwest'\n];\n\nexport type DirectionProps = { [key in keyof typeof Directions]: number };\n\nexport function directionToKanji(direction: keyof typeof Directions): string {\n  return direction === 'north'\n    ? '北'\n    : direction === 'northeast'\n    ? '北東'\n    : direction === 'east'\n    ? '東'\n    : direction === 'southeast'\n    ? '南東'\n    : direction === 'south'\n    ? '南'\n    : direction === 'southwest'\n    ? '南西'\n    : direction === 'west'\n    ? '西'\n    : direction === 'northwest'\n    ? '北西'\n    : '';\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import * as React from 'react';\nimport { scaleLinear, scalePow, scaleSequential } from 'd3-scale';\nimport { interpolateSpectral } from 'd3-scale-chromatic';\nimport { Feature, Point } from '@turf/helpers';\nimport { GeoProjection } from 'd3-geo';\n\nimport { MeshProperties } from '../utils/types';\n\ninterface Props {\n  feature: Feature<Point, MeshProperties>;\n  projection: GeoProjection;\n}\n\nexport const colorScale = scaleSequential(interpolateSpectral).domain([1250, 0]);\n\nexport const sizeScale = scalePow()\n  .domain([0, 1000])\n  .range([0, 8])\n  .exponent(0.5);\n\nconst MeshRect: React.FunctionComponent<Props> = (props: Props) => {\n  const { feature, projection } = props;\n  const { val } = feature.properties;\n  const center = projection(feature.geometry.coordinates);\n  const size = Math.abs(sizeScale(val) * Math.min(Math.max(1, projection.scale() / 125000), 2.5));\n\n  return (\n    <rect\n      fill={colorScale(val)}\n      fillOpacity={0.6}\n      x={center[0] - size / 2}\n      y={center[1] - size / 2}\n      width={size}\n      height={size}\n      style={{ mixBlendMode: 'multiply' }}\n    />\n  );\n};\n\nexport default MeshRect;\n","import * as React from 'react';\nimport { scaleLinear } from 'd3-scale';\n//import { interpolateSpectral } from 'd3-scale-chromatic';\nimport { arc as d3arc } from 'd3-shape';\nimport { colorScale } from './MeshFeature';\nimport { Directions, directions, Radiuses, radiuses, radiusKeys, BufferProperties } from '../utils/types';\n\ninterface Props {\n  width: number;\n  item: Array<{ properties: BufferProperties }>;\n}\n\n//const color = scaleSequential(interpolateSpectral).domain([10000, 0]);\nconst color = colorScale.copy();\ncolor.domain([...colorScale.domain()].map(d => d * 8));\nconst opacity = scaleLinear()\n  .domain([250, 0])\n  .range([1, 0]);\n\nconst Pie: React.FC<Props> = ({ width, item }: Props) => {\n  const size = width || 10;\n\n  return (\n    <svg width={size} height={size}>\n      {item.map((d, i, arr) => (\n        <g key={i} transform={`translate(${size / 2}, ${size / 2})`}>\n          {directions.map(key => {\n            const val = i === 0 ? d.properties[key] : d.properties[key] - arr[i - 1].properties[key];\n            const density = calcDensity(val, d.properties.radius);\n            const { startAngle, endAngle } = directionToAngle(Directions[key]);\n            const arc = d3arc()({\n              startAngle,\n              endAngle,\n              innerRadius: ((size - 8) * (i + 1)) / 10 + 2,\n              outerRadius: ((size - 8) * (i + 2)) / 10,\n              padAngle: 0.05\n            });\n            return (\n              <g key={key}>\n                <path key={key} d={arc || undefined} fill={color(density)} fillOpacity={opacity(density)} />\n              </g>\n            );\n          })}\n        </g>\n      ))}\n    </svg>\n  );\n};\n\nexport default Pie;\n\n// utils\nfunction directionToAngle(direction: Directions) {\n  const angle = (Math.PI * 2) / (Object.keys(Directions).length / 2);\n  return {\n    startAngle: direction * angle - angle / 2,\n    endAngle: direction * angle + angle / 2\n  };\n}\n\nfunction calcDensity(val: number, radius: Radiuses) {\n  const index = radiuses.indexOf(radius);\n  return index === 0\n    ? (val * 8) / (Math.pow(radiuses[index] / 1000, 2) * Math.PI)\n    : (val * 8) / (Math.pow(radiuses[index] / 1000, 2) * Math.PI - Math.pow(radiuses[index - 1] / 1000, 2) * Math.PI);\n}\n","import * as React from 'react';\nimport { StaticQuery, graphql } from 'gatsby';\nimport Typography from '@material-ui/core/Typography';\n\ninterface Query {\n  site: {\n    siteMetadata: {\n      title: string;\n      siteUrl: string;\n      description: string;\n      author: {\n        name: string;\n        url: string;\n        siteName: string;\n        twitter: string;\n        github: string;\n      };\n    };\n  };\n}\n\nconst Attribution: React.FunctionComponent<{}> = () => (\n  <StaticQuery\n    query={graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            siteUrl\n            description\n            author {\n              name\n              url\n              siteName\n              twitter\n              github\n            }\n          }\n        }\n      }\n    `}\n    render={(data: Query) => (\n      <section>\n        <Typography variant=\"h5\" gutterBottom>\n          {data.site.siteMetadata.title}\n        </Typography>\n        <Typography variant=\"body1\" paragraph>\n          {data.site.siteMetadata.description}\n        </Typography>\n        <Typography variant=\"body1\">\n          {`Twitter: `}\n          <a href={`https://twitter.com/${data.site.siteMetadata.author.twitter}`} target=\"_blank\" rel=\"noopener noreferrer\">{`@${\n            data.site.siteMetadata.author.twitter\n          }`}</a>\n        </Typography>\n        <Typography variant=\"body1\">\n          {`制作: `}\n          <a href={data.site.siteMetadata.author.url} target=\"_blank\" rel=\"noopener noreferrer\">\n            {data.site.siteMetadata.author.siteName}\n          </a>\n        </Typography>\n      </section>\n    )}\n  />\n);\n\nexport default Attribution;\n","import * as React from 'react';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport withStyles, { WithStyles, StyleRules } from '@material-ui/core/styles/withStyles';\nimport createStyles from '@material-ui/core/styles/createStyles';\n\nconst styles = (theme: Theme): StyleRules =>\n  createStyles({\n    root: {\n      fontFamily: theme.typography.fontFamily,\n      width: '100%',\n      maxWidth: 800,\n      margin: 'auto',\n      padding: theme.spacing.unit * 2,\n      '@global': {\n        blockquote: {\n          backgroundColor: '#f3f3f3',\n          margin: `${theme.spacing.unit * 2}px auto`,\n          padding: theme.spacing.unit * 2,\n          borderLeft: 'solid 4px #ddd',\n          borderRadius: '8px'\n        }\n      }\n    }\n  });\n\ninterface Props extends WithStyles<typeof styles> {\n  children: JSX.Element[] | JSX.Element;\n}\n\nconst Container: React.FC<Props> = (props: Props) => <div className={props.classes.root}>{props.children}</div>;\n\nexport default withStyles(styles)(Container);\n","import * as React from 'react';\nimport Typography from '@material-ui/core/Typography';\n\nconst DataAttribution: React.FC<{}> = () => (\n  <section>\n    <Typography variant=\"h5\" gutterBottom>\n      データについて\n    </Typography>\n    <Typography variant=\"body1\" paragraph>\n      {'人口データは総務省統計局の地域メッシュ統計を点データに変換したものを用いています。'}\n    </Typography>\n    <blockquote>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        地域メッシュ統計とは\n      </Typography>\n      <Typography variant=\"body1\" paragraph>\n        {\n          '地域メッシュ統計とは，緯度・経度に基づき地域を隙間なく網の目（メッシュ）の区域に分けて，それぞれの区域に関する統計データを編成したものです。'\n        }\n      </Typography>\n      <Typography variant=\"body2\">\n        引用元: <a href=\"https://www.stat.go.jp/data/mesh/m_tuite.html\">総務省統計局</a>\n      </Typography>\n    </blockquote>\n    <Typography variant=\"body1\" paragraph>\n      {'国勢調査 2015年 5次メッシュ(250mメッシュ) その1 人口等基本集計に関する事項'}\n    </Typography>\n    <ul>\n      <Typography variant=\"body1\" component=\"li\" style={{ overflowWrap: 'break-word' }}>\n        {'URL: '}\n        <a\n          href=\"https://www.e-stat.go.jp/gis/statmap-search?page=1&type=1&toukeiCode=00200521&toukeiYear=2015&aggregateUnit=Q&serveyId=Q002005112015&statsId=T000876\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {'地域メッシュ統計'}\n        </a>\n      </Typography>\n    </ul>\n    <Typography variant=\"h5\" gutterBottom>\n      距離円と人口データの計算\n    </Typography>\n    <Typography variant=\"body1\" paragraph>\n      {'距離円および距離円に含まれる人口データは JavaScript ライブラリである Turf.js で算出しました。'}\n    </Typography>\n    <Typography variant=\"body1\">\n      <a href=\"https://turfjs.org/\">Turf.js</a>\n    </Typography>\n  </section>\n);\n\nconst MapAttribution: React.FC<{}> = () => (\n  <section>\n    <Typography variant=\"h5\" gutterBottom>\n      地図について\n    </Typography>\n    <Typography variant=\"body1\" paragraph>\n      {'背景地図には国土地理院の地理院タイルを使用しています。標準モードでは電子国土基本図、地形モードでは傾斜量図を表示しています。'}\n    </Typography>\n    <blockquote>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        電子国土基本図\n      </Typography>\n      <Typography variant=\"body1\" paragraph>\n        {\n          '電子国土基本図（地図情報）とは、道路、建物などの電子地図上の位置の基準である項目（基盤地図情報の取得項目）と、植生、崖、岩、構造物などの土地の状況を表す項目とを一つにまとめたデータです。電子国土基本図（地図情報）は、縮尺レベル25000の精度に限定することなく、より精度の高いものを含んだ我が国全域を覆うベクトル形式の基盤データで、これまでの2万5千分1地形図に替わる新たな基本図と位置づけられるものです。'\n        }\n      </Typography>\n      <Typography variant=\"body2\">\n        引用元: <a href=\"http://www.gsi.go.jp/kibanjoho/mapinfo_what.html\">国土地理院</a>\n      </Typography>\n    </blockquote>\n    <blockquote>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        傾斜量図\n      </Typography>\n      <Typography variant=\"body1\" paragraph>\n        {\n          '地表面の傾きの量を算出し、その大きさを白黒の濃淡で表現したものです。白いほど傾斜が緩やか、黒いほど急峻であることを意味します。台地、段丘、山地、火山地形、地すべり、断層などの地形判読などにご活用いただけます。'\n        }\n      </Typography>\n      <Typography variant=\"body2\">\n        引用元: <a href=\"http://www.gsi.go.jp/bousaichiri/slopemap.html\">国土地理院</a>\n      </Typography>\n    </blockquote>\n  </section>\n);\n\nexport { DataAttribution, MapAttribution };\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0xMiAyQzguMTMgMiA1IDUuMTMgNSA5YzAgNS4yNSA3IDEzIDcgMTNzNy03Ljc1IDctMTNjMC0zLjg3LTMuMTMtNy03LTd6bTAiIGZpbGw9IiMwMDkxRUEiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgPHBhdGggZD0iTTEyIDExLjVjLTEuMzggMC0yLjUtMS4xMi0yLjUtMi41czEuMTItMi41IDIuNS0yLjUgMi41IDEuMTIgMi41IDIuNS0xLjEyIDIuNS0yLjUgMi41eiIgZmlsbD0id2hpdGUiLz4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz4KPC9zdmc+Cg==\""],"sourceRoot":""}